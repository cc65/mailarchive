<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] .align</title>
<meta name="Author" content="Tim Vanderhoek (vanderh_at_ecf.utoronto.ca)">
<meta name="Subject" content="Re: [cc65] .align">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] .align</h1>
<!-- received="Sun Feb  6 18:01:56 2000" -->
<!-- isoreceived="20000206170156" -->
<!-- sent="Sun, 6 Feb 2000 11:21:03 -0500" -->
<!-- isosent="20000206162103" -->
<!-- name="Tim Vanderhoek" -->
<!-- email="vanderh_at_ecf.utoronto.ca" -->
<!-- subject="Re: [cc65] .align" -->
<!-- id="20000206112102.A81111@ppp1286.on.bellglobal.com" -->
<!-- inreplyto="200002060740.IAA01642@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Tim Vanderhoek (<a href="mailto:vanderh_at_ecf.utoronto.ca?Subject=Re:%20[cc65]%20.align"><em>vanderh_at_ecf.utoronto.ca</em></a>)<br>
<strong>Date:</strong> 2000-02-06 17:21:03
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0052.html">Ullrich von Bassewitz: "Re: [cc65] .align"</a>
<li><strong>Previous message:</strong> <a href="0050.html">Ullrich von Bassewitz: "Re: [cc65] scanf"</a>
<li><strong>In reply to:</strong> <a href="0048.html">Ullrich von Bassewitz: "Re: [cc65] .align"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0052.html">Ullrich von Bassewitz: "Re: [cc65] .align"</a>
<li><strong>Reply:</strong> <a href="0052.html">Ullrich von Bassewitz: "Re: [cc65] .align"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Sun, Feb 06, 2000 at 08:40:25AM +0100, Ullrich von Bassewitz wrote:
&gt; 
&gt; This works in my tests. Can you send me the linker config file that is
&gt; causing you problems?

It's the assembler that does the alignment in these cases.  It doesn't
read the linker Config file so it has no way of knowing better.

It's not really causing me problems --- it fills maybe 15 bytes with
0x00 instead of 0xff, which really is not a problem.  :)

Here, this should illustrate:

Config:

MEMORY {
	ROM1:	start = $E000, size = $2000, fill=yes, fillval=$ff,
		file=&quot;rom1.bin&quot;;
}

SEGMENTS {
	CODE:    load = ROM1, type = ro, align=32;
}

asm.s

label:
.word	$aaaa
.word	$aaaa
.word	$aaaa
.align 32
.word	$bbbb
.word	$bbbb
.word	$bbbb

$ ca65 asm.s
$ ld65 -C Config -vm -mmap asm.o
$ hd rom1.bin
00000000  aa aa aa aa aa aa 00 00  00 00 00 00 00 00 00 00  |................|
00000010  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000020  bb bb bb bb bb bb ff ff  ff ff ff ff ff ff ff ff  |................|
00000030  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff  |................|
*
00002000


-- 
Signature withheld by request of author.
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20.align">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0052.html">Ullrich von Bassewitz: "Re: [cc65] .align"</a>
<li><strong>Previous message:</strong> <a href="0050.html">Ullrich von Bassewitz: "Re: [cc65] scanf"</a>
<li><strong>In reply to:</strong> <a href="0048.html">Ullrich von Bassewitz: "Re: [cc65] .align"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0052.html">Ullrich von Bassewitz: "Re: [cc65] .align"</a>
<li><strong>Reply:</strong> <a href="0052.html">Ullrich von Bassewitz: "Re: [cc65] .align"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:35 CET</em>
</em>
</small>
</body>
</html>
