<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] .align</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] .align">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] .align</h1>
<!-- received="Sun Feb  6 18:31:16 2000" -->
<!-- isoreceived="20000206173116" -->
<!-- sent="Sun, 6 Feb 2000 18:30:57 +0100 (CET)" -->
<!-- isosent="20000206173057" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] .align" -->
<!-- id="200002061730.SAA02063@trixie.musoftware.de" -->
<!-- inreplyto="20000206112102.A81111@ppp1286.on.bellglobal.com" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20.align"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2000-02-06 18:30:57
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0053.html">Ullrich von Bassewitz: "[cc65] FTP abuse"</a>
<li><strong>Previous message:</strong> <a href="0051.html">Tim Vanderhoek: "Re: [cc65] .align"</a>
<li><strong>In reply to:</strong> <a href="0051.html">Tim Vanderhoek: "Re: [cc65] .align"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
&gt; It's the assembler that does the alignment in these cases.  It doesn't
&gt; read the linker Config file so it has no way of knowing better.

Ok, that makes sense. When using .align, the assembler inserts as many bytes
as needed and marks the segment in the object file, so that the linker can
align the start address.

&gt; It's not really causing me problems --- it fills maybe 15 bytes with
&gt; 0x00 instead of 0xff, which really is not a problem.  :)

It is no problem to add this. I will add an optional second argument to
.align to specify a fill value. The .res directive has such a second
argument, so adding one to .align make the command set more orthogonal. If
there is no second argument, a special fill fragment will be created so that
the linker can emit bytes with the correct value.

I will send you the patch for testing as soon as it is finished.

Regards


	Uz


--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20.align">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20.align">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0053.html">Ullrich von Bassewitz: "[cc65] FTP abuse"</a>
<li><strong>Previous message:</strong> <a href="0051.html">Tim Vanderhoek: "Re: [cc65] .align"</a>
<li><strong>In reply to:</strong> <a href="0051.html">Tim Vanderhoek: "Re: [cc65] .align"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:35 CET</em>
</em>
</small>
</body>
</html>
