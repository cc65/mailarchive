<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: [cc65] cc65 #if bug</title>
<meta name="Author" content="Tim Vanderhoek (vanderh_at_ecf.utoronto.ca)">
<meta name="Subject" content="[cc65] cc65 #if bug">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>[cc65] cc65 #if bug</h1>
<!-- received="Wed Mar  8 12:02:37 2000" -->
<!-- isoreceived="20000308110237" -->
<!-- sent="Wed, 8 Mar 2000 05:06:10 -0500" -->
<!-- isosent="20000308100610" -->
<!-- name="Tim Vanderhoek" -->
<!-- email="vanderh_at_ecf.utoronto.ca" -->
<!-- subject="[cc65] cc65 #if bug" -->
<!-- id="20000308050610.A5432@ppp1186.on.bellglobal.com" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Tim Vanderhoek (<a href="mailto:vanderh_at_ecf.utoronto.ca?Subject=Re:%20[cc65]%20cc65%20#if%20bug"><em>vanderh_at_ecf.utoronto.ca</em></a>)<br>
<strong>Date:</strong> 2000-03-08 11:06:10
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0065.html">Ullrich von Bassewitz: "[cc65] Atari port of cc65"</a>
<li><strong>Previous message:</strong> <a href="0063.html">Nikkinen: "Re: [cc65] ld65 Config Question"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0066.html">Ullrich von Bassewitz: "Re: [cc65] cc65 #if bug"</a>
<li><strong>Reply:</strong> <a href="0066.html">Ullrich von Bassewitz: "Re: [cc65] cc65 #if bug"</a>
<li><strong>Reply:</strong> <a href="0067.html">Ullrich von Bassewitz: "Re: [cc65] cc65 #if bug"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
b$ cat bug.c

static char c;

void
f(void)
{
	c |= 8;
#if 0
#endif
}

b$ cc65-240 bug.c
b$ cat bug.s

; File generated by cc65 v 2.4.0

.fopt		compiler,&quot;cc65 v 2.4.0&quot;

.autoimport	+
.case		+
.debuginfo	-
.importzp	sp, sreg, regsave, regbank, tmp1, ptr1
.macpack	longbranch

.macro  ldax    Value
        lda     #&lt;(Value)
        ldx     #&gt;(Value)
.endmacro

.segment	&quot;BSS&quot;
_c:
	.res	1
.segment	&quot;CODE&quot;
_f:
	ldx	#$00
	lda	_c+0
	jsr	pushax
	ldx	#$00
	sta	_c+0
	rts

	.export		_f


[As an aside: I'm sorry I haven't had a chance to test the new
 load/run extenstion to the linker].


-- 
Signature withheld by request of author.
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20cc65%20#if%20bug">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0065.html">Ullrich von Bassewitz: "[cc65] Atari port of cc65"</a>
<li><strong>Previous message:</strong> <a href="0063.html">Nikkinen: "Re: [cc65] ld65 Config Question"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0066.html">Ullrich von Bassewitz: "Re: [cc65] cc65 #if bug"</a>
<li><strong>Reply:</strong> <a href="0066.html">Ullrich von Bassewitz: "Re: [cc65] cc65 #if bug"</a>
<li><strong>Reply:</strong> <a href="0067.html">Ullrich von Bassewitz: "Re: [cc65] cc65 #if bug"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:35 CET</em>
</em>
</small>
</body>
</html>
