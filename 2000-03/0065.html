<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: [cc65] Atari port of cc65</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="[cc65] Atari port of cc65">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>[cc65] Atari port of cc65</h1>
<!-- received="Wed Mar  8 21:36:08 2000" -->
<!-- isoreceived="20000308203608" -->
<!-- sent="Wed, 8 Mar 2000 21:35:47 +0100 (CET)" -->
<!-- isosent="20000308203547" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="[cc65] Atari port of cc65" -->
<!-- id="200003082035.VAA13687@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Atari%20port%20of%20cc65"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2000-03-08 21:35:47
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0066.html">Ullrich von Bassewitz: "Re: [cc65] cc65 #if bug"</a>
<li><strong>Previous message:</strong> <a href="0064.html">Tim Vanderhoek: "[cc65] cc65 #if bug"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
									 
The following message was directed to the list, but bounced because it had
some archive files as attachments and was larger than the maximum allowed size
of 400000 bytes. I have placed the archives on the musoftware ftp server:

	<a href="ftp://www.musoftware.de/pub/uz/cc65/atari/">ftp://www.musoftware.de/pub/uz/cc65/atari/</a>

Thanks a lot!


Original message was:
------------------------------------------------------------------------
From: Mark Keates &lt;<a href="mailto:markk_at_dendrite.co.uk?Subject=Re:%20[cc65]%20Atari%20port%20of%20cc65">markk_at_dendrite.co.uk</a>&gt;
To: &quot;'CC65 Mailing'&quot; &lt;<a href="mailto:cc65_at_musoftware.de?Subject=Re:%20[cc65]%20Atari%20port%20of%20cc65">cc65_at_musoftware.de</a>&gt;
Subject: Atari port of CC65
Date: Wed, 8 Mar 2000 09:23:59 -0500

Dear all,

The current state of the Atari library is attached as follows:

includes.zip : contains atari.h and an updated conio.h
to simply include the atari.h header. Extract this
to the include folder.

atarilib.zip : source code for lib/atari (clear this first).
You'll need to update the Makefile in the lib folder to
include an atarilib section as follows:

atarilib:
	export CFLAGS=&quot;-Osir -g -t atari -I../../include&quot;;\
	for i in atari common runtime conio dbg ; do \
	    $(MAKE) -C $$i;\
	done
	mv atari/crt0.o atari.o
	for i in atari common runtime conio dbg ; do \
	    $(AR) a atari.lib $$i/*.o;\
	done

(Note: Its also a good idea to run a clean in each of the library
subfolders too!)

hello.zip: Example file. Modified to set the colours AFTER the
clear-screen. (this is currently a Gr.0 rather that an actual
clear) and I've shrunk the X border by 2 to stop the screen corrupting
after displaying the the 39th column. 'Make' the program 'hello'
and then run it through Atari800Win using the 'Load from file' option.

We have settled on the following memory layout (for now)
which you can build into your LD65 by defining 'CfgAtari' in
'target.c' and rebuilding:

static const char CfgAtari [] =
    &quot;MEMORY { RAM: start = $1FFA, size = $6006, file = %O, define = yes; }&quot;
    &quot;SEGMENTS { &quot;
        &quot;CODE: load = RAM, type = ro;&quot;
        &quot;RODATA: load = RAM, type = ro;&quot;
        &quot;DATA: load = RAM, type = rw;&quot;
        &quot;BSS: load = RAM, type = bss, define = yes;&quot;
    &quot;}&quot;;

Let me know how you get on.

Regards,

Mark Keates.

 &lt;&lt;atarilib.zip&gt;&gt;  &lt;&lt;hello.zip&gt;&gt;  &lt;&lt;includes.zip&gt;&gt;

--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Atari%20port%20of%20cc65">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Atari%20port%20of%20cc65">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0066.html">Ullrich von Bassewitz: "Re: [cc65] cc65 #if bug"</a>
<li><strong>Previous message:</strong> <a href="0064.html">Tim Vanderhoek: "[cc65] cc65 #if bug"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:35 CET</em>
</em>
</small>
</body>
</html>
