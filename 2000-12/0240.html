<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] First steps</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] First steps">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] First steps</h1>
<!-- received="Sun Dec 31 08:18:32 2000" -->
<!-- isoreceived="20001231071832" -->
<!-- sent="Sun, 31 Dec 2000 08:18:32 +0100" -->
<!-- isosent="20001231071832" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] First steps" -->
<!-- id="20001231081832.A13027@trixie.musoftware.de" -->
<!-- inreplyto="20001230.180018.22710.1.tbsilvey@juno.com" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20First%20steps"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2000-12-31 08:18:32
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0241.html">Ullrich von Bassewitz: "Re: [cc65] rand"</a>
<li><strong>Previous message:</strong> <a href="0239.html">Mirco Miranda: "Re: [cc65] OS/2 porting"</a>
<li><strong>In reply to:</strong> <a href="0237.html">troy silvey: "Re: [cc65] First steps"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="../2001-01/0246.html">troy silvey: "[cc65] info request"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Sat, Dec 30, 2000 at 06:00:17PM -0500, troy silvey wrote:
&gt; I am curious if you have a smaller faster program when you
&gt; compile if you use some thing like.....
&gt;
&gt; #define sprite1_x	 *((unsigned char*) 0xD000)
&gt;
&gt; main()
&gt; 	....
&gt; 	sprite_x=0x00
&gt;
&gt; instead of using pointers.

This *is* using pointers. The #define says

&quot;Handle the numeric value 0xD000 as a pointer to an unsigned char, then
dereference this pointer&quot;.

&gt; In the end, does the compiler see both the define substitution
&gt; and pointer use equal? Or will one give tigher code than the other?

The #define is substituted in an early stage, so what the compiler will see is
actually

	*((unsigned char*) 0xD000) = 0x00;

Memory access to fixed absolute addresses is one area where the compiler is
quite good, so you don't have to care about the generate code. For long
sequences with several memory accesses, it may be possible to save a byte here
and there with handcoded assembler, but it's usually not worth the effort.
Just have a look at the generated assembler code yourself.

&gt; I was thinking that the structure allocation would use more
&gt; code and space when compiled though.

They get translated into the same assembler code, since the base address of
the structure is a constant, and the field offsets are also constant. So you
may use what you think is most readable.

&gt; I'm thinking  with  more manual manipulation on my
&gt; part, it  might save space and execution time for the code.
&gt; Do you think it could, or am I wasting my time?

There are areas where this is true for cc65, but in the case you've choosen,
you're mostly wasting your time.

Regards


    	Uz


--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20First%20steps">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20First%20steps">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0241.html">Ullrich von Bassewitz: "Re: [cc65] rand"</a>
<li><strong>Previous message:</strong> <a href="0239.html">Mirco Miranda: "Re: [cc65] OS/2 porting"</a>
<li><strong>In reply to:</strong> <a href="0237.html">troy silvey: "Re: [cc65] First steps"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="../2001-01/0246.html">troy silvey: "[cc65] info request"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:37 CET</em>
</em>
</small>
</body>
</html>
