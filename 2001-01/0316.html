<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65]zero page</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65]zero page">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65]zero page</h1>
<!-- received="Sat Jan  6 17:00:27 2001" -->
<!-- isoreceived="20010106160027" -->
<!-- sent="Sat, 6 Jan 2001 17:00:31 +0100" -->
<!-- isosent="20010106160031" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65]zero page" -->
<!-- id="20010106170031.A4427@trixie.musoftware.de" -->
<!-- inreplyto="14935.15605.674433.27064@panini.cling.gu.se" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]zero%20page"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2001-01-06 17:00:31
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0317.html">troy silvey: "Re: [cc65]zero page"</a>
<li><strong>Previous message:</strong> <a href="0315.html">MagerValp: "Re: [cc65]zero page"</a>
<li><strong>In reply to:</strong> <a href="0315.html">MagerValp: "Re: [cc65]zero page"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0322.html">MagerValp: "Re: [cc65]zero page"</a>
<li><strong>Reply:</strong> <a href="0322.html">MagerValp: "Re: [cc65]zero page"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Sat, Jan 06, 2001 at 04:42:45PM +0100, MagerValp wrote:
&gt; UvB&gt; The runtime and C libraries use 24 zero page locations. 6 are
&gt; UvB&gt; used by the C code directly, another 12 are used by the runtime
&gt; UvB&gt; and C library for pointers and other stuff, and 6 are reserved
&gt; UvB&gt; for register variables (currently not available but used in the
&gt; UvB&gt; library here and there).
&gt;
&gt; So, which ones are free for us that want to mix asm with C?

If your assembler code does not call any library routines itself, you may
freely use ptr1-4 and tmp1-4 (12 bytes total), plus the sreg variable with
some precautions (it contains the high word for long values). The routines
most likely used by your code, namely popa, popax and all incspxx functions do
not use any of these zero page locations, so you may use these routines to
retrieve parameters from the stack. 12-14 bytes should be enough for most
purposes. But beware: if you are calling other library routines, the contents
of these zero page locations may get destroyed!

If this is not enough, you may use the 6 bytes regbank, but you have to save
it before use and restore the contents afterwards. Using the 6 bytes regbank
has the advantage that all subroutines will save the contents, so these
locations may be used safely when calling other library routines.

Regards


	Uz


--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]zero%20page">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]zero%20page">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0317.html">troy silvey: "Re: [cc65]zero page"</a>
<li><strong>Previous message:</strong> <a href="0315.html">MagerValp: "Re: [cc65]zero page"</a>
<li><strong>In reply to:</strong> <a href="0315.html">MagerValp: "Re: [cc65]zero page"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0322.html">MagerValp: "Re: [cc65]zero page"</a>
<li><strong>Reply:</strong> <a href="0322.html">MagerValp: "Re: [cc65]zero page"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:38 CET</em>
</em>
</small>
</body>
</html>
