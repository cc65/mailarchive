<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65]Asm in CC65</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65]Asm in CC65">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65]Asm in CC65</h1>
<!-- received="Mon Jan  8 08:59:26 2001" -->
<!-- isoreceived="20010108075926" -->
<!-- sent="Mon, 8 Jan 2001 08:59:26 +0100" -->
<!-- isosent="20010108075926" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65]Asm in CC65" -->
<!-- id="20010108085926.A25989@trixie.musoftware.de" -->
<!-- inreplyto="20010107.183530.15518.0.tbsilvey@juno.com" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]Asm%20in%20CC65"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2001-01-08 08:59:26
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0339.html">tony fu: "[cc65] meaning of &quot;bss&quot; and &quot;data&quot; in the library files"</a>
<li><strong>Previous message:</strong> <a href="0337.html">troy silvey: "Re: [cc65]Asm in CC65"</a>
<li><strong>In reply to:</strong> <a href="0337.html">troy silvey: "Re: [cc65]Asm in CC65"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0347.html">troy silvey: "Re: [cc65]Asm in CC65"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Good morning!

On Sun, Jan 07, 2001 at 06:35:30PM -0500, troy silvey wrote:
&gt; Ok that makes sense now. But when I use the following definition,
&gt; the compiler tells me I have too many characters.....
&gt; #define	CLS()	__asm__(&quot;/tjsr/t$e544&quot;);	//C64 clear
&gt; screen routine//

You have to use backslashes, not forward slashes. &quot;\t&quot; is a tab, &quot;/t&quot; is the
string &quot;/t&quot;, so the assembler gets an invalid line and complains.

&gt; In the html docs you have a longer literal string in one of the funtion
&gt; calls.
&gt; #define hi(x) (__AX__=(x),asm(&quot;\ttxa\n\tldx\t#$00&quot;,__AX__)
&gt; Is there a difference, or am I still doing something wrong?

You may use __asm__ statements that span several lines. In this case I'm
embedding a newline (&quot;\n&quot;) into the string that is output into the assembler
source. The header and trailer statements in this line are for the compiler.
The first one loads the macro argument into the A and X registers, so it may
be used by the following assembler code, the last one tells the compiler that
the statement has a value and that this value is again in the A and X
registers.

See the ctype.h header file for more macros of this type.

Regards


	Uz


--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]Asm%20in%20CC65">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]Asm%20in%20CC65">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0339.html">tony fu: "[cc65] meaning of &quot;bss&quot; and &quot;data&quot; in the library files"</a>
<li><strong>Previous message:</strong> <a href="0337.html">troy silvey: "Re: [cc65]Asm in CC65"</a>
<li><strong>In reply to:</strong> <a href="0337.html">troy silvey: "Re: [cc65]Asm in CC65"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0347.html">troy silvey: "Re: [cc65]Asm in CC65"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:38 CET</em>
</em>
</small>
</body>
</html>
