<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] scanf ?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] scanf ?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] scanf ?</h1>
<!-- received="Fri Feb 23 08:15:21 2001" -->
<!-- isoreceived="20010223071521" -->
<!-- sent="Fri, 23 Feb 2001 08:15:21 +0100" -->
<!-- isosent="20010223071521" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] scanf ?" -->
<!-- id="20010223081521.A12432@trixie.musoftware.de" -->
<!-- inreplyto="20010222.224325.13902.0.tbsilvey@juno.com" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20scanf%20?"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2001-02-23 08:15:21
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0387.html">troy silvey: "Re: [cc65] scanf ?"</a>
<li><strong>Previous message:</strong> <a href="0385.html">troy silvey: "Re: [cc65] scanf ?"</a>
<li><strong>In reply to:</strong> <a href="0385.html">troy silvey: "Re: [cc65] scanf ?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0393.html">Andre Majorel: "Re: [cc65] scanf ?"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Thu, Feb 22, 2001 at 10:42:33PM -0500, troy silvey wrote:
&gt; I havn't  found that printf adds much to my compiled code.
&gt; In one my first sample programs (about 1.75k of code text) the
&gt; compiled program was barley 3k. I'm still working with that
&gt; first program, adding features and functions including printf
&gt; andgetchar. The code text has grown to  5.7k  of code text while
&gt; the executable is 5.8k. Would scanf immediatly add 8k to the
&gt; compiled executable?

This is why I said &quot;Before the rewrite for version 2.6&quot;. The first version of
printf was written completely in C, a hello world type program had a size of
about 5K. After some optimizations to the C code, this dropped to somewhat
more than 4K. For version 2.6, several functions (including printf) were
rewritten in assembler, a &quot;hello world&quot; program is now about 2.5K.

Since printf references lots of stuff that may get reused in larger programs
(ctype, strlen, strlower, ultoa, ...) the overhead is usually lower for larger
programs, since such programs tend to use these routines independent of
printf.

The 8K number for scanf is just an estimate for a first version written
completely in C. It's based on the fact that scanf is even more complex than
printf. But it's an estimate and it may be wrong. It may also be possible to
get lower numbers by size optimizations or a rewrite in assembler, but I
won't do that for the first version. It is usually easier to rewrite existing
C code in assembler, than to write it in assembler from scratch.

Regards


	Uz


--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20scanf%20?">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20scanf%20?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0387.html">troy silvey: "Re: [cc65] scanf ?"</a>
<li><strong>Previous message:</strong> <a href="0385.html">troy silvey: "Re: [cc65] scanf ?"</a>
<li><strong>In reply to:</strong> <a href="0385.html">troy silvey: "Re: [cc65] scanf ?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0393.html">Andre Majorel: "Re: [cc65] scanf ?"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:39 CET</em>
</em>
</small>
</body>
</html>
