<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] c64 question</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] c64 question">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] c64 question</h1>
<!-- received="Sat Mar 10 11:02:33 2001" -->
<!-- isoreceived="20010310100233" -->
<!-- sent="Sat, 10 Mar 2001 11:02:35 +0100" -->
<!-- isosent="20010310100235" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] c64 question" -->
<!-- id="20010310110235.A28907@trixie.musoftware.de" -->
<!-- inreplyto="Pine.GSO.3.95.1010310103933.353A-100000@peppar.cs.umu.se" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20c64%20question"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2001-03-10 11:02:35
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0442.html">daniel pralle: "Re: [cc65] c64 question"</a>
<li><strong>Previous message:</strong> <a href="0440.html">Arvid Norberg: "Re: [cc65] c64 question"</a>
<li><strong>In reply to:</strong> <a href="0440.html">Arvid Norberg: "Re: [cc65] c64 question"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0444.html">Arvid Norberg: "Re: [cc65] c64 question"</a>
<li><strong>Reply:</strong> <a href="0444.html">Arvid Norberg: "Re: [cc65] c64 question"</a>
<li><strong>Reply:</strong> <a href="0449.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Sat, Mar 10, 2001 at 10:53:33AM +0100, Arvid Norberg wrote:
&gt; I see what you mean. But isn't the stack pointer increamented
&gt; automatically by pha?

The hardware stack of the 6502 (in page 1) is really limited. 256 bytes are
right to nothing for a high level language. Assume you have a C function with
50 bytes of parameters and local variables (which is not much). Five recursive
calls to this function plus an interrupt would then blow up the stack.

So cc65 is actually using two stacks: For return addresses, the hardware stack
is used. For function parameters, local variables and other stuff, a separate
software stack (also called &quot;C stack&quot;) is used.

What I was talking about is the software stack. To manage this stack, the
runtime modules use a software stack pointer located in the zero page.
Incrementing or decrementing this variable is no atomic operation, so there is
a problem with reentrancy.

Regards


	Uz


--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20c64%20question">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20c64%20question">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0442.html">daniel pralle: "Re: [cc65] c64 question"</a>
<li><strong>Previous message:</strong> <a href="0440.html">Arvid Norberg: "Re: [cc65] c64 question"</a>
<li><strong>In reply to:</strong> <a href="0440.html">Arvid Norberg: "Re: [cc65] c64 question"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0444.html">Arvid Norberg: "Re: [cc65] c64 question"</a>
<li><strong>Reply:</strong> <a href="0444.html">Arvid Norberg: "Re: [cc65] c64 question"</a>
<li><strong>Reply:</strong> <a href="0449.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:39 CET</em>
</em>
</small>
</body>
</html>
