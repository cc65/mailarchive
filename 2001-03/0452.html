<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] c64 question</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] c64 question">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] c64 question</h1>
<!-- received="Mon Mar 19 21:16:06 2001" -->
<!-- isoreceived="20010319201606" -->
<!-- sent="Mon, 19 Mar 2001 21:16:08 +0100" -->
<!-- isosent="20010319201608" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] c64 question" -->
<!-- id="20010319211608.B10504@trixie.musoftware.de" -->
<!-- inreplyto="Pine.SOL.4.10.10103191322500.16438-100000@sun1307.ssd.usa.alcatel.com" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20c64%20question"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2001-03-19 21:16:08
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0453.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<li><strong>Previous message:</strong> <a href="0451.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<li><strong>In reply to:</strong> <a href="0451.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0453.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<li><strong>Reply:</strong> <a href="0453.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Mon, Mar 19, 2001 at 01:25:43PM -0600, Mike McCarty wrote:
&gt; &gt; But that's another 4 cycles for each and every stack operation. C is
&gt; &gt; quite stack intensive.
&gt;
&gt; Depends on how it is implemented.

I remember having discussed this some time ago. Anyway...

4 cycles is the time needed to execute a cli/sei pair. So it would be really
interesting to see an implementation needing less than this. And a &quot;perfect&quot;
implementation would not assume that interrupts are enabled on entry, so the
flags register has to be saved and restored later, which makes it 9 cycles
instead of just 4.

&gt; Also, one could use a pragma to turn on/off the extra code.

Since the code is buried in the library, a #pragma would not work. One would
have to generate and maintain two different libraries to link against. Each
platform would need an additional library file.

Maybe I would give it a second thought if there weren't a better solution.
I've already suggested to use a wrapper function, and there's already an
implementation of it. Ok, it's for the BRK stuff instead of IRQ, but this is
really similar. The wrapper solution has none of the disadvantages mentioned,
and it is easy to use and to maintain. So why not use it?

Regards


	Uz


--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20c64%20question">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20c64%20question">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0453.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<li><strong>Previous message:</strong> <a href="0451.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<li><strong>In reply to:</strong> <a href="0451.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0453.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<li><strong>Reply:</strong> <a href="0453.html">Mike McCarty: "Re: [cc65] c64 question"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:39 CET</em>
</em>
</small>
</body>
</html>
