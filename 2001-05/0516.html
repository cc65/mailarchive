<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Question about 65816</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Question about 65816">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Question about 65816</h1>
<!-- received="Tue May 29 18:06:41 2001" -->
<!-- isoreceived="20010529160641" -->
<!-- sent="Tue, 29 May 2001 18:06:45 +0200" -->
<!-- isosent="20010529160645" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Question about 65816" -->
<!-- id="20010529180645.B14343@trixie.musoftware.de" -->
<!-- inreplyto="6FE38E8E2879D41199A10090273BEF3A017CA35D@srbradshaw.lss.emc.com" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Question%20about%2065816"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2001-05-29 18:06:45
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0517.html">shubel, paul: "RE: [cc65] Question about 65816"</a>
<li><strong>Previous message:</strong> <a href="0515.html">Ullrich von Bassewitz: "Re: [cc65] Segments and banking"</a>
<li><strong>In reply to:</strong> <a href="0514.html">shubel, paul: "[cc65] Question about 65816"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0517.html">shubel, paul: "RE: [cc65] Question about 65816"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Tue, May 29, 2001 at 11:08:01AM -0400, shubel, paul wrote:
&gt; Question:  How about operations that don't involve registers?
&gt; Can I still do a load accumulator with a 24-bit absolute address?

As far as I know this will not work. But you may switch the 816 into native
mode, and it will execute all existing code with no problems. In this mode,
the additional instructions and addressing modes are available. The only thing
to keep in mind is that if you're switching the registers to 16 bit, interrupt
handlers written for the 6502 will not work, because the registers will be 16
bit wide on entry.

Elite 128 will switch an 816 into native mode if one is found. The only
difference in the code is that the interrupt handler has an additional
instruction like this:

	IRQ816: sep     #$30                    ; Set registers to 8 bit
	IRQ:    pha
		txa
		pha
		lda     $01
		and     #RAMONLY
		ora     #(LORAM | IOEN)
		sta     $01

All other code (except special 816 routines of course) is written for the 6502
but runs on the 816 without problems.

You may have to add additional code to save and restore the bank registers if
you use them, but if your code is located in the first 64K this is not a
problem.

Regards


        Uz
	
	
--
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Question%20about%2065816">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Question%20about%2065816">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0517.html">shubel, paul: "RE: [cc65] Question about 65816"</a>
<li><strong>Previous message:</strong> <a href="0515.html">Ullrich von Bassewitz: "Re: [cc65] Segments and banking"</a>
<li><strong>In reply to:</strong> <a href="0514.html">shubel, paul: "[cc65] Question about 65816"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0517.html">shubel, paul: "RE: [cc65] Question about 65816"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:40 CET</em>
</em>
</small>
</body>
</html>
