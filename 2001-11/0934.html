<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] ca65 syntax problems</title>
<meta name="Author" content="Mike McCarty (jmccarty_at_ssd.usa.alcatel.com)">
<meta name="Subject" content="Re: [cc65] ca65 syntax problems">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] ca65 syntax problems</h1>
<!-- received="Wed Nov  7 17:41:05 2001" -->
<!-- isoreceived="20011107164105" -->
<!-- sent="Wed, 7 Nov 2001 10:39:55 -0600 (CST)" -->
<!-- isosent="20011107163955" -->
<!-- name="Mike McCarty" -->
<!-- email="jmccarty_at_ssd.usa.alcatel.com" -->
<!-- subject="Re: [cc65] ca65 syntax problems" -->
<!-- id="Pine.SOL.4.10.10111071033280.867-100000@sun1307.ssd.usa.alcatel.com" -->
<!-- inreplyto="20011107115633.B3834@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Mike McCarty (<a href="mailto:jmccarty_at_ssd.usa.alcatel.com?Subject=Re:%20[cc65]%20ca65%20syntax%20problems"><em>jmccarty_at_ssd.usa.alcatel.com</em></a>)<br>
<strong>Date:</strong> 2001-11-07 17:39:55
<p>
<!-- next="start" -->
<ul>
<li><strong>Next message:</strong> <a href="0935.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<li><strong>Previous message:</strong> <a href="0933.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<li><strong>In reply to:</strong> <a href="0933.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0935.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<li><strong>Reply:</strong> <a href="0935.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Wed, 7 Nov 2001, Ullrich von Bassewitz wrote:

&gt; On Tue, Nov 06, 2001 at 02:00:23PM -0600, Mike McCarty wrote:

&gt; [...]
&gt; &gt; In this way, file1.asm does not have to have embedded knowledge of the
&gt; &gt; names of the external addresses used, or even which ones are actually
&gt; &gt; present.
&gt; 
&gt; Well, yes. One could use it for this purpose. But the problem is rare and can
&gt; be solved by other means.

I was addressing the question as asked: What possible use is there? This
is one use I have put such a feature to.

&gt; &gt; Another, more mundane use, is to implement placing things in a
&gt; &gt; relocatable area, but on an address which is divisible by some
&gt; &gt; particular size, especially if the assembler does not support an .align
&gt; &gt; to that size. For example, suppose some piece of the code must reside at
&gt; &gt; an address divisible by 16, and no .align 16 directive exists.
&gt; 
&gt; This is hard to solve, since the assembler does not know how much space is
&gt; actually inserted by such an .org command. We had this problem some time ago,
&gt; when we talked about short branch optimization in the assembler: The assembler
&gt; has to emit completely relocatable code (that is no constant values at all)
&gt; and all address resolving has to be done by the linker. This would add
&gt; complexity and delay several warnings/errors until linking occurs. 

&quot;Hard&quot; is not the word I would use. I would say &quot;Lots of work to add.&quot;
I recall the discussion very well.

&gt; And ca65 does allow .align in powers of two up to 2^16.

That's nice. Why the restriction to powers of 2? Why not allow

    .align  27

if the size of a structure happens to be 27? It seems to me that the
code in the assembler would be the same.

Since CC65 and the ancillary tools are freeware, and you own them, then
they contain exactly those features which you are sufficiently
motivated to put in. This is as it should be. If this is one which you
prefer not to put in, that's fine. This does not mean that the feature
is a useless one. There are other uses I could list, but I think that
these two are sufficient to show that it is not useless.

Mike
-- 
char *p=&quot;char *p=%c%s%c;main(){printf(p,34,p,34);}&quot;;main(){printf(p,34,p,34);}
This message made from 100% recycled bits.
I can explain it for you, but I can't understand it for you.
I don't speak for Alcatel      &lt;- They make me say that.

----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20ca65%20syntax%20problems">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Next message:</strong> <a href="0935.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<li><strong>Previous message:</strong> <a href="0933.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<li><strong>In reply to:</strong> <a href="0933.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="0935.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<li><strong>Reply:</strong> <a href="0935.html">Ullrich von Bassewitz: "Re: [cc65] ca65 syntax problems"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2001-12-14 22:05:44 CET</em>
</em>
</small>
</body>
</html>
