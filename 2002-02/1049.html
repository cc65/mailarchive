<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Hypothetical</title>
<meta name="Author" content="Gary (gary_at_sybersoft.lv)">
<meta name="Subject" content="Re: [cc65] Hypothetical">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Hypothetical</h1>
<!-- received="Fri Feb  1 21:09:09 2002" -->
<!-- isoreceived="20020201200909" -->
<!-- sent="Fri, 1 Feb 2002 22:08:59 +0200" -->
<!-- isosent="20020201200859" -->
<!-- name="Gary" -->
<!-- email="gary_at_sybersoft.lv" -->
<!-- subject="Re: [cc65] Hypothetical" -->
<!-- id="20020201200859.GA5648@sybersoft.lv" -->
<!-- inreplyto="1D2B2C77C9CF964EB1331ABEB51562E1AB8AA8@ukntsvr2.uk.drte.com" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Gary (<a href="mailto:gary_at_sybersoft.lv?Subject=Re:%20[cc65]%20Hypothetical"><em>gary_at_sybersoft.lv</em></a>)<br>
<strong>Date:</strong> 2002-02-01 21:08:59
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1048.html">Ullrich von Bassewitz: "[cc65] NES config (was: Hypothetical)"</a>
<li><strong>In reply to:</strong> <a href="1047.html">Keates, Mark: "[cc65] Hypothetical"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1050.html">Gary: "Re: [cc65] Hypothetical"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Here's a linker script for the simple case of one 16k fixed bank at
0xC000 and one 16k switchable bank at 0x8000.  This script defines
only a single memory block for the switchable bank; to use more banks,
replicate the BANK line in the MEMORY declaration using different
names for each bank.

This command builds a .nes file from the linker output:

cat romhdr.bin bank.bin home.bin chr.bin chr.bin &gt; ccd.nes

The .nes file header (ROMHDR section) is generated with this
assembly source:

	.segment &quot;ROMHDR&quot;
	
	.byte	&quot;NES&quot;, $1a	; NES^Z
	.byte	2		; #16k PRG ROM banks
	.byte	1		; #8k CHR ROM banks
	.byte	0
	.byte	0		; 
	.byte	0,0,0,0,0,0,0,0	; reserved

	.end
	
The character memory image is generated from an assembly file, too.
Only 4k of character memory is used in the current application, which
is why the chr.bin file is duplicated in the preceding command line.

Regards,

Gary

On Fri, Feb 01, 2002 at 10:27:52AM -0500, Keates, Mark wrote:
&gt; Has anyone built a config file that could be used
&gt; to generate a NES rom image during the link phase?
&gt; 
&gt; Might be quite nice to experiment with some
&gt; NES graphics/bank switching models etc.
&gt; 
&gt; Thought I'd ask as the list's a little slow at the mo ;-)
&gt; 
&gt; Regards,
&gt; 
&gt; Mark
&gt; ----------------------------------------------------------------------
&gt; To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Hypothetical">majordomo_at_musoftware.de</a> with
&gt; the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Hypothetical">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1048.html">Ullrich von Bassewitz: "[cc65] NES config (was: Hypothetical)"</a>
<li><strong>In reply to:</strong> <a href="1047.html">Keates, Mark: "[cc65] Hypothetical"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1050.html">Gary: "Re: [cc65] Hypothetical"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-02-01 21:09:26 CET</em>
</em>
</small>
</body>
</html>
