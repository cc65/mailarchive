<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: [cc65] library header bug correction</title>
<meta name="Author" content="groepaz (groepaz_at_gmx.net)">
<meta name="Subject" content="[cc65] library header bug correction - and some compiler hazzle">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>[cc65] library header bug correction - and some compiler hazzle</h1>
<!-- received="Tue Feb 12 00:09:08 2002" -->
<!-- isoreceived="20020211230908" -->
<!-- sent="Tue, 12 Feb 2002 00:08:52 +0100" -->
<!-- isosent="20020211230852" -->
<!-- name="groepaz" -->
<!-- email="groepaz_at_gmx.net" -->
<!-- subject="[cc65] library header bug correction - and some compiler hazzle" -->
<!-- id="3910980766.20020212000852@gmx.net" -->
<!-- inreplyto="20020206154825.GA31345@sybersoft.lv" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> groepaz (<a href="mailto:groepaz_at_gmx.net?Subject=Re:%20[cc65]%20library%20header%20bug%20correction%20-%20and%20some%20compiler%20hazzle"><em>groepaz_at_gmx.net</em></a>)<br>
<strong>Date:</strong> 2002-02-12 00:08:52
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1068.html">Gary: "Re: [cc65] NES Support"</a>
<li><strong>In reply to:</strong> <a href="1068.html">Gary: "Re: [cc65] NES Support"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1070.html">Christian Groessler: "Re: [cc65] library header bug correction - and some compiler hazzle"</a>
<li><strong>Reply:</strong> <a href="1070.html">Christian Groessler: "Re: [cc65] library header bug correction - and some compiler hazzle"</a>
<li><strong>Reply:</strong> <a href="1073.html">Christian Groessler: "Re[3]: [cc65] library header bug correction - and some compiler hazzle"</a>
<li><strong>Reply:</strong> <a href="1076.html">Ullrich von Bassewitz: "Re: [cc65] library header bug correction - and some compiler hazzle"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
hy ppl!

i found the time to sit down on my cc65 related stuff again and while
i was writing some other little example proggy (good old &quot;fire&quot;
effect) i noticed a little error in the _sid.h headerfile....
corrected version listed below.

another thing is, that i kindof got sick of hunting down errors in my
code which turn out to be compiler bugs/limitations on the long run
(no offence ullrich, other than that i *love* the cc65 package!) and
so i started porting the testsuite that comes with the lcc
compiler.... a whole bunch is done+compiles already, only thing left
are a few bigger tests which i'll split into smaller programs so they
can run on a 64k system. (among these tests also being the
&quot;cq.c&quot;;&quot;c-reference manual&quot; which performs a LOT of testing on
commonly used crap and also rarely used nasty stuff)....

however, i also thought about knocking up a very very simple
c64-emulator-alike-thing which would be basically a cpu-core plus
memory emulation (just ram/rom, no i/o) so it can run programs that
dont depend on the hardware (like the testsuite). i/o could be done via simple
kernal traps ($ffd2 etc) so that in the end we'll end up with a tool
that can actually run the testsuite in a 6510-environment on the pc,
and REDIRECT OUTPUT TO A FILE :o) wouldnt THAT be very useful to
automize testing? hehe :) just gimme some weeks, it shouldnt be to
hard to do anyway.....

other than that, i am also busy cleaning up (make work with current
version of the compiler :D) and preparing a second snapshot, including
a new useable floating-point library (for c64, may be easily ported to
other cbm-machines though) and a bunch of new little programs (&quot;fire&quot;
effect, &quot;radial mapping&quot; effect, the &quot;meteor&quot; game that comes with
that Quetzal*** (or whatever, that name is sick ;D) compiler for the
vic-20 and some more i dont remember atm ;o))

-- 
Best regards,
 groepaz                            mailto:<a href="mailto:groepaz_at_gmx.net?Subject=Re:%20[cc65]%20library%20header%20bug%20correction%20-%20and%20some%20compiler%20hazzle">groepaz_at_gmx.net</a>



/* Define a structure with the sid register offsets */
struct __sid_voice {
    unsigned            freq;           /* Frequency */
    unsigned            pw;             /* Pulse width */
    unsigned char       ctrl;           /* Control register */
    unsigned char       ad;             /* Attack/decay */
    unsigned char       sr;             /* Sustain/release */
};
struct __sid {
    struct __sid_voice  v1;             /* 0x00-0x06 Voice 1 */
    struct __sid_voice  v2;             /* 0x07-0x0d Voice 2 */
    struct __sid_voice  v3;             /* 0x0e-0x14 Voice 3 */
    unsigned            flt_freq;       /* 0x15-0x16 Filter frequency */
    unsigned char       flt_ctrl;       /* 0x17      Filter control register */
    unsigned char       amp;            /* 0x18      Amplitude */
    unsigned char       ad1;            /* 0x19      A/D converter 1 */
    unsigned char       ad2;            /* 0x1a      A/D converter 2 &lt;= missing in 2.7.1 release */
    unsigned char       noise;          /* 0x1b      Noise generator */
    unsigned char       read3;          /* 0x1c      Value of voice 3 */
};


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20library%20header%20bug%20correction%20-%20and%20some%20compiler%20hazzle">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1068.html">Gary: "Re: [cc65] NES Support"</a>
<li><strong>In reply to:</strong> <a href="1068.html">Gary: "Re: [cc65] NES Support"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1070.html">Christian Groessler: "Re: [cc65] library header bug correction - and some compiler hazzle"</a>
<li><strong>Reply:</strong> <a href="1070.html">Christian Groessler: "Re: [cc65] library header bug correction - and some compiler hazzle"</a>
<li><strong>Reply:</strong> <a href="1073.html">Christian Groessler: "Re[3]: [cc65] library header bug correction - and some compiler hazzle"</a>
<li><strong>Reply:</strong> <a href="1076.html">Ullrich von Bassewitz: "Re: [cc65] library header bug correction - and some compiler hazzle"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-02-12 00:10:34 CET</em>
</em>
</small>
</body>
</html>
