<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: Re[2]: [cc65] Bugs?</title>
<meta name="Author" content="Mike McCarty (jmccarty_at_ssd.usa.alcatel.com)">
<meta name="Subject" content="Re: Re[2]: [cc65] Bugs?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: Re[2]: [cc65] Bugs?</h1>
<!-- received="Tue Mar  5 21:26:54 2002" -->
<!-- isoreceived="20020305202654" -->
<!-- sent="Tue, 5 Mar 2002 14:26:07 -0600 (CST)" -->
<!-- isosent="20020305202607" -->
<!-- name="Mike McCarty" -->
<!-- email="jmccarty_at_ssd.usa.alcatel.com" -->
<!-- subject="Re: Re[2]: [cc65] Bugs?" -->
<!-- id="Pine.SOL.4.10.10203051424450.28312-100000@sun1307.ssd.usa.alcatel.com" -->
<!-- inreplyto="1571151445.20020305192941@gmx.net" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Mike McCarty (<a href="mailto:jmccarty_at_ssd.usa.alcatel.com?Subject=Re:%20Re[2]:%20[cc65]%20Bugs?"><em>jmccarty_at_ssd.usa.alcatel.com</em></a>)<br>
<strong>Date:</strong> 2002-03-05 21:26:07
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1151.html">groepaz: "Re[2]: [cc65] Bugs?"</a>
<li><strong>In reply to:</strong> <a href="1151.html">groepaz: "Re[2]: [cc65] Bugs?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1153.html">groepaz: "Re[4]: [cc65] Bugs?"</a>
<li><strong>Reply:</strong> <a href="1153.html">groepaz: "Re[4]: [cc65] Bugs?"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Tue, 5 Mar 2002, groepaz wrote:

&gt; Hello Mike,
&gt; 
&gt; Tuesday, March 05, 2002, 4:52:54 PM, you wrote:
&gt; 
&gt; MM&gt; On Tue, 5 Mar 2002, Piotr Fusik wrote:
&gt; 
&gt; MM&gt; [snip]
&gt; 
&gt; &gt;&gt; struct s a;
&gt; &gt;&gt; const struct s *p;
&gt; &gt;&gt; a = *p;               // Error: Incompatible types
&gt; &gt;&gt; 
&gt; &gt;&gt; and here:
&gt; &gt;&gt; 
&gt; &gt;&gt; struct s a,b,c;
&gt; &gt;&gt; a = b = c;    // Error: Invalid lvalue in assignment
&gt; 
&gt; 
&gt; MM&gt; Is this supposed to be a complete example? You have an incomplete type
&gt; MM&gt; struct s, which is never completed. The compiler is justified in
&gt; MM&gt; producing a diagnostic. It does not know how many bytes to move. The
&gt; MM&gt; diagnostics might perhaps be a little more indicative of the problem.
&gt; 
&gt; mmmh, actually i think both are seldom used, but valid
&gt; expressions...... cc65 seems to be pretty picky about such stuff,
&gt; especially with structs that arent defined and/or initialized in a
&gt; &quot;good&quot; fashion.... the c-reference test from the testsuite i am
&gt; working on has a load of problems with that stuff aswell.

The point I was making is that I don't see where struct a is completed.
The compiler can't generate code to move one struct to another when it
does not have enough information to ascertain the size of the struct.
The expression is valid, but the compiler cannot generate code.

Mike
-- 
char *p=&quot;char *p=%c%s%c;main(){printf(p,34,p,34);}&quot;;main(){printf(p,34,p,34);}
This message made from 100% recycled bits.
I can explain it for you, but I can't understand it for you.
I don't speak for Alcatel      &lt;- They make me say that.

----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20Re[2]:%20[cc65]%20Bugs?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1151.html">groepaz: "Re[2]: [cc65] Bugs?"</a>
<li><strong>In reply to:</strong> <a href="1151.html">groepaz: "Re[2]: [cc65] Bugs?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1153.html">groepaz: "Re[4]: [cc65] Bugs?"</a>
<li><strong>Reply:</strong> <a href="1153.html">groepaz: "Re[4]: [cc65] Bugs?"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-03-05 21:27:02 CET</em>
</em>
</small>
</body>
</html>
