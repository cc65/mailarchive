<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] 65816</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] 65816">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] 65816</h1>
<!-- received="Wed Apr 17 09:44:38 2002" -->
<!-- isoreceived="20020417074438" -->
<!-- sent="Wed, 17 Apr 2002 09:44:40 +0200" -->
<!-- isosent="20020417074440" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] 65816" -->
<!-- id="20020417094440.A31292@trixie.musoftware.de" -->
<!-- inreplyto="005801c1e5bc$1ae4d020$6601a8c0@home" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%2065816"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-04-17 09:44:40
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1270.html">Piotr Fusik: "[cc65] Bug in signed comparisions!"</a>
<li><strong>In reply to:</strong> <a href="1268.html">Jeremy Turner: "Re: [cc65] 65816"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1273.html">groepaz: "Re[2]: [cc65] 65816"</a>
<li><strong>Next in thread:</strong> <a href="1263.html">Big Boy Toddy: "Re: [cc65] 65816"</a>
<li><strong>Reply:</strong> <a href="1273.html">groepaz: "Re[2]: [cc65] 65816"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Tue, Apr 16, 2002 at 11:01:00PM -0400, Jeremy Turner wrote:
&gt; What about inserting 816 opcodes into the C source (assuming you knew what
&gt; you were doing) would that possibly work? (just for changing banks). If
&gt; there was a way to access the memory, and not neccessarily run 16-bit
&gt; instructions, I would be happy. Maybe write something equivalent to a EMM in
&gt; DOS - some functiions you can call that support memory greater than $FFFF ?

The inline assembler does not support the 816 instructions. The reason lies in
the structure of the compiler. The frontend generates calls to the code
generator which generates an abstract notation of 6502 code. The optimizer
runs over this 6502 code. While this approach is not as portable, and while
having another stage of intermediate code would be a good idea (for doing
platform independent optimizations), it is the only good way to generate
decent 6502 code I know of.

Since the optimizer uses 6502 code (in a very abstract form), it cannot handle
anything, it does not know in this stage, which means that the inline
assembler will have to assure that. The disadvantage is that the capabilities
of the inline assembler are rather limited, for example, you cannot insert any
data into the code. On the other side this means that the optimizer will
handle inline assembler code the same as compiler generated code. I have had
several occasions where the optimizer even found a place or two where to
improved my own code.

Of course you can use the ca65 assembler to write C callable subroubtines that
implement an enhanced memory management. It would be nice however, to have a
portable interface for this purpose, that does not only support the extended
memory of an 816, but also REUs and other memory extensions that are in use on
common 6502 machines.

Regards


	Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%2065816">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%2065816">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1270.html">Piotr Fusik: "[cc65] Bug in signed comparisions!"</a>
<li><strong>In reply to:</strong> <a href="1268.html">Jeremy Turner: "Re: [cc65] 65816"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1273.html">groepaz: "Re[2]: [cc65] 65816"</a>
<li><strong>Next in thread:</strong> <a href="1263.html">Big Boy Toddy: "Re: [cc65] 65816"</a>
<li><strong>Reply:</strong> <a href="1273.html">groepaz: "Re[2]: [cc65] 65816"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-04-17 09:45:25 CEST</em>
</em>
</small>
</body>
</html>
