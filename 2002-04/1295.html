<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Atari file i/o functions</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Atari file i/o functions">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Atari file i/o functions</h1>
<!-- received="Wed Apr 24 13:50:07 2002" -->
<!-- isoreceived="20020424115007" -->
<!-- sent="Wed, 24 Apr 2002 13:50:10 +0200" -->
<!-- isosent="20020424115010" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Atari file i/o functions" -->
<!-- id="20020424135010.A13708@trixie.musoftware.de" -->
<!-- inreplyto="200204241338.39943.adam@sics.se" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Atari%20file%20i/o%20functions"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-04-24 13:50:10
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1294.html">Adam Dunkels: "Re: Re[2]: [cc65] Atari file i/o functions"</a>
<li><strong>In reply to:</strong> <a href="1294.html">Adam Dunkels: "Re: Re[2]: [cc65] Atari file i/o functions"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1296.html">groepaz: "Re[2]: [cc65] Atari file i/o functions"</a>
<li><strong>Reply:</strong> <a href="1296.html">groepaz: "Re[2]: [cc65] Atari file i/o functions"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Wed, Apr 24, 2002 at 01:38:39PM +0200, Adam Dunkels wrote:
&gt; I can only agree with groepaz - cool! This would make it easier to support
&gt; dynamic applications in uIP as well!

Yes. But as I said before, writing modules in C has some overhead. The reason
for this is that the loader does not use the symbols from the o65 file for
runtime linking, because of the overhead. By using import/export name tables,
it would be possible to link a C module so that it uses the runtime routines
from the main module. But this would require a large name table in the
application, because the application must know at runtime, which functions
from the runtime library are available and at which address. Both operating
systems using the o65 format (OS/A65 and Lunix) don't do that for the same
reason (too much overhead).

Instead of using dynamic linking by name, modules are supposed to have a jump
table at the start address of the code segment - I think we can live with
that, especially for drivers, which will have a fixed set of API functions
anyway.

So a loaded module written in C must contain all the runtime stuff by itself,
even if the same routines are also linked to the main program. This will lead
to some overhead (how much this is exactly depends on the module in question).

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Atari%20file%20i/o%20functions">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Atari%20file%20i/o%20functions">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1294.html">Adam Dunkels: "Re: Re[2]: [cc65] Atari file i/o functions"</a>
<li><strong>In reply to:</strong> <a href="1294.html">Adam Dunkels: "Re: Re[2]: [cc65] Atari file i/o functions"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1296.html">groepaz: "Re[2]: [cc65] Atari file i/o functions"</a>
<li><strong>Reply:</strong> <a href="1296.html">groepaz: "Re[2]: [cc65] Atari file i/o functions"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-04-24 13:50:18 CEST</em>
</em>
</small>
</body>
</html>
