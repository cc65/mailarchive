<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re[2]: [cc65] statics in zero page</title>
<meta name="Author" content="groepaz (groepaz_at_gmx.net)">
<meta name="Subject" content="Re[2]: [cc65] statics in zero page">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re[2]: [cc65] statics in zero page</h1>
<!-- received="Wed May 22 19:16:08 2002" -->
<!-- isoreceived="20020522171608" -->
<!-- sent="Wed, 22 May 2002 19:17:57 +0200" -->
<!-- isosent="20020522171757" -->
<!-- name="groepaz" -->
<!-- email="groepaz_at_gmx.net" -->
<!-- subject="Re[2]: [cc65] statics in zero page" -->
<!-- id="7126562986.20020522191757@gmx.net" -->
<!-- inreplyto="000701c201b0$9fc5afc0$6b692c42@palace" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> groepaz (<a href="mailto:groepaz_at_gmx.net?Subject=Re[2]:%20[cc65]%20statics%20in%20zero%20page"><em>groepaz_at_gmx.net</em></a>)<br>
<strong>Date:</strong> 2002-05-22 19:17:57
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1379.html">Greg King: "Re: [cc65] statics in zero page"</a>
<li><strong>In reply to:</strong> <a href="1379.html">Greg King: "Re: [cc65] statics in zero page"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1355.html">Keates, Mark: "RE: Re[2]: [cc65] statics in zero page"</a>
<li><strong>Maybe reply:</strong> <a href="1355.html">Keates, Mark: "RE: Re[2]: [cc65] statics in zero page"</a>
<li><strong>Reply:</strong> <a href="1386.html">Ullrich von Bassewitz: "Re: [cc65] statics in zero page"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hello Greg,

Wednesday, May 22, 2002, 6:48:43 PM, you wrote:

GK&gt; That solution will be easier to do, after ld65's configure-scripts are
GK&gt; &quot;expanded.&quot;  Instead of providing the minimum zero-page space that is needed
GK&gt; by the compiler, they should &quot;allocate&quot; the maximum contiguous space
GK&gt; that is not used outside of the program.  For example, &quot;c64.cfg&quot; should say,

GK&gt; &quot;ZP: start = $02, size = $8E, type = rw, define = yes;&quot;

thats a very nice idea indeed

for the sake of taking into consideration the special role the zeropage plays in 6510
based system i'd advance that idea a bit though.... that is, make some
mechanism that makes it possible to &quot;lock&quot; every single adress by
itself (that feature actually makes sence for ordinary ram aswell!,
that could aid a LOT with some advanced stuff like FPP routines and
alike which scatter all their data over the memory)
... ie, you may want to use some music-routine that uses
zeropage-locations $10, $20,$30, and $a0-$ae (stupid example yes ;=))
...
   &quot;ZP: start = $02, size = $8E, lock=$10,$20,$30,$a0-$ae, type = rw, define = yes;&quot;

in in essence what i want to say is, the allocated memory block
shouldnt need to be one continues chunk (should be trivial to make the
linker sort the symbols by size and let it choose the best place for
them - ofcoz the largest continous block will limit your max. size of
symbols and to many locked locations would make a section hardly
useable, thats however up to the user then ;=))

GK&gt; I agree that &quot;it won't fit&quot; is the only reasonable reaction when ld65 runs out
GK&gt; of room -- in any memory-area.  The linker cannot know our goals;
GK&gt; so, it would not know which variables
GK&gt; are merely nice-to-have-sitting-down-there-if-there-were-space.  It is our job
GK&gt; to adjust the code, in order &quot;to shoehorn&quot; it into the targets.

however, the linker could still place symbols that wont fit in
zeropage in .bss automagically (should issue a warning though) .... OR
it may be better to define a &quot;common&quot; section in the linkerscript
simelar to whats done in gcc (all symbols that &quot;dont fit&quot; otherwhise
go there)

-- 
Best regards,
 groepaz                            mailto:<a href="mailto:groepaz_at_gmx.net?Subject=Re[2]:%20[cc65]%20statics%20in%20zero%20page">groepaz_at_gmx.net</a>


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re[2]:%20[cc65]%20statics%20in%20zero%20page">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1379.html">Greg King: "Re: [cc65] statics in zero page"</a>
<li><strong>In reply to:</strong> <a href="1379.html">Greg King: "Re: [cc65] statics in zero page"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1355.html">Keates, Mark: "RE: Re[2]: [cc65] statics in zero page"</a>
<li><strong>Maybe reply:</strong> <a href="1355.html">Keates, Mark: "RE: Re[2]: [cc65] statics in zero page"</a>
<li><strong>Reply:</strong> <a href="1386.html">Ullrich von Bassewitz: "Re: [cc65] statics in zero page"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-05-22 19:16:15 CEST</em>
</em>
</small>
</body>
</html>
