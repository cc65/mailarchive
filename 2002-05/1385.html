<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] statics in zero page</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] statics in zero page">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] statics in zero page</h1>
<!-- received="Wed May 22 21:09:55 2002" -->
<!-- isoreceived="20020522190955" -->
<!-- sent="Wed, 22 May 2002 21:10:00 +0200" -->
<!-- isosent="20020522191000" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] statics in zero page" -->
<!-- id="20020522211000.D27678@trixie.musoftware.de" -->
<!-- inreplyto="000701c201b0$9fc5afc0$6b692c42@palace" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20statics%20in%20zero%20page"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-05-22 21:10:00
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1384.html">Ullrich von Bassewitz: "Re: [cc65] Char set questions"</a>
<li><strong>In reply to:</strong> <a href="1379.html">Greg King: "Re: [cc65] statics in zero page"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1387.html">shubel, paul: "RE: [cc65] statics in zero page"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Wed, May 22, 2002 at 12:48:43PM -0400, Greg King wrote:
&gt; That solution will be easier to do, after ld65's configure-scripts are
&gt; &quot;expanded.&quot;  Instead of providing the minimum zero-page space that is needed
&gt; by the compiler, they should &quot;allocate&quot; the maximum contiguous space
&gt; that is not used outside of the program.  For example, &quot;c64.cfg&quot; should say,
&gt;
&gt; &quot;ZP: start = $02, size = $8E, type = rw, define = yes;&quot;
&gt;
&gt; (that is all of BASIC's space).  Then, files can .reserve (additional) .zeropage
&gt; variables, in the same portable way that they define .bss variables (ld65 will
&gt; set their addresses).  (The start-up file must use __ZP_START__ and __ZP_LAST__
&gt; when swapping the zero-page.)

That's a good idea, but nothing prevents an author from doing so. Just use a
slightly modified linker config and a change the startup module. I don't like
it as a general solution, because it is not possible to allocate an unknown
amount of storage, so the routines that swap the zero page locations in the
startup file and in the break handler (debugging support) will always have to
allocate the maximum space.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20statics%20in%20zero%20page">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20statics%20in%20zero%20page">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1384.html">Ullrich von Bassewitz: "Re: [cc65] Char set questions"</a>
<li><strong>In reply to:</strong> <a href="1379.html">Greg King: "Re: [cc65] statics in zero page"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1387.html">shubel, paul: "RE: [cc65] statics in zero page"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-05-22 21:09:59 CEST</em>
</em>
</small>
</body>
</html>
