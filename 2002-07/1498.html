<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Another bug... ?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Another bug... ?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Another bug... ?</h1>
<!-- received="Thu Jul 18 16:29:59 2002" -->
<!-- isoreceived="20020718142959" -->
<!-- sent="Thu, 18 Jul 2002 16:30:03 +0200" -->
<!-- isosent="20020718143003" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Another bug... ?" -->
<!-- id="20020718143003.GA14308@trixie.musoftware.de" -->
<!-- inreplyto="1747519789.20020718160503@gmx.net" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Another%20bug...%20?"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-07-18 16:30:03
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1497.html">groepaz: "[cc65] Another bug... ?"</a>
<li><strong>In reply to:</strong> <a href="1497.html">groepaz: "[cc65] Another bug... ?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1499.html">Ullrich von Bassewitz: "Re: [cc65] Another bug... ?"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Thu, Jul 18, 2002 at 04:05:03PM +0200, groepaz wrote:
&gt; look at this, problem is a case value of &quot;0x8000&quot; (min_int) used in a
&gt; switch statement where the switch is done by a signed int. (mmmh and
&gt; its weird to me that 0x8000 and -32768 are threated differently ...
&gt; sth with signed vs unsigned conversion looks fux0red here.....0xffff
&gt; vs -1 shouldnt make a difference at this point either eh?)

Hex constants and decimal constants are handled differently according to the C
standard:

  - For a decimal constant, the valid types are int, long and unsigned long.

  - A hexadecimal constant may also be represented as an unsigned.

This means that:

  0xFFFF        is an unsigned with a value of 65535 decimal
  0x8000        is an unsigned with a value of 32768 decimal
  -32768        is an int
  -1            is also an int

So the only thing that is wrong with the code is the warning &quot;constant is
long&quot;. The other errors are correct, because a 16 bit integer can never be one
of { 32768, 65535 }. I'm currently not sure if the compiler should do any
conversions here (I will have to check the standard), but even if it does, the
results would be implementation defined and therefore not portable.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Another%20bug...%20?">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Another%20bug...%20?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1497.html">groepaz: "[cc65] Another bug... ?"</a>
<li><strong>In reply to:</strong> <a href="1497.html">groepaz: "[cc65] Another bug... ?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1499.html">Ullrich von Bassewitz: "Re: [cc65] Another bug... ?"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-07-18 16:30:55 CEST</em>
</em>
</small>
</body>
</html>
