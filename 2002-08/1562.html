<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Sorting large files</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Sorting large files">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Sorting large files</h1>
<!-- received="Mon Aug 26 22:47:54 2002" -->
<!-- isoreceived="20020826204754" -->
<!-- sent="Mon, 26 Aug 2002 22:47:59 +0200" -->
<!-- isosent="20020826204759" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Sorting large files" -->
<!-- id="20020826204759.GA3967@trixie.musoftware.de" -->
<!-- inreplyto="sd6a2956.047@gwmail.sd62.bc.ca" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Sorting%20large%20files"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-08-26 22:47:59
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1561.html">Shawn Jefferson: "[cc65] Sorting large files"</a>
<li><strong>In reply to:</strong> <a href="1561.html">Shawn Jefferson: "[cc65] Sorting large files"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1563.html">René de Bie: "RE: [cc65] Sorting large files"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Mon, Aug 26, 2002 at 01:12:32PM -0700, Shawn Jefferson wrote:
&gt; Just hoping to get a few suggestions as to how to sort a potentially very
&gt; large file (could be up to 90k) and each record is about 27 bytes long.

Divide the data into several parts, each part small enough to fit in memory.
Sort the data in memory (qsort is a library routine), then write it to a file.
After having sorted each part, open all files plus the target file. Combine
the files while maintaining sort order by reading records from the input files
and writing the largest/smallest record to the target file.

Possible optimizations:

  1. Make the number of parts as small as possible. This means that you have
     les input files later.

  2. Keep the last part in memory after sorting it. Needs some special casing
     but saves a complete write/read cycle for one of the parts.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Sorting%20large%20files">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Sorting%20large%20files">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1561.html">Shawn Jefferson: "[cc65] Sorting large files"</a>
<li><strong>In reply to:</strong> <a href="1561.html">Shawn Jefferson: "[cc65] Sorting large files"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1563.html">René de Bie: "RE: [cc65] Sorting large files"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-08-26 22:48:01 CEST</em>
</em>
</small>
</body>
</html>
