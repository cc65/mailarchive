<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Bank Switching</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Bank Switching">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Bank Switching</h1>
<!-- received="Sat Sep 21 00:44:25 2002" -->
<!-- isoreceived="20020920224425" -->
<!-- sent="Sat, 21 Sep 2002 00:44:32 +0200" -->
<!-- isosent="20020920224432" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Bank Switching" -->
<!-- id="20020920224432.GA18496@trixie.musoftware.de" -->
<!-- inreplyto="sd8b40ec.008@gwmail.sd62.bc.ca" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Bank%20Switching"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-09-21 00:44:32
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1577.html">Shawn Jefferson: "Re: [cc65] Bank Switching"</a>
<li><strong>In reply to:</strong> <a href="1577.html">Shawn Jefferson: "Re: [cc65] Bank Switching"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1579.html">Christian Groessler: "Re: [cc65] Bank Switching"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Fri, Sep 20, 2002 at 03:37:48PM -0700, Shawn Jefferson wrote:
&gt; I guess I could write a small header in asm to do this moving around, and
&gt; then jmp to the proper init/run address after that.  That way I would still
&gt; have a small executable and avoid using the bank section.  Sound feasible?

Yes, but please note that the obvious solution (loading all the stuff into
memory and then moving the part that should go into RAM2) is wrong, because
BANK is overwritten when the whole file is loaded.

As far as I remember, the Atari is able to have separate chunks in an
executable file, where each chunk has it's own header, and is loaded to a
different address. The last one of these headers has a special marker. If so,
the solution would be to slightly modify the standard startup script. Just
include both headers (place the second header into a segment named HEADER2 or
similar). Then change the linker config so that each one of the RAM1 and RAM2
memory areas has its own header.

Maybe one of the Atari guys can comment on this in more detail (or correct me
if I got this wrong).

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Bank%20Switching">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Bank%20Switching">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1577.html">Shawn Jefferson: "Re: [cc65] Bank Switching"</a>
<li><strong>In reply to:</strong> <a href="1577.html">Shawn Jefferson: "Re: [cc65] Bank Switching"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1579.html">Christian Groessler: "Re: [cc65] Bank Switching"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-09-21 00:44:29 CEST</em>
</em>
</small>
</body>
</html>
