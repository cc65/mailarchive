<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] File I/O on C64</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] File I/O on C64">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] File I/O on C64</h1>
<!-- received="Mon Nov 18 00:26:28 2002" -->
<!-- isoreceived="20021117232628" -->
<!-- sent="Mon, 18 Nov 2002 00:26:26 +0100" -->
<!-- isosent="20021117232626" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] File I/O on C64" -->
<!-- id="20021117232626.GA24595@trixie.musoftware.de" -->
<!-- inreplyto="15830.16899.786628.33530@panini.cling.gu.se" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20File%20I/O%20on%20C64"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-11-18 00:26:26
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1720.html">BlackJack/Civitas: "Re: [cc65] File I/O on C64"</a>
<li><strong>In reply to:</strong> <a href="1717.html">MagerValp: "Re: [cc65] File I/O on C64"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1723.html">MagerValp: "Re: [cc65] File I/O on C64"</a>
<li><strong>Next in thread:</strong> <a href="1720.html">BlackJack/Civitas: "Re: [cc65] File I/O on C64"</a>
<li><strong>Reply:</strong> <a href="1723.html">MagerValp: "Re: [cc65] File I/O on C64"</a>
<li><strong>Reply:</strong> <a href="1738.html">Marc 'BlackJack' Rintsch: "Re: [cc65] File I/O on C64"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Sat, Nov 16, 2002 at 02:02:59PM +0100, MagerValp wrote:
&gt; Yes, Ullrich, I do agree with what you're saying (and that /. article
&gt; was interesting but didn't say anything that hadn't been said before),
&gt; but I still think that most people will be better off with cbm.h.
[...]
&gt; But don't misinterpret me, I think it'd be a great thing to have stdio
&gt; support for the CBM machines, I'm just saying that most apps don't
&gt; actually need it -- its absence is not an excuse to not use cc65.

I still think different, but now everyone has a choice: I got so tired from
all these discussions about missing C file I/O for the CBMs that I've added it
yesterday. There was one unexpected problem (if you're reading the cbm-hackers
list, you do probably know about what I'm talking), so I needed a few
additional hours today to fix it. It is mostly complete (plus/minus bugs of
course). Limitations are:

  * Currently files are not closed at the end of the program. I will add
    that soon.

  * Because of limitations of the CBM floppies, you can open a file either for
    reading or for writing, but not for both. Similar, append mode is not
    available.

  * Since the file i/o layer generates its own logical file numbers, using the
    CBM file routines together with C file i/o may give conflicts in some
    situations (because you're choosing the logical file numbers on your own,
    and these may clash with those generated by the C file i/o layer). I'm
    also planing to keep the current input and output channels open until
    there is a change. With this addition (that will improve performance),
    using CBM file i/o together with C file i/o will no longer work. Please
    note that C file i/o does also mean a simple printf! If you need CBM file
    i/o, you will have to use conio only. I'm sorry about that, but there's no
    easy workaround.

And the positive side:

  * Uses only kernal calls, so it should work with all CBMs and with all
    drives, including CMD hardware. I've tested the stuff using x64 (the C64
    emulation of VICE).

It's all in todays snapshot, so please give it a try and send me some
feedback.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20File%20I/O%20on%20C64">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20File%20I/O%20on%20C64">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1720.html">BlackJack/Civitas: "Re: [cc65] File I/O on C64"</a>
<li><strong>In reply to:</strong> <a href="1717.html">MagerValp: "Re: [cc65] File I/O on C64"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1723.html">MagerValp: "Re: [cc65] File I/O on C64"</a>
<li><strong>Next in thread:</strong> <a href="1720.html">BlackJack/Civitas: "Re: [cc65] File I/O on C64"</a>
<li><strong>Reply:</strong> <a href="1723.html">MagerValp: "Re: [cc65] File I/O on C64"</a>
<li><strong>Reply:</strong> <a href="1738.html">Marc 'BlackJack' Rintsch: "Re: [cc65] File I/O on C64"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-11-18 00:28:12 CET</em>
</em>
</small>
</body>
</html>
