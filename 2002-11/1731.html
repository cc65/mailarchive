<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re[2]: [cc65] File I/O on C64</title>
<meta name="Author" content="groepaz (groepaz_at_gmx.net)">
<meta name="Subject" content="Re[2]: [cc65] File I/O on C64">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re[2]: [cc65] File I/O on C64</h1>
<!-- received="Tue Nov 19 02:55:06 2002" -->
<!-- isoreceived="20021119015506" -->
<!-- sent="Tue, 19 Nov 2002 02:55:03 +0100" -->
<!-- isosent="20021119015503" -->
<!-- name="groepaz" -->
<!-- email="groepaz_at_gmx.net" -->
<!-- subject="Re[2]: [cc65] File I/O on C64" -->
<!-- id="15126282365.20021119025503@gmx.net" -->
<!-- inreplyto="20021113215619.GC18279@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> groepaz (<a href="mailto:groepaz_at_gmx.net?Subject=Re[2]:%20[cc65]%20File%20I/O%20on%20C64"><em>groepaz_at_gmx.net</em></a>)<br>
<strong>Date:</strong> 2002-11-19 02:55:03
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1730.html">groepaz: "Re[2]: [cc65] supercpu.c"</a>
<li><strong>In reply to:</strong> <a href="1703.html">Ullrich von Bassewitz: "Re: [cc65] File I/O on C64"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1729.html">groepaz: "Re[2]: [cc65] File I/O on C64"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hello Ullrich,

UvB&gt; While I wouldn't say it is really complex, it is definitely more work than
UvB&gt; just adding a wrapper. Possible problems are:

UvB&gt;   * You cannot use the handles of the CBM kernal, so you have to use an
UvB&gt;     additional translation between kernal handles and C handles.

not really a problem...

UvB&gt;   * The behaviour specified by the C standard and the implementation of file
UvB&gt;     I/O in the commodore drives are sometimes highly incompatible. For
UvB&gt;     example, it is impossible to open a file for reading and writing.

that's one of the MAJOR problems ;=P also lotta care has to be taken
when working with more than one open file.... odd bugs trigger here
:=P

UvB&gt;   * You need to talk to the device over the command channel to find out about
UvB&gt;     disk errors.

no problem either (and thank god, the kernal &quot;ST&quot; variable is
sufficient for a bunch of checks)

&gt;&gt; Also, there were 1571 drives, and even hard drives released for the c64. Is
&gt;&gt; there a strategy to program this so it would not close the door on people
&gt;&gt; using other types of drives?

UvB&gt; When using standard kernal calls, supporting the 1571 or even CMD hardware
UvB&gt; should not be a problem.

true.... i have actually made the thing in a way so you can have
modules that define the actual lowlevel drive stuff (and wrote one
module that uses kernal calls so far)... so supporting what ever one
could hook up to a filesystem (doesnt have to be a drive, like in *nix
this could well be any other device) is a matter of writing the
support module. (i am planning to write a serial driver for the
silversurfer here ;))

-- 
Best regards,
 groepaz                            mailto:<a href="mailto:groepaz_at_gmx.net?Subject=Re[2]:%20[cc65]%20File%20I/O%20on%20C64">groepaz_at_gmx.net</a>


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re[2]:%20[cc65]%20File%20I/O%20on%20C64">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1730.html">groepaz: "Re[2]: [cc65] supercpu.c"</a>
<li><strong>In reply to:</strong> <a href="1703.html">Ullrich von Bassewitz: "Re: [cc65] File I/O on C64"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1729.html">groepaz: "Re[2]: [cc65] File I/O on C64"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-11-19 02:55:09 CET</em>
</em>
</small>
</body>
</html>
