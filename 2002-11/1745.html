<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] supercpu.c</title>
<meta name="Author" content="David Holz (davidh_at_otterspace.com)">
<meta name="Subject" content="Re: [cc65] supercpu.c">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] supercpu.c</h1>
<!-- received="Wed Nov 20 16:40:57 2002" -->
<!-- isoreceived="20021120154057" -->
<!-- sent="Wed, 20 Nov 2002 07:41:40 -0800" -->
<!-- isosent="20021120154140" -->
<!-- name="David Holz" -->
<!-- email="davidh_at_otterspace.com" -->
<!-- subject="Re: [cc65] supercpu.c" -->
<!-- id="057301c290ab$51c2e650$6902a8c0@magnesium" -->
<!-- inreplyto="20021120145553.GA6409@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> David Holz (<a href="mailto:davidh_at_otterspace.com?Subject=Re:%20[cc65]%20supercpu.c"><em>davidh_at_otterspace.com</em></a>)<br>
<strong>Date:</strong> 2002-11-20 16:41:40
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1744.html">Ullrich von Bassewitz: "Re: [cc65] supercpu.c"</a>
<li><strong>In reply to:</strong> <a href="1744.html">Ullrich von Bassewitz: "Re: [cc65] supercpu.c"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1747.html">Ullrich von Bassewitz: "[cc65] Extended memory"</a>
<li><strong>Next in thread:</strong> <a href="1746.html">MagerValp: "[cc65] SoftMMU"</a>
<li><strong>Reply:</strong> <a href="1747.html">Ullrich von Bassewitz: "[cc65] Extended memory"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
From: &quot;Ullrich von Bassewitz&quot; &lt;<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20supercpu.c">uz_at_musoftware.de</a>&gt;
&gt; Yes, I've seen your page, and the fact that you did it this way, increased
my
&gt; confidence that this is the right approach.

Remember, though, that I never implemented a full system of it (because
LUnix wasn't quite compatible with the things I was trying to do).  So not
all of the uability issues have been tested.

&gt; The problem when moving the window pointer is, that the application cannot
&gt; remember it anywhere, so you will have to use double indirection - and
cc65

I don't see where double-direction comes into play (pointer to a pointer).
The window pointer is in the same location in zp.  When I said &quot;move the
window&quot;, I mean the pointer points to a different page.  Since you're
talking about having 1 window per application, make it have a fixed location
in zp that the compiler knows about, instead of a normal pointer variable.
But then again, I'm always a proponent of &quot;better code through smarter
compilers&quot; instead of using libraries to try to add basic functionality. :)

&gt;   1. Unexpanded C64
&gt;      As long as the graphics module is not used, the memory below the
kernal
&gt;      may be used as extended memory. Copying is needed because the memory
&gt;      cannot be accessed directly.

If the window pointer is fixed in zp, just update that pointer.  No copying
necessary.

&gt;   6. REU
&gt;      The REU uses fast DMA transfers (1 cycle per byte). It needs copying,
but
&gt;      because of the REU speed, the solution would still be rather fast.

You can also have a simple LRU caching system, and give how many pages to
cache in RAM at compile-time.

&gt; Are there any other known memory expansions out there, that do not map
into
&gt; this scheme?

As far as I can see, it will work with everything.  If you remember back to
the DOS days, this type of API is very similar to EMS (bank in memory).  If
you have to copy data around anyway, like with the REU or SCPU, then a XMS
type of API (copy data between external &amp; main RAM) would be faster, but
you'd lose all the speed of banking on systems that support it (GeoRAM,
linear access, and the cache idea).

--
White Flame (aka David Holz)
<a href="http://www.white-flame.com/">http://www.white-flame.com/</a>
(spamblock in effect)

----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20supercpu.c">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1744.html">Ullrich von Bassewitz: "Re: [cc65] supercpu.c"</a>
<li><strong>In reply to:</strong> <a href="1744.html">Ullrich von Bassewitz: "Re: [cc65] supercpu.c"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1747.html">Ullrich von Bassewitz: "[cc65] Extended memory"</a>
<li><strong>Next in thread:</strong> <a href="1746.html">MagerValp: "[cc65] SoftMMU"</a>
<li><strong>Reply:</strong> <a href="1747.html">Ullrich von Bassewitz: "[cc65] Extended memory"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-11-20 16:41:11 CET</em>
</em>
</small>
</body>
</html>
