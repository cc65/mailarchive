<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: [cc65] Extended memory</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="[cc65] Extended memory">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>[cc65] Extended memory</h1>
<!-- received="Wed Nov 20 17:30:06 2002" -->
<!-- isoreceived="20021120163006" -->
<!-- sent="Wed, 20 Nov 2002 17:30:05 +0100" -->
<!-- isosent="20021120163005" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="[cc65] Extended memory" -->
<!-- id="20021120163005.GA7323@trixie.musoftware.de" -->
<!-- inreplyto="057301c290ab$51c2e650$6902a8c0@magnesium" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Extended%20memory"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-11-20 17:30:05
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1746.html">MagerValp: "[cc65] SoftMMU"</a>
<li><strong>In reply to:</strong> <a href="1745.html">David Holz: "Re: [cc65] supercpu.c"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1746.html">MagerValp: "[cc65] SoftMMU"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Wed, Nov 20, 2002 at 07:41:40AM -0800, David Holz wrote:
&gt; I don't see where double-direction comes into play (pointer to a pointer).
&gt; The window pointer is in the same location in zp.  When I said &quot;move the
&gt; window&quot;, I mean the pointer points to a different page.

This is in fact &quot;double indirection&quot;, since the application will use a pointer
(the address) to the zero page location, which is itself a pointer.

&gt; Since you're
&gt; talking about having 1 window per application, make it have a fixed location
&gt; in zp that the compiler knows about, instead of a normal pointer variable.

I don't think it's a good idea to special case these things. First, this would
need special code in the compiler. Second, on some platforms there are not
many free zero page locations left. Third, if I allow one library allocating
space in the zero page, I will have to allow it also for other libraries.

&gt; As far as I can see, it will work with everything.  If you remember back to
&gt; the DOS days, this type of API is very similar to EMS (bank in memory).  If
&gt; you have to copy data around anyway, like with the REU or SCPU, then a XMS
&gt; type of API (copy data between external &amp; main RAM) would be faster, but
&gt; you'd lose all the speed of banking on systems that support it (GeoRAM,
&gt; linear access, and the cache idea).

If there is just one window, and the driver returns the pointer to this
window, memory extensions like GEO RAM don't need copying.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Extended%20memory">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Extended%20memory">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1746.html">MagerValp: "[cc65] SoftMMU"</a>
<li><strong>In reply to:</strong> <a href="1745.html">David Holz: "Re: [cc65] supercpu.c"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1746.html">MagerValp: "[cc65] SoftMMU"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-11-20 17:30:13 CET</em>
</em>
</small>
</body>
</html>
