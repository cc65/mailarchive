<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Inserting Assembly Routin</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Inserting Assembly Routines">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Inserting Assembly Routines</h1>
<!-- received="Tue Nov 26 13:28:28 2002" -->
<!-- isoreceived="20021126122828" -->
<!-- sent="Tue, 26 Nov 2002 13:28:27 +0100" -->
<!-- isosent="20021126122827" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Inserting Assembly Routines" -->
<!-- id="20021126122827.GA3553@trixie.musoftware.de" -->
<!-- inreplyto="15842.50657.378873.620931@panini.cling.gu.se" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Inserting%20Assembly%20Routines"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-11-26 13:28:27
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1797.html">Keates, Mark: "RE: [cc65] Inserting Assembly Routines"</a>
<li><strong>In reply to:</strong> <a href="1796.html">MagerValp: "Re: [cc65] Inserting Assembly Routines"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1800.html">MagerValp: "Re: [cc65] Inserting Assembly Routines"</a>
<li><strong>Next in thread:</strong> <a href="1792.html">Ullrich von Bassewitz: "Re: [cc65] Inserting Assembly Routines"</a>
<li><strong>Reply:</strong> <a href="1800.html">MagerValp: "Re: [cc65] Inserting Assembly Routines"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Tue, Nov 26, 2002 at 01:52:49AM +0100, MagerValp wrote:
&gt; For my supercpu code I need two 24-bit zp pointers. Where would be a
&gt; clean place to put them?

This is not an easy question, especially if you want to stay portable between
the platforms supported by the SCPU. The most portable solution would be to
use the new register variables:

        register char dummy[6];

This will save the current contents and make 6 bytes of zero page space
available. Problem with this approach is the overhead that goes with register
variables.

Currently, all platforms with the exception of GEOS have contignous zero page
locations. GEOS divides them into three chunks, but ptr1..4 do still live
together. So another solution would be to use ptr1/ptr2 for the first and
ptr3/ptr4 for the second zero page pointer (wasting one byte each time). This
would work for the C64, the C128 and for both using GEOS.

&gt; Should I use my own area for them (I'm a fan
&gt; of $5f and up) or can I count on ptr1..4 and tmp1..4 staying in the
&gt; same locations between cc65 releases?

Why do you need them in the same location between releases? Just access them
by name, and let the linker move it to the right place.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Inserting%20Assembly%20Routines">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Inserting%20Assembly%20Routines">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1797.html">Keates, Mark: "RE: [cc65] Inserting Assembly Routines"</a>
<li><strong>In reply to:</strong> <a href="1796.html">MagerValp: "Re: [cc65] Inserting Assembly Routines"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1800.html">MagerValp: "Re: [cc65] Inserting Assembly Routines"</a>
<li><strong>Next in thread:</strong> <a href="1792.html">Ullrich von Bassewitz: "Re: [cc65] Inserting Assembly Routines"</a>
<li><strong>Reply:</strong> <a href="1800.html">MagerValp: "Re: [cc65] Inserting Assembly Routines"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-11-26 13:28:40 CET</em>
</em>
</small>
</body>
</html>
