<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Inserting Assembly Routin</title>
<meta name="Author" content="Shawn Jefferson (sjefferson_at_sd62.bc.ca)">
<meta name="Subject" content="Re: [cc65] Inserting Assembly Routines">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Inserting Assembly Routines</h1>
<!-- received="Wed Nov 27 23:13:13 2002" -->
<!-- isoreceived="20021127221313" -->
<!-- sent="Wed, 27 Nov 2002 14:12:35 -0800" -->
<!-- isosent="20021127221235" -->
<!-- name="Shawn Jefferson" -->
<!-- email="sjefferson_at_sd62.bc.ca" -->
<!-- subject="Re: [cc65] Inserting Assembly Routines" -->
<!-- id="sde4d2f5.094@gwmail.sd62.bc.ca" -->
<!-- inreplyto="[cc65] Inserting Assembly Routines" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Shawn Jefferson (<a href="mailto:sjefferson_at_sd62.bc.ca?Subject=Re:%20[cc65]%20Inserting%20Assembly%20Routines"><em>sjefferson_at_sd62.bc.ca</em></a>)<br>
<strong>Date:</strong> 2002-11-27 23:12:35
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1824.html">Ullrich von Bassewitz: "Re: [cc65] Inserting Assembly Routines"</a>
<li><strong>Maybe in reply to:</strong> <a href="1785.html">Brian Bagnall: "[cc65] Inserting Assembly Routines"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1829.html">Ullrich von Bassewitz: "Re: [cc65] Inserting Assembly Routines"</a>
<li><strong>Reply:</strong> <a href="1829.html">Ullrich von Bassewitz: "Re: [cc65] Inserting Assembly Routines"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
&gt;&gt;&gt; Ullrich von Bassewitz &lt;<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Inserting%20Assembly%20Routines">uz_at_musoftware.de</a>&gt; 11/27/02 11:28AM &gt;&gt;&gt;

&gt;cc65 is able to work with bank switched memory, but it needs some help from
&gt;you, because you have to provide the necessary information and wrappers.
&gt;Because bank switching is always very machine dependent, and needs special
&gt;precautions by the programmer, it is not possible to convert existing programs
&gt;to bank switched programs just by the use of a compiler switch (or similar).
&gt;This is not a problem (or limitation) of cc65 alone, I don't know of any
&gt;compiler with such a capability.

In the Atari, this is complicated by the fact that a huge window is banked out (16 kB).  Using the banked memory as storage is easy if you do your own linker config and assign code segments manually.  Using it for code would be more of the same, I guess (as you have explained to me.)

In the internal.txt there is mention of using the extended ram and ram under the OS as a far heap. What does this mean?

I have thought of writing routines that would allow you to malloc memory in this extended memory banks, and when you want to access it, it would bank in the right memory bank and then malloc a block in regular ram, copy the data there, bank in the regular 16kB bank again, and return a pointer to the regular ram where it was copied.  This may be just too much overhead/work though....

Problems:
- this code must not be in the bank window
- the bank window cannot contain interrupt routines, or you must disable interrupts while the extended memory access is happening (might this be too long?)
- lots of overhead/speed issues maybe too.

Another topic: Are/is the module loading routines going to be supported on the Atari?


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Inserting%20Assembly%20Routines">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1824.html">Ullrich von Bassewitz: "Re: [cc65] Inserting Assembly Routines"</a>
<li><strong>Maybe in reply to:</strong> <a href="1785.html">Brian Bagnall: "[cc65] Inserting Assembly Routines"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1829.html">Ullrich von Bassewitz: "Re: [cc65] Inserting Assembly Routines"</a>
<li><strong>Reply:</strong> <a href="1829.html">Ullrich von Bassewitz: "Re: [cc65] Inserting Assembly Routines"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-11-27 23:13:24 CET</em>
</em>
</small>
</body>
</html>
