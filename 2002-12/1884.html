<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Debug Information in Obje</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Debug Information in Objectfiles">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Debug Information in Objectfiles</h1>
<!-- received="Wed Dec  4 12:49:38 2002" -->
<!-- isoreceived="20021204114938" -->
<!-- sent="Wed, 4 Dec 2002 12:49:37 +0100" -->
<!-- isosent="20021204114937" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Debug Information in Objectfiles" -->
<!-- id="20021204114937.GD26575@trixie.musoftware.de" -->
<!-- inreplyto="200212041154.26568.groepaz@gmx.net" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Debug%20Information%20in%20Objectfiles"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2002-12-04 12:49:37
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="1883.html">Ullrich von Bassewitz: "Re: [cc65] Think I found a cc65 bug"</a>
<li><strong>In reply to:</strong> <a href="1875.html">Groepaz: "Re: [cc65] Debug Information in Objectfiles"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1855.html">MagerValp: "Re: [cc65] Koala picture viewer"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

(BTW: The timestamp recorded in your mails seems to be off by one hour)

On Wed, Dec 04, 2002 at 11:54:26AM +0100, Groepaz wrote:
&gt; btw speaking of the docs...IMHO there should be a special section &quot;for former
&gt; tasm (and simelar) users&quot; that describes how to use ca65 in the most
&gt; &quot;tasm-ish&quot; way. (ie, many ppl i have been telling to use ca65 were switching
&gt; assemblers not because they were missing features, but because their old
&gt; assembler had obscure bugs - and is no more developed for that matter).

Yes, it would be useful, like a whole bunch of other things. Fact is that I'm
not able to do that, because my time is limited. I'm already way behind with
other cc65 stuff, and I'm currently spending a lot of time working on the
compiler. With new libraries, new features, more doc files that have to be
updated, it becomes more and more difficult to keep all this up to date. There
will probably be a new compiler release in about 7 days - going out with known
bugs, because I'm not able to fix them before the release date. Christian and
Maciej are doing a great job maintaining the Atari and GEOS parts, and I'm
very glad about the solid and steady work. But please remember that the
complete remainder, that is: all CBM platforms, the compiler, linker,
assembler, archiver, most of the shared runtime and C library, new APIs like
the graphics and extended memory API, and a lot of design work are my part.
While I'm currently able to spend a substantial amount of time on cc65, this
will change soon, so I cannot start anything new now.

&gt; however, if you would like to add sth like that to the docs, i'd volunteer to
&gt; write it ... i can probably cut'n'paste it from my emails anyway :o)

I'm alsways glad about contributions. Please have a look at the existing docs
and create yours in a similar way. Which means: Use SGML and the LinuxDoc
style and try to make it fit into the existing documentation.

&gt; yeah, looks good... i'll start with making my mind up about how to implement
&gt; this at ALL hehehe :o)

I've started a simulator a long time ago, but I never had the time to work on
it since then (see above for possible reasons). My plan was to create a
virtual 6502 machine that is specially crafted to work as a debugger in a
hosted environment (and NOT to emulate an existing machine). It would load
modules (dynamic libraries) to implement memory areas, I/O chips and such, so
the actual memory layout can be adjusted to the code. Using printf would write
to stdout of the simulator process and reading from stdin would read from
stdin of the process, so it would be possible to feed test code and data to
this simulator in an easy way and check the output for any problems. Doing
this, tests could be automated and a test suite could be developed that is run
over the compiler before a release.

&gt; after a quick peek... i wouldnt mind ALL filenames written by their absolute
&gt; pathes. :) (else the debugger for example needs to know about the location of
&gt; the library sources).

This does not really help, since most people will link against runtime
libraries not created on their system. Use the filenames as is and add
additional directories that can be searched for files. If this shows up to be
a real problem, THEN the time is come to think about another solution.

&gt; also, i think the file should tell the total memory used by the program (maybe
&gt; splitted into bss/code/data etc) so the debugger can use that, and the the
&gt; addr2line info for calculating areas for which is no debug-information
&gt; available, but which are still code. (is that even a possible scenario incase
&gt; of cc65? mmmh)

Since all symbols are available to the debugger, it is easy to access
__RAM_START__ and friends to get information about the memory layout.

&gt; oh and apropos label files.... is there a way to get ALL labels written there,
&gt; not just the exported ones?

See debugging.sgml - you have to use the &quot;-g&quot; switch when compiling.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Debug%20Information%20in%20Objectfiles">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Debug%20Information%20in%20Objectfiles">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="1883.html">Ullrich von Bassewitz: "Re: [cc65] Think I found a cc65 bug"</a>
<li><strong>In reply to:</strong> <a href="1875.html">Groepaz: "Re: [cc65] Debug Information in Objectfiles"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="1855.html">MagerValp: "Re: [cc65] Koala picture viewer"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2002-12-04 12:49:44 CET</em>
</em>
</small>
</body>
</html>
