<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: [cc65] CC65 Memory Corruption</title>
<meta name="Author" content="Tim Vanderhoek (hoek_at_FreeBSD.org)">
<meta name="Subject" content="[cc65] CC65 Memory Corruption">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>[cc65] CC65 Memory Corruption</h1>
<!-- received="Thu Jan  2 07:00:10 2003" -->
<!-- isoreceived="20030102060010" -->
<!-- sent="Thu, 2 Jan 2003 01:00:05 -0500" -->
<!-- isosent="20030102060005" -->
<!-- name="Tim Vanderhoek" -->
<!-- email="hoek_at_FreeBSD.org" -->
<!-- subject="[cc65] CC65 Memory Corruption" -->
<!-- id="20030102060005.GA7624@turquoise" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Tim Vanderhoek (<a href="mailto:hoek_at_FreeBSD.org?Subject=Re:%20[cc65]%20CC65%20Memory%20Corruption"><em>hoek_at_FreeBSD.org</em></a>)<br>
<strong>Date:</strong> 2003-01-02 07:00:05
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2187.html">Ullrich von Bassewitz: "Re: [cc65] ATARI Multijoy Joystickdriver"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2190.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<li><strong>Reply:</strong> <a href="2190.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<li><strong>Reply:</strong> <a href="2210.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi,

I ran into some trouble with the cc65 compiler trying to access memory
that had already been free()'d.

I've attached a patch that is relative to version 2.8.0 of cc65.  I
took a look at the 2.9.0 sources and it looks like it should apply
without too much trouble to 2.9.0.  In 2.8.0 the function called
OptPtrLoad3() is now called OptPtrLoad2().  Other than that, the
patch should apply.

This problem causes cc65 to crash while compiling libsrc in any
environment where free() by default trashes memory that is freed.


-- 
If I could think of a two-line witty aphorism for you to remember
me by, this would definitely be it.


</pre>
<hr noshade>
<ul>
<li>text/plain attachment: <a href="../att-2188/01-codeopt.c.diff">codeopt.c.diff</a>
</ul>
<!-- attachment="01-codeopt.c.diff" -->
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20CC65%20Memory%20Corruption">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2187.html">Ullrich von Bassewitz: "Re: [cc65] ATARI Multijoy Joystickdriver"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2190.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<li><strong>Reply:</strong> <a href="2190.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<li><strong>Reply:</strong> <a href="2210.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-01-02 07:00:27 CET</em>
</em>
</small>
</body>
</html>
