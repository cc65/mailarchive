<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] CC65 Memory Corruption</title>
<meta name="Author" content="Tim Vanderhoek (hoek_at_FreeBSD.org)">
<meta name="Subject" content="Re: [cc65] CC65 Memory Corruption">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] CC65 Memory Corruption</h1>
<!-- received="Fri Jan  3 00:23:25 2003" -->
<!-- isoreceived="20030102232325" -->
<!-- sent="Thu, 2 Jan 2003 18:23:17 -0500" -->
<!-- isosent="20030102232317" -->
<!-- name="Tim Vanderhoek" -->
<!-- email="hoek_at_FreeBSD.org" -->
<!-- subject="Re: [cc65] CC65 Memory Corruption" -->
<!-- id="20030102232316.GA70848@turquoise" -->
<!-- inreplyto="20030102211148.GA22456@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Tim Vanderhoek (<a href="mailto:hoek_at_FreeBSD.org?Subject=Re:%20[cc65]%20CC65%20Memory%20Corruption"><em>hoek_at_FreeBSD.org</em></a>)<br>
<strong>Date:</strong> 2003-01-03 00:23:17
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2201.html">Maciej Witkowiak: "Re: [cc65] LUnix"</a>
<li><strong>In reply to:</strong> <a href="2190.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2213.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<li><strong>Next in thread:</strong> <a href="2210.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<li><strong>Reply:</strong> <a href="2213.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Thu, Jan 02, 2003 at 10:11:48PM +0100, Ullrich von Bassewitz wrote:
[...] 
&gt; Just out of curiosity: How did you notice this bug? I think it is in the code
&gt; for several versions now and did also survive tests using the Valgrind memory
&gt; debugger.

The FreeBSD 'port' failed to build on FreeBSD 5.0 (not yet released).  The
malloc() and free() on FBSD 5.0 is set to by default overwrite memory
with 0xd0d0d0d0 whenever it's free()'d.  This will be disabled once 5.0
is officially released, so it would have built correctly on the final 5.0.

It's actually failed to build on FreeBSD -current for quite a while; it
just wasn't until now (Christmas vacation) that I had a chance to investigate.

I'm quite surprised the memory debugger didn't find it.  It shows-up
while compiling libsrc/common/ and libsrc/cbm/.


-- 
If I could think of a two-line witty aphorism for you to remember
me by, this would definitely be it.
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20CC65%20Memory%20Corruption">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2201.html">Maciej Witkowiak: "Re: [cc65] LUnix"</a>
<li><strong>In reply to:</strong> <a href="2190.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2213.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<li><strong>Next in thread:</strong> <a href="2210.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<li><strong>Reply:</strong> <a href="2213.html">Ullrich von Bassewitz: "Re: [cc65] CC65 Memory Corruption"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-01-03 00:23:28 CET</em>
</em>
</small>
</body>
</html>
