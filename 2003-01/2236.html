<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Joystick support</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Joystick support">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Joystick support</h1>
<!-- received="Tue Jan  7 07:58:49 2003" -->
<!-- isoreceived="20030107065849" -->
<!-- sent="Tue, 7 Jan 2003 07:58:49 +0100" -->
<!-- isosent="20030107065849" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Joystick support" -->
<!-- id="20030107065849.GB25318@trixie.musoftware.de" -->
<!-- inreplyto="003e01c2b4fc$77e5c3a0$e92d2c42@palace" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Joystick%20support"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-01-07 07:58:49
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2235.html">Ullrich von Bassewitz: "Re: [cc65] Best way to get align memory..."</a>
<li><strong>In reply to:</strong> <a href="2215.html">Greg King: "Re: [cc65] Joystick support"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2241.html">Maciej Witkowiak: "Re: [cc65] Joystick support"</a>
<li><strong>Reply:</strong> <a href="2241.html">Maciej Witkowiak: "Re: [cc65] Joystick support"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Sun, Jan 05, 2003 at 03:35:53PM -0500, Greg King wrote:
&gt; The lack of module-support should not be a problem.  Uz was wise enough to bury
&gt; the module-loader behind &quot;task-wrappers.&quot;  Those functions [such as
&gt; joy_load_driver()] are not required actually to load anything!  Any target is
&gt; free to replace the generic files with custom ones that pretend to load a
&gt; module, while really statically-linking a driver from a library.
&gt;
&gt; That's what the LUnix target does,
&gt; because a basic joystick-driver is built into the operating system.

While this is one possible solution, I would prefer to have a &quot;real&quot; module
and leave this choice to the programmer. A loadable module is only a few bytes
larger than a statically linked object file. If you fear the overhead of the
o65 module loader and the heap routines, my suggestion would be to replace
these by Lunix native ones. As far as I understand Lunix, this has to be done
anyway, at least with the head routines.

&gt; Hey, Uz!  In order for that replacement-policy to be easy and efficient, you

I'm not really sure if I want this replacement policy to be easy:-) Problem is
that people tend to use easy solutions, and being able to write platform
specific replacement modules easily means that people will do that instead of
thinking about a solution that works for all platforms.

Of course you are right: There are situations, where one needs machine
specific code, even if all other platforms share code for a module. On the
other side, having separate code means a lot more problems when maintaining
this code. When I added __bzero() to the compiler for example, I forgot that
GEOS has a separate implementation for memset(), so GEOS didn't have __bzero.
Together with another change that caused the compiler to replace calls to
memset with a fill value of zero with calls to __bzero, this meaned that
programs would no longer compile for GEOS. More machine specific code means a
greater chance for things like this to happen.

So for now I would prefer to leave the Makefile the way it is. There is always
the possibility to change it when the actual need arises.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Joystick%20support">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Joystick%20support">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2235.html">Ullrich von Bassewitz: "Re: [cc65] Best way to get align memory..."</a>
<li><strong>In reply to:</strong> <a href="2215.html">Greg King: "Re: [cc65] Joystick support"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2241.html">Maciej Witkowiak: "Re: [cc65] Joystick support"</a>
<li><strong>Reply:</strong> <a href="2241.html">Maciej Witkowiak: "Re: [cc65] Joystick support"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-01-07 07:58:54 CET</em>
</em>
</small>
</body>
</html>
