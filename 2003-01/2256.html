<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] 6502.h</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] 6502.h">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] 6502.h</h1>
<!-- received="Thu Jan  9 15:09:13 2003" -->
<!-- isoreceived="20030109140913" -->
<!-- sent="Thu, 9 Jan 2003 15:09:12 +0100" -->
<!-- isosent="20030109140912" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] 6502.h" -->
<!-- id="20030109140912.GA1210@trixie.musoftware.de" -->
<!-- inreplyto="Pine.SOL.4.30.0301091442060.4593-100000@mion.elka.pw.edu.pl" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%206502.h"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-01-09 15:09:12
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2255.html">Piotr Fusik: "Re: [cc65] POSIX i/o"</a>
<li><strong>In reply to:</strong> <a href="2254.html">Piotr Fusik: "Re: [cc65] 6502.h"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2257.html">Piotr Fusik: "Re: [cc65] 6502.h"</a>
<li><strong>Reply:</strong> <a href="2257.html">Piotr Fusik: "Re: [cc65] 6502.h"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Thu, Jan 09, 2003 at 02:51:08PM +0100, Piotr Fusik wrote:
&gt; &gt; So I will change this to %11001111 to remove the break flag.
&gt;
&gt; Again, why?
&gt; Bits 4 and 5 are used for some extensions in other 65xx family CPUs, so I
&gt; don't see a reason to always clear them.

Because I don't know what these bits may do on some other CPU. It is good
programming practice to program exactly according to a specification and to
exclude anything that lies outside of the specs.

Taking the 65816 as an example: The two bits masked out will switch the
accumulator and index register to 16 bits. Since the _sys() routine does not
support the 65816 explicitly, weird things will happen when these bits are
used. If the bit for switching the accumulator to 16 bits is used for example,
the code that is executed after return from the routine will fail, which will
cause the program to crash. Other 65XX family CPUs may use these bits for
other purposes. I don't think it's a good idea to enable them without knowing
what happens.

If you want to have support for the 816, then do that explicitly. Either by
using a separate function (which may also support 16 bit register values), or
by creating a separate library with 816 support.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%206502.h">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%206502.h">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2255.html">Piotr Fusik: "Re: [cc65] POSIX i/o"</a>
<li><strong>In reply to:</strong> <a href="2254.html">Piotr Fusik: "Re: [cc65] 6502.h"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2257.html">Piotr Fusik: "Re: [cc65] 6502.h"</a>
<li><strong>Reply:</strong> <a href="2257.html">Piotr Fusik: "Re: [cc65] 6502.h"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-01-09 15:09:18 CET</em>
</em>
</small>
</body>
</html>
