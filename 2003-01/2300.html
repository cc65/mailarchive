<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Best way to get aligned m</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Best way to get aligned memory...">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Best way to get aligned memory...</h1>
<!-- received="Wed Jan 15 18:52:18 2003" -->
<!-- isoreceived="20030115175218" -->
<!-- sent="Wed, 15 Jan 2003 18:52:17 +0100" -->
<!-- isosent="20030115175217" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Best way to get aligned memory..." -->
<!-- id="20030115175217.GF26009@trixie.musoftware.de" -->
<!-- inreplyto="200301150122.07417.groepaz@gmx.net" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Best%20way%20to%20get%20aligned%20memory..."><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-01-15 18:52:17
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2299.html">Ullrich von Bassewitz: "Re: [cc65] Newbie question: memcpy"</a>
<li><strong>In reply to:</strong> <a href="2292.html">Groepaz: "Re: [cc65] Best way to get aligned memory..."</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2308.html">Christian Krüger: "Re: [cc65] Best way to get aligned memory..."</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Wed, Jan 15, 2003 at 01:22:07AM +0100, Groepaz wrote:
&gt; &gt; Because .ALIGN needs the segment to be aligned to that boundary, but BSS
&gt; &gt; has an alignment of 1. At least this is how it is currently implemented.
&gt; &gt; Groepaz already complained about it (loudly:-), so it may get changed, but
&gt; &gt; it's very low priority.
&gt;
&gt; there's a quite easy fix which i am using atm.... just put some padding-bytes
&gt; into crt0, so that the &quot;startup&quot; segment ends at an even adress... that way
&gt; atleast alignment to even adresses works (with more padding == waste more
&gt; memory you can have working page-aligment aswell....etc).

The sections (= parts of a segment) inside an object file are already marked
in the header of the object file with the required alignment. Since the linker
cannot add bytes within a section (this would change the size of the data and
would therefore interfere with address calculations done by the assembler),
an easier solution would be to pad the start of the section to the required
alignment.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Best%20way%20to%20get%20aligned%20memory...">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Best%20way%20to%20get%20aligned%20memory...">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2299.html">Ullrich von Bassewitz: "Re: [cc65] Newbie question: memcpy"</a>
<li><strong>In reply to:</strong> <a href="2292.html">Groepaz: "Re: [cc65] Best way to get aligned memory..."</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2308.html">Christian Krüger: "Re: [cc65] Best way to get aligned memory..."</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-01-15 18:52:22 CET</em>
</em>
</small>
</body>
</html>
