<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Best way to get aligned m</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Best way to get aligned memory...">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Best way to get aligned memory...</h1>
<!-- received="Sun Jan 19 12:40:09 2003" -->
<!-- isoreceived="20030119114009" -->
<!-- sent="Sun, 19 Jan 2003 12:40:07 +0100" -->
<!-- isosent="20030119114007" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Best way to get aligned memory..." -->
<!-- id="20030119114007.GE4477@trixie.musoftware.de" -->
<!-- inreplyto="DCE2904C62EF104F9B2C76252D63EDB1032FA9@paceserver1.pace.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Best%20way%20to%20get%20aligned%20memory..."><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-01-19 12:40:07
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2318.html">Ullrich von Bassewitz: "Re: [cc65] POSIX i/o"</a>
<li><strong>In reply to:</strong> <a href="2308.html">Christian Krüger: "Re: [cc65] Best way to get aligned memory..."</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2309.html">Greg King: "Re: [cc65] Best way to get aligned memory..."</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Thu, Jan 16, 2003 at 12:17:19PM +0100, Christian Krüger wrote:
&gt; will not work (cc65 2.9.0) (_buffer seems to be zero), and I'm not
&gt; sure if it could work.

Greg has already posted the solution (using .AND was wrong, use .BITAND
instead).

&gt; In my understanding the value of 'buf' can only resolved by the linker,
&gt; so the '_buffer' equation have to be also done by the linker?
&gt; Is the linker capable resolving assembler equations?

One of the basic design decisions when writing the tool chain was that the
linker must be able to resolve arbitrary expressions. This is one of the
reasons why I didn't use an existing object code format (I did evaluate o65 at
that time but decided against it), because the assembler stores complete
expression trees in the object files for evaluation by the linker.

There are some limits, for example it cannot insert space within a module,
because some address calculations are already done by the assembler, but apart
from that it is able to evaluate any expression that you can enter in the
assembler. If you find a place where this does not work, it is either one of
the exceptions or an error and should be reported as a bug.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Best%20way%20to%20get%20aligned%20memory...">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Best%20way%20to%20get%20aligned%20memory...">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2318.html">Ullrich von Bassewitz: "Re: [cc65] POSIX i/o"</a>
<li><strong>In reply to:</strong> <a href="2308.html">Christian Krüger: "Re: [cc65] Best way to get aligned memory..."</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2309.html">Greg King: "Re: [cc65] Best way to get aligned memory..."</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-01-19 12:40:13 CET</em>
</em>
</small>
</body>
</html>
