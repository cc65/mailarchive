<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] register vars</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] register vars">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] register vars</h1>
<!-- received="Tue Jan 28 17:39:27 2003" -->
<!-- isoreceived="20030128163927" -->
<!-- sent="Tue, 28 Jan 2003 17:39:30 +0100" -->
<!-- isosent="20030128163930" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] register vars" -->
<!-- id="20030128163930.GC8599@trixie.musoftware.de" -->
<!-- inreplyto="200301240021.h0O0L4pK044910@xcip5.studcs.uni-sb.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20register%20vars"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-01-28 17:39:30
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2354.html">Ullrich von Bassewitz: "Re: [cc65] mallocing an aligned buffer"</a>
<li><strong>Maybe in reply to:</strong> <a href="2313.html">Stephan Lesch: "[cc65] register vars"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Fri, Jan 24, 2003 at 01:21:04AM +0100, Stephan Lesch wrote:
&gt; Same result when I remove the pragma, and still the same if I remove the
&gt; pragma and the 'extern' lines, and declare the variable using
&gt; static unsigned char *source = (unsigned char*)0xfc;
&gt; instead...

The problem is that the variable is correctly imported as zero page variable
(so the assembler will use zero page addressing mode when accessing this
variable), but the compiler will not make use of it as zero page variable, so
it's still copied when using it as a pointer.

&gt; Is there a way to get, e.g. sta($fa),y, if source == $fa?

Currently not. I will have to check if there is a simple way to make this
work, but I'm still somewhat short in time (and still catching up with my
mailbox:-).

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20register%20vars">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20register%20vars">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2354.html">Ullrich von Bassewitz: "Re: [cc65] mallocing an aligned buffer"</a>
<li><strong>Maybe in reply to:</strong> <a href="2313.html">Stephan Lesch: "[cc65] register vars"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-01-28 17:39:32 CET</em>
</em>
</small>
</body>
</html>
