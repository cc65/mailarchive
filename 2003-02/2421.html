<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: [cc65] parameter and assembly preced</title>
<meta name="Author" content="3843416 (carlosofcascade_at_gmx.net)">
<meta name="Subject" content="[cc65] parameter and assembly precedures">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>[cc65] parameter and assembly precedures</h1>
<!-- received="Sat Feb  8 18:37:55 2003" -->
<!-- isoreceived="20030208173755" -->
<!-- sent="Sat, 08 Feb 2003 18:37:06 +0100" -->
<!-- isosent="20030208173706" -->
<!-- name="3843416" -->
<!-- email="carlosofcascade_at_gmx.net" -->
<!-- subject="[cc65] parameter and assembly precedures" -->
<!-- id="3E454042.9CD68A8@gmx.net" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> 3843416 (<a href="mailto:carlosofcascade_at_gmx.net?Subject=Re:%20[cc65]%20parameter%20and%20assembly%20precedures"><em>carlosofcascade_at_gmx.net</em></a>)<br>
<strong>Date:</strong> 2003-02-08 18:37:06
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2420.html">Shawn Jefferson: "Re: [cc65] Strange problem"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2422.html">Ullrich von Bassewitz: "Re: [cc65] parameter and assembly precedures"</a>
<li><strong>Reply:</strong> <a href="2422.html">Ullrich von Bassewitz: "Re: [cc65] parameter and assembly precedures"</a>
<li><strong>Reply:</strong> <a href="2450.html">Greg King: "Re: [cc65] parameter and assembly precedures"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
i have an assembler procedure and like to get the parameters my c main
program pushes.

i have declared a prototype of the assembly procedure like this:

void __fastcall__ bla (char par1, char par2, char par3);

in the assembly procedure i tried to get the values by accessing the sp.

jsr decsp3

ldy #2
lda (sp),y
sta var3
dey
lda (sp),y
sta var2
dey
lda (sp),y
sta var1

jsr incsp3
rts

where var1, var2, var3 belongs simultaneously to par1, par2, par3.

the compiler gives me the error
that he found the unresolved externals incsp3, decsp3.

i linked c64.o with the file. so the linker should find incsp3, decsp3.

carlos




----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20parameter%20and%20assembly%20precedures">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2420.html">Shawn Jefferson: "Re: [cc65] Strange problem"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2422.html">Ullrich von Bassewitz: "Re: [cc65] parameter and assembly precedures"</a>
<li><strong>Reply:</strong> <a href="2422.html">Ullrich von Bassewitz: "Re: [cc65] parameter and assembly precedures"</a>
<li><strong>Reply:</strong> <a href="2450.html">Greg King: "Re: [cc65] parameter and assembly precedures"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-02-08 18:38:47 CET</em>
</em>
</small>
</body>
</html>
