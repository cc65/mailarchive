<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Double star?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Double star?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Double star?</h1>
<!-- received="Tue Feb 25 20:41:11 2003" -->
<!-- isoreceived="20030225194111" -->
<!-- sent="Tue, 25 Feb 2003 20:41:06 +0100" -->
<!-- isosent="20030225194106" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Double star?" -->
<!-- id="20030225194106.GA11567@trixie.musoftware.de" -->
<!-- inreplyto="20030225203319.A2351@ws" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Double%20star?"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-02-25 20:41:06
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2503.html">M Ancher: "Re: [cc65] Double star?"</a>
<li><strong>In reply to:</strong> <a href="2503.html">M Ancher: "Re: [cc65] Double star?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2505.html">Bryan Pope: "Re: [cc65] Double star?"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Tue, Feb 25, 2003 at 08:33:19PM +0100, M Ancher wrote:
&gt; The prototype for &quot;xmemmove&quot; is:
&gt; static void xmemmove(uchar *dst, uchar *src, uint32 size)

The function expects an &quot;uchar*&quot; as first and second parameter, but you're
passing an &quot;WClassStruct**&quot; for both. So the compiler is right, it's the code
that is invalid.

If xmemmove() should act like memmove(), then I would suggest calling
memmove() instead, because memmove() is a hand optimized assembler subroutine.
And, memmove() takes two void pointers, so the call will work. Another
solution is to rewrite xmemmove() accordingly. If you're going to rewrite
xmemmove(), please note that declaring the third parameter as uint32 is
useless and leads to bloated code. Since the address space of the 6502 is only
16 bits, a copy function does not need to handle a 32 bit counter. In general,
any 32 bit variable that is a counter or similar thing should be checked and
replaced by a 16 bit variable if possible. See topic 4 in coding.html:

    4. Longs are slow!

    While long support is necessary for some things, it's really, really slow
    on the 6502. Remember that any long variable will use 4 bytes of memory,
    and any operation works on double the data compared to an int.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Double%20star?">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Double%20star?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2503.html">M Ancher: "Re: [cc65] Double star?"</a>
<li><strong>In reply to:</strong> <a href="2503.html">M Ancher: "Re: [cc65] Double star?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2505.html">Bryan Pope: "Re: [cc65] Double star?"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-02-25 20:41:15 CET</em>
</em>
</small>
</body>
</html>
