<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] IEEE vs nonstandard floats</title>
<meta name="Author" content="David Holz (davidh_at_otterspace.com)">
<meta name="Subject" content="Re: [cc65] IEEE vs nonstandard floats">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] IEEE vs nonstandard floats</h1>
<!-- received="Mon Mar 10 01:54:05 2003" -->
<!-- isoreceived="20030310005405" -->
<!-- sent="Sun, 9 Mar 2003 16:58:38 -0800" -->
<!-- isosent="20030310005838" -->
<!-- name="David Holz" -->
<!-- email="davidh_at_otterspace.com" -->
<!-- subject="Re: [cc65] IEEE vs nonstandard floats" -->
<!-- id="12ff01c2e6a0$2f7be600$6902a8c0@magnesium" -->
<!-- inreplyto="20030309230942.GB26174@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> David Holz (<a href="mailto:davidh_at_otterspace.com?Subject=Re:%20[cc65]%20IEEE%20vs%20nonstandard%20floats"><em>davidh_at_otterspace.com</em></a>)<br>
<strong>Date:</strong> 2003-03-10 01:58:38
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2674.html">Greg Long: "RE: [cc65] Possible bug:  All labels but first are added to .s file using inline assy"</a>
<li><strong>In reply to:</strong> <a href="2673.html">Ullrich von Bassewitz: "Re: [cc65] IEEE vs nonstandard floats"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2676.html">Greg Long: "RE: [cc65] IEEE vs nonstandard floats - math.h???"</a>
<li><strong>Reply:</strong> <a href="2676.html">Greg Long: "RE: [cc65] IEEE vs nonstandard floats - math.h???"</a>
<li><strong>Reply:</strong> <a href="2679.html">Spiro Trikaliotis: "Re: [cc65] IEEE vs nonstandard floats"</a>
<li><strong>Reply:</strong> <a href="2680.html">Ullrich von Bassewitz: "Re: [cc65] IEEE vs nonstandard floats"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
From: &quot;Ullrich von Bassewitz&quot; &lt;<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20IEEE%20vs%20nonstandard%20floats">uz_at_musoftware.de</a>&gt;
&gt; If you can prove in advance that a specific custom format is significantly
&gt; faster than the IEEE format, I'm open for this suggestion. But I have to
admit
&gt; that I doubt this is the case.

What I meant is if there's a good 6502 FP library available that doesn't use
exactly the IEEE binary representation.  For instance, my math lib that I've
been messing around with for some time has the exponent as the number of
bytes (instead of bits) to shift, and I normalize the highest mantissa byte
to non-zero instead of having the implied &quot;1&quot; hanging off the end.  Saves a
load of bit-shifting, but I add another byte onto the mantissa to maintain
precision.  Plus, I haven't finished it so it's as of yet unproven, but I
think it's got good potential as a different, faster way of doing FP on the
6502.

&gt; Here's another one: The standard specifies explicitly how the different
&gt; situations should be handled, so it is easy to diagnose if there are
problems
&gt; with the implementation, and a user knows exactly what he can expect.

If those situations are met, but the binary representation isn't exactly
IEEE, it should still work, right?

&gt; The C standard does not require fp math functions to raise a signal on an
&gt; error condition. But it requires that the a math function returns an
&gt; implementation defined value, so these error conditions have to be
detected
&gt; and handled in some way.

Right, so SIGFPE is Posix or somesuch, but you can implement any error
mechanism you want (well, besides crashing ;) ) and still be C compliant?

--
White Flame (aka David Holz)
<a href="http://www.white-flame.com/">http://www.white-flame.com/</a>


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20IEEE%20vs%20nonstandard%20floats">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2674.html">Greg Long: "RE: [cc65] Possible bug:  All labels but first are added to .s file using inline assy"</a>
<li><strong>In reply to:</strong> <a href="2673.html">Ullrich von Bassewitz: "Re: [cc65] IEEE vs nonstandard floats"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2676.html">Greg Long: "RE: [cc65] IEEE vs nonstandard floats - math.h???"</a>
<li><strong>Reply:</strong> <a href="2676.html">Greg Long: "RE: [cc65] IEEE vs nonstandard floats - math.h???"</a>
<li><strong>Reply:</strong> <a href="2679.html">Spiro Trikaliotis: "Re: [cc65] IEEE vs nonstandard floats"</a>
<li><strong>Reply:</strong> <a href="2680.html">Ullrich von Bassewitz: "Re: [cc65] IEEE vs nonstandard floats"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-03-10 01:54:19 CET</em>
</em>
</small>
</body>
</html>
