<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: RE: [cc65] IEEE vs nonstandard float</title>
<meta name="Author" content="Greg Long (cc65_at_maneuveringspeed.com)">
<meta name="Subject" content="RE: [cc65] IEEE vs nonstandard floats - math.h???">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>RE: [cc65] IEEE vs nonstandard floats - math.h???</h1>
<!-- received="Mon Mar 10 03:16:39 2003" -->
<!-- isoreceived="20030310021639" -->
<!-- sent="Sun, 9 Mar 2003 18:15:51 -0800" -->
<!-- isosent="20030310021551" -->
<!-- name="Greg Long" -->
<!-- email="cc65_at_maneuveringspeed.com" -->
<!-- subject="RE: [cc65] IEEE vs nonstandard floats - math.h???" -->
<!-- id="000c01c2e6aa$f93d7b20$c380d38c@ENDEAVOR" -->
<!-- inreplyto="12ff01c2e6a0$2f7be600$6902a8c0@magnesium" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Greg Long (<a href="mailto:cc65_at_maneuveringspeed.com?Subject=RE:%20[cc65]%20IEEE%20vs%20nonstandard%20floats%20-%20math.h???"><em>cc65_at_maneuveringspeed.com</em></a>)<br>
<strong>Date:</strong> 2003-03-10 03:15:51
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2675.html">David Holz: "Re: [cc65] IEEE vs nonstandard floats"</a>
<li><strong>In reply to:</strong> <a href="2675.html">David Holz: "Re: [cc65] IEEE vs nonstandard floats"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2681.html">Ullrich von Bassewitz: "Re: [cc65] IEEE vs nonstandard floats - math.h???"</a>
<li><strong>Next in thread:</strong> <a href="2679.html">Spiro Trikaliotis: "Re: [cc65] IEEE vs nonstandard floats"</a>
<li><strong>Next in thread:</strong> <a href="2678.html">Tim Schürmann: "Re: [cc65] IEEE vs nonstandard floats"</a>
<li><strong>Reply:</strong> <a href="2681.html">Ullrich von Bassewitz: "Re: [cc65] IEEE vs nonstandard floats - math.h???"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
There is a math.h available for CC65?

-----Original Message-----
From: <a href="mailto:owner-cc65_at_musoftware.de?Subject=RE:%20[cc65]%20IEEE%20vs%20nonstandard%20floats%20-%20math.h???">owner-cc65_at_musoftware.de</a> [mailto:<a href="mailto:owner-cc65_at_musoftware.de?Subject=RE:%20[cc65]%20IEEE%20vs%20nonstandard%20floats%20-%20math.h???">owner-cc65_at_musoftware.de</a>] On
Behalf Of David Holz
Sent: Sunday, March 09, 2003 4:59 PM
To: <a href="mailto:cc65_at_musoftware.de?Subject=RE:%20[cc65]%20IEEE%20vs%20nonstandard%20floats%20-%20math.h???">cc65_at_musoftware.de</a>
Subject: Re: [cc65] IEEE vs nonstandard floats


From: &quot;Ullrich von Bassewitz&quot; &lt;<a href="mailto:uz_at_musoftware.de?Subject=RE:%20[cc65]%20IEEE%20vs%20nonstandard%20floats%20-%20math.h???">uz_at_musoftware.de</a>&gt;
&gt; If you can prove in advance that a specific custom format is 
&gt; significantly faster than the IEEE format, I'm open for this 
&gt; suggestion. But I have to
admit
&gt; that I doubt this is the case.

What I meant is if there's a good 6502 FP library available that doesn't
use exactly the IEEE binary representation.  For instance, my math lib
that I've been messing around with for some time has the exponent as the
number of bytes (instead of bits) to shift, and I normalize the highest
mantissa byte to non-zero instead of having the implied &quot;1&quot; hanging off
the end.  Saves a load of bit-shifting, but I add another byte onto the
mantissa to maintain precision.  Plus, I haven't finished it so it's as
of yet unproven, but I think it's got good potential as a different,
faster way of doing FP on the 6502.

&gt; Here's another one: The standard specifies explicitly how the 
&gt; different situations should be handled, so it is easy to diagnose if 
&gt; there are
problems
&gt; with the implementation, and a user knows exactly what he can expect.

If those situations are met, but the binary representation isn't exactly
IEEE, it should still work, right?

&gt; The C standard does not require fp math functions to raise a signal on

&gt; an error condition. But it requires that the a math function returns 
&gt; an implementation defined value, so these error conditions have to be
detected
&gt; and handled in some way.

Right, so SIGFPE is Posix or somesuch, but you can implement any error
mechanism you want (well, besides crashing ;) ) and still be C
compliant?

--
White Flame (aka David Holz)
<a href="http://www.white-flame.com/">http://www.white-flame.com/</a>


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=RE:%20[cc65]%20IEEE%20vs%20nonstandard%20floats%20-%20math.h???">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.

----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=RE:%20[cc65]%20IEEE%20vs%20nonstandard%20floats%20-%20math.h???">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2675.html">David Holz: "Re: [cc65] IEEE vs nonstandard floats"</a>
<li><strong>In reply to:</strong> <a href="2675.html">David Holz: "Re: [cc65] IEEE vs nonstandard floats"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2681.html">Ullrich von Bassewitz: "Re: [cc65] IEEE vs nonstandard floats - math.h???"</a>
<li><strong>Next in thread:</strong> <a href="2679.html">Spiro Trikaliotis: "Re: [cc65] IEEE vs nonstandard floats"</a>
<li><strong>Next in thread:</strong> <a href="2678.html">Tim Schürmann: "Re: [cc65] IEEE vs nonstandard floats"</a>
<li><strong>Reply:</strong> <a href="2681.html">Ullrich von Bassewitz: "Re: [cc65] IEEE vs nonstandard floats - math.h???"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-03-10 03:17:01 CET</em>
</em>
</small>
</body>
</html>
