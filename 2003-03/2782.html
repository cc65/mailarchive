<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] The Contiki Desktop OS fo</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] The Contiki Desktop OS for cc65">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] The Contiki Desktop OS for cc65</h1>
<!-- received="Sat Mar 15 14:11:57 2003" -->
<!-- isoreceived="20030315131157" -->
<!-- sent="Sat, 15 Mar 2003 14:11:54 +0100" -->
<!-- isosent="20030315131154" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] The Contiki Desktop OS for cc65" -->
<!-- id="20030315131153.GB1095@trixie.musoftware.de" -->
<!-- inreplyto="se71d354.067@gwmail.sd62.bc.ca" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20The%20Contiki%20Desktop%20OS%20for%20cc65"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-03-15 14:11:54
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2781.html">Ullrich von Bassewitz: "Re: [cc65] non-ANSI extensions and initialized structures"</a>
<li><strong>In reply to:</strong> <a href="2771.html">Shawn Jefferson: "Re: [cc65] The Contiki Desktop OS for cc65"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2720.html">josef.soucek_at_ct.cz: "RE: Re: [cc65] The Contiki Desktop OS for cc65"</a>
<li><strong>Maybe reply:</strong> <a href="2720.html">josef.soucek_at_ct.cz: "RE: Re: [cc65] The Contiki Desktop OS for cc65"</a>
<li><strong>Maybe reply:</strong> <a href="2721.html">josef.soucek_at_ct.cz: "RE: Re: [cc65] The Contiki Desktop OS for cc65"</a>
<li><strong>Maybe reply:</strong> <a href="2742.html">josef.soucek_at_ct.cz: "RE: Re: [cc65] The Contiki Desktop OS for cc65"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Fri, Mar 14, 2003 at 01:04:12PM -0800, Shawn Jefferson wrote:
&gt; I know nothing about loadable modules (I couldn't figure out exactly what
&gt; you need to do to compile a module and load it.) I wonder if loadable modules
&gt; could be used to swap parts of the program from extended to regular memory,
&gt; with some changes?

Modules need some sort of framework to be really useful. Modules are
relocatable pieces of code that can contain code and data and can be loaded to
arbitrary addresses. However, a module doesn't define any way how the main
program and the module talk to each other. Importing/exporting symbols via
identifiers is theoretically possible, not supported by the cc65 module
loaded, because it ahs a high overhead. Instead, current driver frameworks use
a jump table at the start of the module code segment (the standard module
linker config has some support for this). Since the jump table depends on the
application and the module, just compiling something as a module doesn't make
it immediately useful.

Another problem with modules is that the runtime and C library is not shared.
For one, this would have to be done by name, so the main program would have to
include a name table for all runtime functions (overhead). Second, the module
doesn't know which runtime functions are linked to the applications (and would
therefore be available by dynamic linking) and which are not. Adam had some
ideas how to work around this problem. The consequence would be that the
modules must match exactly the Contiki binary - something which wouldn't be a
problem in the case of Contiki.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20The%20Contiki%20Desktop%20OS%20for%20cc65">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20The%20Contiki%20Desktop%20OS%20for%20cc65">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2781.html">Ullrich von Bassewitz: "Re: [cc65] non-ANSI extensions and initialized structures"</a>
<li><strong>In reply to:</strong> <a href="2771.html">Shawn Jefferson: "Re: [cc65] The Contiki Desktop OS for cc65"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2720.html">josef.soucek_at_ct.cz: "RE: Re: [cc65] The Contiki Desktop OS for cc65"</a>
<li><strong>Maybe reply:</strong> <a href="2720.html">josef.soucek_at_ct.cz: "RE: Re: [cc65] The Contiki Desktop OS for cc65"</a>
<li><strong>Maybe reply:</strong> <a href="2721.html">josef.soucek_at_ct.cz: "RE: Re: [cc65] The Contiki Desktop OS for cc65"</a>
<li><strong>Maybe reply:</strong> <a href="2742.html">josef.soucek_at_ct.cz: "RE: Re: [cc65] The Contiki Desktop OS for cc65"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-03-15 14:12:01 CET</em>
</em>
</small>
</body>
</html>
