<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: [cc65] Oric Atmos library support av</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="[cc65] Oric Atmos library support available">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>[cc65] Oric Atmos library support available</h1>
<!-- received="Mon Apr 14 00:43:14 2003" -->
<!-- isoreceived="20030413224314" -->
<!-- sent="Mon, 14 Apr 2003 00:43:08 +0200" -->
<!-- isosent="20030413224308" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="[cc65] Oric Atmos library support available" -->
<!-- id="20030413224308.GA31870@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Oric%20Atmos%20library%20support%20available"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-04-14 00:43:08
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2850.html">Ullrich von Bassewitz: "Re: [cc65] RS232 question"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2852.html">Groepaz: "Re: [cc65] Oric Atmos library support available"</a>
<li><strong>Reply:</strong> <a href="2852.html">Groepaz: "Re: [cc65] Oric Atmos library support available"</a>
<li><strong>Reply:</strong> <a href="2854.html">Debrune Jérôme: "Re: [cc65] Oric Atmos library support available"</a>
<li><strong>Reply:</strong> <a href="2860.html">Groepaz: "[cc65] cl65..."</a>
<li><strong>Reply:</strong> <a href="2861.html">Groepaz: "Re: [cc65] Oric Atmos library support available"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

I got a book covering programming the Oric Atmos on friday (yes, there are
still situations where it is possible to get something cheap from ebay:-).
This has enabled me to add support for this machine to the cc65 library. There
has been a startup file and a linker config before, but no other library
support, so the target has been near to unusable until now.

What I've added:

  * Complete conio support.

  * A hacked write() function that makes printf usable, similar to the one
    that has been available on the CBMs before.

  * A clock() function. It is 16 bit only, and I don't have an idea, which
    value CLOCKS_PER_SEC should take, so there's room for improvements.

Using the new library routines, I have been able to compile and use the
hello.c and sieve.c sample programs from the cc65 distributions, as well as
some other test programs. Please keep in mind, that I have never seen or even
programmed an Oric machine before, so what I've done may be somewhat unusual
to an Oric programmer. On the other side, the stuff seems to work, and I think
this is a big step forward for Oric users.

Things that are not available:

  * File I/O (I have not the slightest idea how to use disks on the Atmos)

  * Colors. If you thought, colors on the Atari are weird, please have a look
    at the Oric. Colors are *really* crazy on this platform.

Things that have changed:

  * The startup code does now include a tape header that allows loading the
    executable into an Oric emulator without postprocessing. If you want to
    use the binary on a real machine, you will have to remove the tape header.
    This can be easily done by using a slightly changed linker config, that
    just discards the TAPEHDR segment.

  * Memory setup. I've moved the zero page and have redone the last change by
    Jede, so the linker assumes that the program may use the space up to
    $9800. If you want to do graphics, you will have to use another linker
    config.

  * Zero page space used by the program is now restored on exit.

As a rough estimate, support for the Oric Atmos is now equal to or slightly
better than that for the Apple 2. [As a sidenote for Apple users: There has
been a bug in the write() function that made printf unusable - see the &quot;Known
Bugs&quot; page for details.]

The code is in the snapshot available from the FTP server. As usual I'm glad
about feedback, comments and suggestions.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Oric%20Atmos%20library%20support%20available">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Oric%20Atmos%20library%20support%20available">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2850.html">Ullrich von Bassewitz: "Re: [cc65] RS232 question"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2852.html">Groepaz: "Re: [cc65] Oric Atmos library support available"</a>
<li><strong>Reply:</strong> <a href="2852.html">Groepaz: "Re: [cc65] Oric Atmos library support available"</a>
<li><strong>Reply:</strong> <a href="2854.html">Debrune Jérôme: "Re: [cc65] Oric Atmos library support available"</a>
<li><strong>Reply:</strong> <a href="2860.html">Groepaz: "[cc65] cl65..."</a>
<li><strong>Reply:</strong> <a href="2861.html">Groepaz: "Re: [cc65] Oric Atmos library support available"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-04-14 00:46:45 CEST</em>
</em>
</small>
</body>
</html>
