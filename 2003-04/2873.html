<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] linker cfg files</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] linker cfg files">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] linker cfg files</h1>
<!-- received="Tue Apr 22 22:08:26 2003" -->
<!-- isoreceived="20030422200826" -->
<!-- sent="Tue, 22 Apr 2003 22:08:21 +0200" -->
<!-- isosent="20030422200821" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] linker cfg files" -->
<!-- id="20030422200821.GC17498@trixie.musoftware.de" -->
<!-- inreplyto="3EA2B89D.BFE7BB33@gmx.net" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20linker%20cfg%20files"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-04-22 22:08:21
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2872.html">Stephan Lesch: "Re: [cc65] linker cfg files"</a>
<li><strong>In reply to:</strong> <a href="2867.html">3843416: "[cc65] linker cfg files"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2876.html">Shawn Jefferson: "Re: [cc65] linker cfg files"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Sun, Apr 20, 2003 at 05:11:25PM +0200, 3843416 wrote:
&gt; i have a problem with a specific linker config.
&gt; i want to display grafic on the screen, so i want to reserve memory for
&gt; the bitmap.
&gt; i want to reserve this 8000 bytes at the adress $2000. so i wrote
&gt; following linker cfg:

There are several problems with this config:

  1. The LOWCODE segment is missing.

  2. Segments of type BSS aren't written to the output file. This means that
     the resulting file cannot be just loaded into memory and run, because
     the RAM data, which starts at $3f3e is at the wrong location.

  3. malloc() doesn't reserve use memory from BMP. In fact, it doesn't know
     about BMP and will just ignore it.

One very simple solution would be to change the type of the segment from bss
to rw. This means that the resulting output file will have 8K of zeroes
somewhere in between and will be quite large, but at least it should work.

Groepaz suggestion (placing the hires screen below the kernal ROM) is well
worth a try. The TGI driver for the C64 does it this way (the color RAM goes
below the I/O area) which has the advantage that it works with the standard
memory config, and doesn't use one byte of additional memory.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20linker%20cfg%20files">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20linker%20cfg%20files">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2872.html">Stephan Lesch: "Re: [cc65] linker cfg files"</a>
<li><strong>In reply to:</strong> <a href="2867.html">3843416: "[cc65] linker cfg files"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2876.html">Shawn Jefferson: "Re: [cc65] linker cfg files"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-04-22 22:11:26 CEST</em>
</em>
</small>
</body>
</html>
