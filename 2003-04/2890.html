<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-7">
<title>cc65 mailing list archive: Re: [cc65] linker cfg files</title>
<meta name="Author" content="Shawn Jefferson (sjefferson_at_sd62.bc.ca)">
<meta name="Subject" content="Re: [cc65] linker cfg files">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] linker cfg files</h1>
<!-- received="Thu Apr 24 17:49:57 2003" -->
<!-- isoreceived="20030424154957" -->
<!-- sent="Thu, 24 Apr 2003 08:48:06 -0700" -->
<!-- isosent="20030424154806" -->
<!-- name="Shawn Jefferson" -->
<!-- email="sjefferson_at_sd62.bc.ca" -->
<!-- subject="Re: [cc65] linker cfg files" -->
<!-- id="sea7a4d5.012@gwmail.sd62.bc.ca" -->
<!-- charset="ISO-8859-7" -->
<!-- inreplyto="[cc65] linker cfg files" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Shawn Jefferson (<a href="mailto:sjefferson_at_sd62.bc.ca?Subject=Re:%20[cc65]%20linker%20cfg%20files"><em>sjefferson_at_sd62.bc.ca</em></a>)<br>
<strong>Date:</strong> 2003-04-24 17:48:06
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2889.html">Shawn Jefferson: "Re: [cc65] linker cfg files"</a>
<li><strong>Maybe in reply to:</strong> <a href="2867.html">3843416: "[cc65] linker cfg files"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2897.html">Ullrich von Bassewitz: "Re: [cc65] linker cfg files"</a>
<li><strong>Reply:</strong> <a href="2897.html">Ullrich von Bassewitz: "Re: [cc65] linker cfg files"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
While we are on that subject, how about taking the EXEHDR definition for the Atari target and putting that in a separate file as well?  For that matter, probably AUTOSTRT too.

Now that I've looked at this again, I realize what my issue was.  I had a program that had to load itself into two separate memory areas ($2000-3FFF and $8000-BC1F) leaving the $4000-7FFF area alone.  On the Atari you can have multiple segments in your exe file.  The problem I ran into is that the EXEHDR in crt0.s is hardcoded like so:

; EXE header

        .segment &quot;EXEHDR&quot;
        .word   $FFFF
        .word   __CODE_LOAD__
        .word   __BSS_LOAD__ - 1

So, in my first segment I *have* to have my code segment first and my bss segment last, unless I want to have my own crt0.s file, which I don't since then I have to keep updating my code with library changes (I think there were two major upgrades to the atari library during the writing of my application.)  Thus my heap area is stuck in this small memory area (2000-3FFF) as well (?)

I thought if you could make this more easily configurable it would be nice (in a separate thread you said that wasn't possible though.)

¯
Shawn


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20linker%20cfg%20files">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2889.html">Shawn Jefferson: "Re: [cc65] linker cfg files"</a>
<li><strong>Maybe in reply to:</strong> <a href="2867.html">3843416: "[cc65] linker cfg files"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2897.html">Ullrich von Bassewitz: "Re: [cc65] linker cfg files"</a>
<li><strong>Reply:</strong> <a href="2897.html">Ullrich von Bassewitz: "Re: [cc65] linker cfg files"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-04-24 17:52:50 CEST</em>
</em>
</small>
</body>
</html>
