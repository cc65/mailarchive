<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Apple II Libraries</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Apple II Libraries">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Apple II Libraries</h1>
<!-- received="Tue May  6 00:32:31 2003" -->
<!-- isoreceived="20030505223231" -->
<!-- sent="Tue, 6 May 2003 00:32:25 +0200" -->
<!-- isosent="20030505223225" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Apple II Libraries" -->
<!-- id="20030505223225.GB32476@trixie.musoftware.de" -->
<!-- inreplyto="200305052304.03518.groepaz@gmx.net" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Apple%20II%20Libraries"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-05-06 00:32:25
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="2978.html">MagerValp: "Re: [cc65] possible linker bug"</a>
<li><strong>In reply to:</strong> <a href="2973.html">Groepaz: "Re: [cc65] Apple II Libraries"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2980.html">Groepaz: "Re: [cc65] Apple II Libraries"</a>
<li><strong>Reply:</strong> <a href="2980.html">Groepaz: "Re: [cc65] Apple II Libraries"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Mon, May 05, 2003 at 11:04:03PM +0200, Groepaz wrote:
&gt; clock_t clock(void)
&gt; {
&gt; 	return(0);
&gt; }
&gt;
&gt; is a perfectly legal and standard compliant implementation of clock() (the
&gt; standard doesnt say how long a clock-tick-period lasts, so it can be anything
&gt; from microseconds to milleniums)

The standard has an explicit notation for &quot;no information available&quot;. The
following paragraph is from ISO/IEC 9899:1999 (E), 7.23.2.1 &quot;The clock
function&quot;:

------------------------------------------------------------------------------
The clock function returns the implementation's best approximation to the
processor time used by the program since the beginning of an
implementation-defined era related only to the program invocation. To
determine the time in seconds, the value returned by the clock function should
be divided by the value of the macro CLOCKS_PER_SEC. If the processor time
used is not available or its value cannot be represented, the function returns
the value (clock_t)(-1).
------------------------------------------------------------------------------

Unfortunately, neither returning zero nor returning -1 is really useful.

&gt; now the question is, what about the implementation i have used for some
&gt; hackery so far:

It would be difficult to come up with a matching CLOCKS_PER_SEC value, so I
don't think it's a good idea. It's ok to provide this (or a replacement)
function as part of Contiki, but I don't think it's suitable for cc65, which
aims to be standards compliant.

&gt; &gt; With the loadable module feature is it possible to do an initial system
&gt; &gt; check to load the correct one or to use a config file to load the correct
&gt; &gt; one?  This would avoid recompiling for each of the countless variations of
&gt; &gt; the Apples ][. Of course this may be too complicated or &quot;expensive&quot; to do.
&gt;
&gt; i think thats the best idea for that kinda stuff (although i dont know nothing
&gt; about the apple2 so i couldnt say how *much* bloat that would add)

Loadable modules have a high overhead for small programs, because they need
the heap functions (and eventually the POSIX file i/o), so while this would be
possible, it is sub optimal.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Apple%20II%20Libraries">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Apple%20II%20Libraries">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="2978.html">MagerValp: "Re: [cc65] possible linker bug"</a>
<li><strong>In reply to:</strong> <a href="2973.html">Groepaz: "Re: [cc65] Apple II Libraries"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="2980.html">Groepaz: "Re: [cc65] Apple II Libraries"</a>
<li><strong>Reply:</strong> <a href="2980.html">Groepaz: "Re: [cc65] Apple II Libraries"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-05-06 00:32:35 CEST</em>
</em>
</small>
</body>
</html>
