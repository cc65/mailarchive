<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Directory/Drive functions</title>
<meta name="Author" content="Groepaz (groepaz_at_gmx.net)">
<meta name="Subject" content="Re: [cc65] Directory/Drive functions">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Directory/Drive functions</h1>
<!-- received="Thu Jun  5 17:33:09 2003" -->
<!-- isoreceived="20030605153309" -->
<!-- sent="Thu, 5 Jun 2003 17:30:40 +0200" -->
<!-- isosent="20030605153040" -->
<!-- name="Groepaz" -->
<!-- email="groepaz_at_gmx.net" -->
<!-- subject="Re: [cc65] Directory/Drive functions" -->
<!-- id="200306051730.40417.groepaz@gmx.net" -->
<!-- inreplyto="000a01c32b22$94b9e8c0$b7282c42@palace" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Groepaz (<a href="mailto:groepaz_at_gmx.net?Subject=Re:%20[cc65]%20Directory/Drive%20functions"><em>groepaz_at_gmx.net</em></a>)<br>
<strong>Date:</strong> 2003-06-05 17:30:40
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3081.html">Ullrich von Bassewitz: "Re: [cc65] Directory/Drive functions"</a>
<li><strong>In reply to:</strong> <a href="3080.html">Greg King: "Re: [cc65] Directory/Drive functions"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3093.html">Greg King: "Re: [cc65] Directory/Drive functions"</a>
<li><strong>Next in thread:</strong> <a href="../2003-05/3033.html">Ullrich von Bassewitz: "Re: [cc65] linker cfg files"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Thursday 05 June 2003 05:33, Greg King wrote:
&gt; From: Groepaz
&gt; Date: Wednesday, June 04, 2003, 10:09 AM
&gt;
&gt; &gt; As for the restoring, does it really make sense?  Ie., any non-trivial
&gt; &gt; program will mess up the memory enough that you would want to reset
&gt; &gt; after it anyway?
&gt;
&gt; From: Ullrich von Bassewitz
&gt; Date: Wednesday, June 04, 2003, 11:44 AM
&gt;
&gt; &gt; On Wed, Jun 04, 2003, at 08:16:52AM -0400, Greg King wrote:
&gt; &gt; &gt; Then, before returning to BASIC's READY-prompt,
&gt; &gt; &gt; restore DEVNUM from _curunit.
&gt; &gt;
&gt; &gt; I don't think that restoring DEVNUM makes sense.
&gt;
&gt; CBM programs are &quot;sticky&quot; (they stay in memory; we can rerun them without
&gt; reloading them).  That means that we should avoid static initializers; and,
&gt; programs should restore their environment, as much as possible.
&gt;
&gt; A demo-coder's masterpiece might mess up memory so much that you would need
&gt; to reset the computer, but most programs should be able to obey a mother's
&gt; rule:  &quot;Put things back where you found them.&quot; :-)

yes, generally you are right...

BUT, the simple fact that cc65 compiled programs do not even initialize the 
data section (the data section is statically initialized) would make most non 
trivial programs not working when they are re-run. so before you even 
remotely think about restoring the environment after a run, you should maybe 
think of that the program probably can not be restartet anyway.

gpz
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Directory/Drive%20functions">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3081.html">Ullrich von Bassewitz: "Re: [cc65] Directory/Drive functions"</a>
<li><strong>In reply to:</strong> <a href="3080.html">Greg King: "Re: [cc65] Directory/Drive functions"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3093.html">Greg King: "Re: [cc65] Directory/Drive functions"</a>
<li><strong>Next in thread:</strong> <a href="../2003-05/3033.html">Ullrich von Bassewitz: "Re: [cc65] linker cfg files"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-06-05 17:37:20 CEST</em>
</em>
</small>
</body>
</html>
