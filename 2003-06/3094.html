<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Directory/Drive functions</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Directory/Drive functions">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Directory/Drive functions</h1>
<!-- received="Wed Jun 11 22:21:37 2003" -->
<!-- isoreceived="20030611202137" -->
<!-- sent="Wed, 11 Jun 2003 22:21:32 +0200" -->
<!-- isosent="20030611202132" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Directory/Drive functions" -->
<!-- id="20030611202132.GC24880@trixie.musoftware.de" -->
<!-- inreplyto="005b01c33052$3af51e60$d52a2c42@palace" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Directory/Drive%20functions"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-06-11 22:21:32
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3093.html">Greg King: "Re: [cc65] Directory/Drive functions"</a>
<li><strong>In reply to:</strong> <a href="3093.html">Greg King: "Re: [cc65] Directory/Drive functions"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3095.html">Groepaz: "Re: [cc65] Directory/Drive functions"</a>
<li><strong>Next in thread:</strong> <a href="../2003-05/3033.html">Ullrich von Bassewitz: "Re: [cc65] linker cfg files"</a>
<li><strong>Reply:</strong> <a href="3095.html">Groepaz: "Re: [cc65] Directory/Drive functions"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Wed, Jun 11, 2003 at 02:50:04PM -0400, Greg King wrote:
&gt; I am not talking about a programmer's individual code for a specific
&gt; program.  I am talking about the &quot;universal&quot; library-code.  It should not
&gt; get in the way when programmers do make re-runnable programs.  (The library
&gt; already restores other things, such as the stack-pointer, zero-page,
&gt; vectors, a scroll-flag, and a margin.)  It takes only a few extra bytes to
&gt; restore DEVNUM.  I see no valid reason to leave it out.

And I see no reason to restore it, since no one relies on it. The other
variables you have mentioned are saved and restored, because they must keep
their values for some reason or the other. This is not the case for DEVNUM and
several other things. One example is the video screen: One could argue that
the screen contents should be saved and restored, but the runtime library
doesn't do it - there's simply no reason for it.

My suggestion would be to ask the following question (in fact, this is the
question, I've asked when deciding if a save/restore of other variables is
necessary): Is there a need to save and restore this variable? If not, why
bother? Or better: Why waste code on it? I've put quite some work in sqeezing
out bytes from library functions. Why should we waste code in other areas?
IMHO &quot;because there's no reason not do do it&quot; is not a good reason.

Regards


	Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Directory/Drive%20functions">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Directory/Drive%20functions">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3093.html">Greg King: "Re: [cc65] Directory/Drive functions"</a>
<li><strong>In reply to:</strong> <a href="3093.html">Greg King: "Re: [cc65] Directory/Drive functions"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3095.html">Groepaz: "Re: [cc65] Directory/Drive functions"</a>
<li><strong>Next in thread:</strong> <a href="../2003-05/3033.html">Ullrich von Bassewitz: "Re: [cc65] linker cfg files"</a>
<li><strong>Reply:</strong> <a href="3095.html">Groepaz: "Re: [cc65] Directory/Drive functions"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-06-11 22:21:43 CEST</em>
</em>
</small>
</body>
</html>
