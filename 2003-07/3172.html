<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: [cc65] Overlays and addresses</title>
<meta name="Author" content="David Holz (davidh_at_otterspace.com)">
<meta name="Subject" content="[cc65] Overlays and addresses">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>[cc65] Overlays and addresses</h1>
<!-- received="Sat Jul 12 10:52:46 2003" -->
<!-- isoreceived="20030712085246" -->
<!-- sent="Sat, 12 Jul 2003 02:01:48 -0700" -->
<!-- isosent="20030712090148" -->
<!-- name="David Holz" -->
<!-- email="davidh_at_otterspace.com" -->
<!-- subject="[cc65] Overlays and addresses" -->
<!-- id="05cf01c34854$3a675890$6902a8c0@magnesium" -->
<!-- inreplyto="04ce01c24259$76e97890$6902a8c0@magnesium" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> David Holz (<a href="mailto:davidh_at_otterspace.com?Subject=Re:%20[cc65]%20Overlays%20and%20addresses"><em>davidh_at_otterspace.com</em></a>)<br>
<strong>Date:</strong> 2003-07-12 11:01:48
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="../2003-06/3171.html">Stephan Lesch: "Re: [cc65] offtopic: random numbers in c64"</a>
<li><strong>In reply to:</strong> <a href="../2002-08/1553.html">David Holz: "[cc65] Other uses of BRK, stack snooping"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3173.html">Ullrich von Bassewitz: "Re: [cc65] Overlays and addresses"</a>
<li><strong>Reply:</strong> <a href="3173.html">Ullrich von Bassewitz: "Re: [cc65] Overlays and addresses"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
I want to use ca65/ld65 for a large assembly project.  I'm looking through
all of the docs, and I don't quite know how to pull off what I want to.
Basically, various chunks of code needs to be compiled into different areas
of RAM, and each chunk should be loaded from a separate file.  No problem.
However, if I have utility functions in $c000, and have multiple separate
programs that all start at $0800 that use those utility functions, how would
the various &quot;overlays&quot; link to the symbols in the $c000 segment?

I see two ways of doing it:

1) After assembling &amp; linking the $c000 file, format the map file into
&quot;label = $address&quot; and .include that file into the other $0800 .asm files.
This is pretty kludgy, and circumvents the entire purpose of the linker.

2) For each $0800 file, have a linker config that sets up the $c000 segment
from the .o files without exporting a file for that segment.  Problem is
that each cfg file must be exactly the same for the $c000 segment, and if I
change any structure in the common utility routines, all cfg files must be
edited to match, which can be problematic since there's no .include in
config files.

Any suggestions?  Anything I'm missing?

-- 
White Flame (aka David Holz)
<a href="http://www.white-flame.com/">http://www.white-flame.com/</a>

----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Overlays%20and%20addresses">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="../2003-06/3171.html">Stephan Lesch: "Re: [cc65] offtopic: random numbers in c64"</a>
<li><strong>In reply to:</strong> <a href="../2002-08/1553.html">David Holz: "[cc65] Other uses of BRK, stack snooping"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3173.html">Ullrich von Bassewitz: "Re: [cc65] Overlays and addresses"</a>
<li><strong>Reply:</strong> <a href="3173.html">Ullrich von Bassewitz: "Re: [cc65] Overlays and addresses"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-07-12 10:53:35 CEST</em>
</em>
</small>
</body>
</html>
