<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] flexible arrays, enum &am</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] flexible arrays, enum &amp; bool...">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] flexible arrays, enum &amp; bool...</h1>
<!-- received="Mon Aug 25 11:37:41 2003" -->
<!-- isoreceived="20030825093741" -->
<!-- sent="Mon, 25 Aug 2003 11:37:38 +0200" -->
<!-- isosent="20030825093738" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] flexible arrays, enum &amp; bool..." -->
<!-- id="20030825093738.GA11357@trixie.musoftware.de" -->
<!-- inreplyto="483E4E126779724DA98F9FA8114F2715023DED@pacetempmail.pace.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20flexible%20arrays,%20enum%20&amp;%20bool..."><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-08-25 11:37:38
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3263.html">Christian Krüger: "[cc65] flexible arrays, enum &amp; bool..."</a>
<li><strong>In reply to:</strong> <a href="3263.html">Christian Krüger: "[cc65] flexible arrays, enum &amp; bool..."</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3265.html">Andre Majorel: "Re: [cc65] flexible arrays, enum &amp; bool..."</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Mon, Aug 25, 2003 at 11:23:10AM +0200, Christian Krüger wrote:
&gt; I hoped that this will work, sice Uz announched the
&gt; C99 'flexible arrys' some time ago. Did I miss something?
&gt; Where is the mistake?

The mistake is that you didn't read the announcement:-)

    This is a maintenance release that contains bug fixes for version 2.9.1
    (see <a href="http://www.cc65.org/bugs.php">http://www.cc65.org/bugs.php</a> for a list), but no additional features.
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
Emphasis by me.

&gt; After that I encountered another wish. 'Enums' have in cc65
&gt; the size of 'ints' which is AFAIK correct, but I like to have
&gt; more suitable 'char' enums for the 6502: Typesafeness of
&gt; determinant values together with quick code. What about a
&gt; small enhancement for 'char enums'?

This wouldn't be a small enhancement, but quite some work, since there is no
enum type in cc65. Enums are actually ints, and the tag values are global
constants of type int. This is compatible with the C standard. Adding a new
type would be possible, but it's more than just a &quot;small enhancement&quot;, and
there are at least reasons to not add this now:

  1. I have enough other things to add

  2. There's a very simple workaround:

        enum {
            foo,
            bar,
            faz
        };
        typedef unsigned char foobar_t;
        foobar_t e = foo;

  3. Adding a new type would require me to touch the guts of the compiler,
     which is often rather problematic.

&gt; Afterall I discovered that the native type 'bool' would be a
&gt; very nice enhancement, if Uz has some spare time.. ;-)

Just include &lt;stdbool.h&gt;. And no, I don't have any spare time:-)

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20flexible%20arrays,%20enum%20&amp;%20bool...">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20flexible%20arrays,%20enum%20&amp;%20bool...">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3263.html">Christian Krüger: "[cc65] flexible arrays, enum &amp; bool..."</a>
<li><strong>In reply to:</strong> <a href="3263.html">Christian Krüger: "[cc65] flexible arrays, enum &amp; bool..."</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3265.html">Andre Majorel: "Re: [cc65] flexible arrays, enum &amp; bool..."</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-08-25 11:37:47 CEST</em>
</em>
</small>
</body>
</html>
