<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Atari stack pointer?</title>
<meta name="Author" content="Christian Groessler (chris_at_groessler.org)">
<meta name="Subject" content="Re: [cc65] Atari stack pointer?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Atari stack pointer?</h1>
<!-- received="Tue Sep 16 11:32:00 2003" -->
<!-- isoreceived="20030916093200" -->
<!-- sent="Tue, 16 Sep 2003 11:30:18 +0200 (CEST)" -->
<!-- isosent="20030916093018" -->
<!-- name="Christian Groessler" -->
<!-- email="chris_at_groessler.org" -->
<!-- subject="Re: [cc65] Atari stack pointer?" -->
<!-- id="Pine.LNX.4.30.0309161117530.10739-100000@ds9.reckziegel.com" -->
<!-- inreplyto="20030916080319.GA7829@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Christian Groessler (<a href="mailto:chris_at_groessler.org?Subject=Re:%20[cc65]%20Atari%20stack%20pointer?"><em>chris_at_groessler.org</em></a>)<br>
<strong>Date:</strong> 2003-09-16 11:30:18
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3397.html">Ullrich von Bassewitz: "Re: [cc65] code generation"</a>
<li><strong>In reply to:</strong> <a href="3395.html">Ullrich von Bassewitz: "Re: [cc65] Atari stack pointer?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3400.html">Shawn Jefferson: "Re: [cc65] Atari stack pointer?"</a>
<li><strong>Reply:</strong> <a href="3400.html">Shawn Jefferson: "Re: [cc65] Atari stack pointer?"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Tue, 16 Sep 2003, Ullrich von Bassewitz wrote:

&gt;
&gt; On Mon, Sep 15, 2003 at 04:30:08PM -0700, Shawn Jefferson wrote:
&gt; &gt; Should I be avoiding the memory used by the stack, or should the stack
&gt; &gt; be placed differently (at the end of the RAM from the config file?)
&gt;
&gt; As I see it, the stack should be placed differently. But this was done by
&gt; Christian, and I'm sure there's a reason for the way it is, so we will have to
&gt; wait for him to comment. If I remember correctly, the Atari startup tries to
&gt; be smart about a graphics mode being in effect.

The values in the config file are the maximum possible values. The startup
code then tries to adapt to the graphics mode used by the program and to
the installed memory size. (Original 800s could have anything in 8k steps
from 8k to 48k, and there are 400 and 600xl with 16k). So the spack
pointer is determined from the MEMTOP ($2e5) system variable.

There is currently no easy way to reserve memory from use by cc65, short
of setting MEMTOP to a lower value before running the program. Or bumping
up the load address and use low memory.

What do you want to do with the memory? Maybe a malloc() could work too?

regards,
chris


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Atari%20stack%20pointer?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3397.html">Ullrich von Bassewitz: "Re: [cc65] code generation"</a>
<li><strong>In reply to:</strong> <a href="3395.html">Ullrich von Bassewitz: "Re: [cc65] Atari stack pointer?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3400.html">Shawn Jefferson: "Re: [cc65] Atari stack pointer?"</a>
<li><strong>Reply:</strong> <a href="3400.html">Shawn Jefferson: "Re: [cc65] Atari stack pointer?"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-09-16 11:32:16 CEST</em>
</em>
</small>
</body>
</html>
