<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] DA65 GEOS Disassembly?</title>
<meta name="Author" content="Todd Elliott (eyeth_at_videocam.net.au)">
<meta name="Subject" content="Re: [cc65] DA65 GEOS Disassembly?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] DA65 GEOS Disassembly?</h1>
<!-- received="Fri Oct 10 16:25:03 2003" -->
<!-- isoreceived="20031010142503" -->
<!-- sent="Fri, 10 Oct 2003 23:53:02 +0930 (CST)" -->
<!-- isosent="20031010142302" -->
<!-- name="Todd Elliott" -->
<!-- email="eyeth_at_videocam.net.au" -->
<!-- subject="Re: [cc65] DA65 GEOS Disassembly?" -->
<!-- id="Pine.LNX.4.58.0310102330020.10873@vcsweb.com" -->
<!-- inreplyto="20031010133231.GA13934@spektr.localdomain" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Todd Elliott (<a href="mailto:eyeth_at_videocam.net.au?Subject=Re:%20[cc65]%20DA65%20GEOS%20Disassembly?"><em>eyeth_at_videocam.net.au</em></a>)<br>
<strong>Date:</strong> 2003-10-10 16:23:02
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3613.html">Maciej Witkowiak: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<li><strong>In reply to:</strong> <a href="3613.html">Maciej Witkowiak: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3615.html">Ullrich von Bassewitz: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<li><strong>Reply:</strong> <a href="3615.html">Ullrich von Bassewitz: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Fri, 10 Oct 2003, Maciej Witkowiak wrote:
&gt; What else would be needed besides unpacking .cvt file into header+seq or
&gt; header+vlirs? The latter case is tricky because without analysing the code of
&gt; the first chain you never know what are load addresses for all the other chains.
&gt;
Hello, Maciej-

The DA65 disassembler would need to get the start address from the header
as a starting PC value for both sequential GEOS files and VLIR #0 of VLIR
GEOS files.

As for disassembling GEOS VLIR files, maybe the user could specify (pass
via command line argument?) a starting PC value for the VLIR records
(#1-126) in a GEOS VLIR file being disassembled? If the user does not pass
a value, perphaps a default starting value of $0000 should be used.

Also, I'd like to have the ability to do a targeted VLIR record
disassembly. Let's say I want to disassemble VLIR #3 of a GEOS VLIR file.
I happen to know the starting PC address, so I supply this value. I'd like
DA65 to do this, generating a disassembled source code file only for VLIR
#3 and nothing else.

What I would love to see from a disassembler with respect to
GEOS sequential and VLIR files is this:

The disassembly output for GEOS sequential files would be split into two
source code files; One for the header and one for the main code.

For GEOS VLIR files, the disassembly output would be split into seperate
source code files for the header, individual VLIR records, etc. So, if a
GEOS VLIR file had ten VLIR records, I'd like to see ten seperate source
code files corresponding to each VLIR record, in addition to a source code
file for the header.

As with either disassembly done under DA65, I'd like to have a .CFG file
or something similar where I could immediately compile it under CA65 to
ensure that the disassembly worked. (I'd compare the new compiled program
against the original under a file compare utility.)

Lastly, I would like for DA65 to have support for GEOS address labels
(r0..r15, etc.) and GEOS function call labels (SetDevice, OpenDisk, etc.)
into the disassembled source code output. (No GEOS constant labels should
be used, though.)

This way, I could easily patch GEOS programs, by simply going through the
entire source, fixing code here and there. I recently patched geoList v2.1
for 4-drive support, and I used CA65 for only a small snippet of source
code. I then used a hex editor to insert this small snippet directly into
the geoList .CVT file, tested it under VICE emulator, repeated as
necessary. This has been somewhat tedious, as I have to insert code
manually into the geoList .CVT file everytime I need to make a change.

Am I asking for too much? I hope it is feasible for DA65 to support
disassembly of GEOS files. It will make for quicker and more productive
GEOS development.

Enjoy.
-- 
Todd Elliott
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20DA65%20GEOS%20Disassembly?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3613.html">Maciej Witkowiak: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<li><strong>In reply to:</strong> <a href="3613.html">Maciej Witkowiak: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3615.html">Ullrich von Bassewitz: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<li><strong>Reply:</strong> <a href="3615.html">Ullrich von Bassewitz: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-10-10 16:25:21 CEST</em>
</em>
</small>
</body>
</html>
