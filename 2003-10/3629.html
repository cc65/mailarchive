<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Overflows in signed compa</title>
<meta name="Author" content="Groepaz (groepaz_at_gmx.net)">
<meta name="Subject" content="Re: [cc65] Overflows in signed comparisions">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Overflows in signed comparisions</h1>
<!-- received="Sat Oct 11 17:19:21 2003" -->
<!-- isoreceived="20031011151921" -->
<!-- sent="Sat, 11 Oct 2003 17:14:08 +0200" -->
<!-- isosent="20031011151408" -->
<!-- name="Groepaz" -->
<!-- email="groepaz_at_gmx.net" -->
<!-- subject="Re: [cc65] Overflows in signed comparisions" -->
<!-- id="200310111714.08826.groepaz@gmx.net" -->
<!-- inreplyto="20031011143537.GA3189@trixie.musoftware.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Groepaz (<a href="mailto:groepaz_at_gmx.net?Subject=Re:%20[cc65]%20Overflows%20in%20signed%20comparisions"><em>groepaz_at_gmx.net</em></a>)<br>
<strong>Date:</strong> 2003-10-11 17:14:08
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3628.html">Groepaz: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<li><strong>In reply to:</strong> <a href="3627.html">Ullrich von Bassewitz: "Re: [cc65] Overflows in signed comparisions"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Saturday 11 October 2003 16:35, Ullrich von Bassewitz wrote:

&gt; limits:
&gt;     Works ok now, it was the type casting fixed yesterday I think.

yeah i thought so :)

&gt; sub2:
&gt;     This is an error in the C code: If you want signed chars, you will have
&gt;     to say so explicitly. The defaults for gcc (signed chars) and cc65
&gt;     (unsigned chars) are different, which explains the failures.
&gt;     There are still differences in the output (no failures), but these are
&gt;     caused by the different int sizes.

ah ok, could you mail me your modified files? (i'll fix the remaining probs then)

weird though...thats one test taken from sdcc and i thought that one would be
using unsigned chars by default too.... oh well :=)

&gt; rotate5:
&gt;     Error in cc65, is fixed now.

great :)

&gt; compare4:
&gt;     Problem with the C code, see sub2.

same as above - mail me your changes if any :=)

&gt; cq714:
&gt; cq714b:
&gt;     Did not link correctly. The routine to restore registers variables
&gt;     may emit code that relies on
&gt;
&gt;         sta     abs,y
&gt;
&gt;     wraping around zero if many auto variables are used (how many exactly
&gt;     depends on the location of the registers in the zero page and is
&gt; therefore platform dependent). Since this code will always fail on the
&gt; 65816, I will have to change the generated code. A workaround is to remove
&gt; the register declarations for the variables, without these, the tests run
&gt; ok.

ok, that makes sence.... i enabled register variables in the tests just 
recently :)

&gt; yacc:
&gt;     Seems to run forever. Does it need so much time or is this the bug?

thats the bug :=) well i think so atleast, it shouldnt take long to evaluate
a small formula (check the input file). btw i think this one did also work
some time ago (maybe check with 2.9.2 or sth), might fail due to to some changes
made recently.... however it may also simply be to large to run on the c64 
(it was the case with a few other tests before i splitted them).

gpz

off for some C64 LAN action tonite... :=P

----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Overflows%20in%20signed%20comparisions">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3628.html">Groepaz: "Re: [cc65] DA65 GEOS Disassembly?"</a>
<li><strong>In reply to:</strong> <a href="3627.html">Ullrich von Bassewitz: "Re: [cc65] Overflows in signed comparisions"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-10-11 17:19:32 CEST</em>
</em>
</small>
</body>
</html>
