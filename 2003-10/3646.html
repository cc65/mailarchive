<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] cc65 and $ba again, sorry</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] cc65 and $ba again, sorry">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] cc65 and $ba again, sorry</h1>
<!-- received="Fri Oct 17 18:47:45 2003" -->
<!-- isoreceived="20031017164745" -->
<!-- sent="Fri, 17 Oct 2003 18:47:41 +0200" -->
<!-- isosent="20031017164741" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] cc65 and $ba again, sorry" -->
<!-- id="20031017164741.GA16646@trixie.musoftware.de" -->
<!-- inreplyto="003001c394bf$03146b00$0500a8c0@acer5j0jdwij8z" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20cc65%20and%20$ba%20again,%20sorry"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-10-17 18:47:41
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3645.html">carlos: "[cc65] cc65 and $ba again, sorry"</a>
<li><strong>In reply to:</strong> <a href="3645.html">carlos: "[cc65] cc65 and $ba again, sorry"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3647.html">carlos: "Re: [cc65] cc65 and $ba again, sorry"</a>
<li><strong>Reply:</strong> <a href="3647.html">carlos: "Re: [cc65] cc65 and $ba again, sorry"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
Hi!

On Fri, Oct 17, 2003 at 04:57:38PM +0200, carlos wrote:
&gt; You see, that something goes wrong there.

Sorry, but no, I cannot see what is wrong. Yes, I have run the program, but
since you didn't tell what you expect/not expect to happen, it is rather
difficult for me to find out what the problem might be.

$ba is the current device used for input and/or output. Any file open (and
that includes stdout and stderr) will change this variable. It is clear that
this happens and why it happens, and I cannot see any problem with it.

In general, it's a bad idea to work with different level of APIs. If you use C
file I/O, you should not use POSIX file I/O or CBM file I/O or mess with any
low level kernal variables and hope the upper layers won't notice. What that
means is that if you're using variables like $ba directly, then your program
should not use any file I/O in C (and this includes printf/fprintf!), because
this won't work in many cases. Or it may work in one compiler version and stop
working after an update. This is not only true for file I/O, but for any API
provided by the cc65 libraries. Using conio, and writing to the ROM cursor
position stored in the zero page is not supposed to work (not even reading the
cursor position from the kernal variables is supposed to work!). This is true
for almost every API and is not limited to cc65 and the 6502 platforms it
supports.

Regards


	Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20cc65%20and%20$ba%20again,%20sorry">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20cc65%20and%20$ba%20again,%20sorry">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3645.html">carlos: "[cc65] cc65 and $ba again, sorry"</a>
<li><strong>In reply to:</strong> <a href="3645.html">carlos: "[cc65] cc65 and $ba again, sorry"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3647.html">carlos: "Re: [cc65] cc65 and $ba again, sorry"</a>
<li><strong>Reply:</strong> <a href="3647.html">carlos: "Re: [cc65] cc65 and $ba again, sorry"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-10-17 18:48:06 CEST</em>
</em>
</small>
</body>
</html>
