<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] ftell and fseek unavailab</title>
<meta name="Author" content="Stephan Lesch (slesch_at_studcs.uni-sb.de)">
<meta name="Subject" content="Re: [cc65] ftell and fseek unavailable on c64?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] ftell and fseek unavailable on c64?</h1>
<!-- received="Wed Nov 19 18:28:16 2003" -->
<!-- isoreceived="20031119172816" -->
<!-- sent="Wed, 19 Nov 2003 18:22:09 +0100 (CET)" -->
<!-- isosent="20031119172209" -->
<!-- name="Stephan Lesch" -->
<!-- email="slesch_at_studcs.uni-sb.de" -->
<!-- subject="Re: [cc65] ftell and fseek unavailable on c64?" -->
<!-- id="20031119180559.P40527-100000@xcip2.studcs.uni-sb.de" -->
<!-- inreplyto="006501c3aebe$30966dd0$500906d5@acer5j0jdwij8z" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Stephan Lesch (<a href="mailto:slesch_at_studcs.uni-sb.de?Subject=Re:%20[cc65]%20ftell%20and%20fseek%20unavailable%20on%20c64?"><em>slesch_at_studcs.uni-sb.de</em></a>)<br>
<strong>Date:</strong> 2003-11-19 18:22:09
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3782.html">carlos: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<li><strong>In reply to:</strong> <a href="3782.html">carlos: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3784.html">Groepaz: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<li><strong>Reply:</strong> <a href="3784.html">Groepaz: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Wed, 19 Nov 2003, carlos wrote:

&gt; Hello,
&gt;
&gt; i think that this is not right, because every sector has two bytes pointing
&gt; to the next sector of the file.
&gt; So one could seek 254 bytes at one time.

If you're writing your own disk routines anyway, it's not too difficult to
do - you could scan the sector chain of a file when it's opened, (or just
scan the link pointers of the whole disk), and update this table when new
sectors are added. It would take maybe 10 seconds for the whole disk,
and then allow you to access any position in any file without
reading it from the start.

But neither your proposal nor mine are compatible with the file handling
in the kernel, the floppy and the C runtime, that's the real
problem I think...

Best,
Stephan


----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20ftell%20and%20fseek%20unavailable%20on%20c64?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3782.html">carlos: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<li><strong>In reply to:</strong> <a href="3782.html">carlos: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3784.html">Groepaz: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<li><strong>Reply:</strong> <a href="3784.html">Groepaz: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-11-19 18:28:30 CET</em>
</em>
</small>
</body>
</html>
