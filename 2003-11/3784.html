<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] ftell and fseek unavailab</title>
<meta name="Author" content="Groepaz (groepaz_at_gmx.net)">
<meta name="Subject" content="Re: [cc65] ftell and fseek unavailable on c64?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] ftell and fseek unavailable on c64?</h1>
<!-- received="Wed Nov 19 22:21:35 2003" -->
<!-- isoreceived="20031119212135" -->
<!-- sent="Wed, 19 Nov 2003 22:13:11 +0100" -->
<!-- isosent="20031119211311" -->
<!-- name="Groepaz" -->
<!-- email="groepaz_at_gmx.net" -->
<!-- subject="Re: [cc65] ftell and fseek unavailable on c64?" -->
<!-- id="200311192213.11591.groepaz@gmx.net" -->
<!-- inreplyto="20031119180559.P40527-100000@xcip2.studcs.uni-sb.de" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Groepaz (<a href="mailto:groepaz_at_gmx.net?Subject=Re:%20[cc65]%20ftell%20and%20fseek%20unavailable%20on%20c64?"><em>groepaz_at_gmx.net</em></a>)<br>
<strong>Date:</strong> 2003-11-19 22:13:11
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3783.html">Stephan Lesch: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<li><strong>In reply to:</strong> <a href="3783.html">Stephan Lesch: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Wednesday 19 November 2003 18:22, Stephan Lesch wrote:
&gt; On Wed, 19 Nov 2003, carlos wrote:
&gt; &gt; Hello,
&gt; &gt;
&gt; &gt; i think that this is not right, because every sector has two bytes
&gt; &gt; pointing to the next sector of the file.
&gt; &gt; So one could seek 254 bytes at one time.
&gt;
&gt; If you're writing your own disk routines anyway, it's not too difficult to
&gt; do - you could scan the sector chain of a file when it's opened, (or just
&gt; scan the link pointers of the whole disk), and update this table when new
&gt; sectors are added. It would take maybe 10 seconds for the whole disk,
&gt; and then allow you to access any position in any file without
&gt; reading it from the start.
&gt;
&gt; But neither your proposal nor mine are compatible with the file handling
&gt; in the kernel, the floppy and the C runtime, that's the real
&gt; problem I think...

seeking forward in steps of sector size would work just fine on c64, and 
not clash with the kernel either....it would however still not be really 
fast, and it doesnt solve the backward-seeking problem at all.

i implemented seeking in my posix directory routines for c64...and eventhough
it seeks through very little data there (only a few sectors on a full directory)
its very very slowish :=P

gpz

----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20ftell%20and%20fseek%20unavailable%20on%20c64?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3783.html">Stephan Lesch: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<li><strong>In reply to:</strong> <a href="3783.html">Stephan Lesch: "Re: [cc65] ftell and fseek unavailable on c64?"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-11-19 22:22:17 CET</em>
</em>
</small>
</body>
</html>
