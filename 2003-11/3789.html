<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] scanf alternative?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] scanf alternative?">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] scanf alternative?</h1>
<!-- received="Fri Nov 21 19:09:38 2003" -->
<!-- isoreceived="20031121180938" -->
<!-- sent="Fri, 21 Nov 2003 19:09:33 +0100" -->
<!-- isosent="20031121180933" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] scanf alternative?" -->
<!-- id="20031121180933.GB28272@trixie.musoftware.de" -->
<!-- inreplyto="001701c3b053$a98efb80$d201a8c0@spector" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20scanf%20alternative?"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-11-21 19:09:33
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3788.html">Raj Wurttemberg: "[cc65] scanf alternative?"</a>
<li><strong>In reply to:</strong> <a href="3788.html">Raj Wurttemberg: "[cc65] scanf alternative?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3794.html">Stephan Lesch: "[cc65] ca65: macro parameter types"</a>
<li><strong>Next in thread:</strong> <a href="3790.html">Raj Wurttemberg: "RE: [cc65] scanf alternative?"</a>
<li><strong>Reply:</strong> <a href="3794.html">Stephan Lesch: "[cc65] ca65: macro parameter types"</a>
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Fri, Nov 21, 2003 at 12:19:46PM -0500, Raj Wurttemberg wrote:
&gt; What is the alternative for the following statement in cc65:?
&gt;
&gt; scanf(&quot;%d&quot;, &amp;num);
&gt;
&gt; I found it in stdio.h but it was...
&gt;
&gt; /* Not available or testing: */
&gt; int scanf (const char* format, ...);

The guts of all the scanf functions exist, but they cannot work on files,
since the current file implementation has no working ungetc(). An alternative
is to use sscanf, which works on strings:

    char buf [64];
    int foo;

    if (fgets (buf, sizeof (buf), stdin) != 0) {
        sscanf (buf, &quot;%d&quot;, &amp;foo);
    } else {
        Error (&quot;Cannot read from stdin!&quot;);
    }

BTW: fgets seems to be broken in the snapshot, but above code works with
2.9.3.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20scanf%20alternative?">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20scanf%20alternative?">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3788.html">Raj Wurttemberg: "[cc65] scanf alternative?"</a>
<li><strong>In reply to:</strong> <a href="3788.html">Raj Wurttemberg: "[cc65] scanf alternative?"</a>
<!-- nextthread="start" -->
<li><strong>Next in thread:</strong> <a href="3794.html">Stephan Lesch: "[cc65] ca65: macro parameter types"</a>
<li><strong>Next in thread:</strong> <a href="3790.html">Raj Wurttemberg: "RE: [cc65] scanf alternative?"</a>
<li><strong>Reply:</strong> <a href="3794.html">Stephan Lesch: "[cc65] ca65: macro parameter types"</a>
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-11-21 19:09:47 CET</em>
</em>
</small>
</body>
</html>
