<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>cc65 mailing list archive: Re: [cc65] Inline-Assembler: sorry,</title>
<meta name="Author" content="Ullrich von Bassewitz (uz_at_musoftware.de)">
<meta name="Subject" content="Re: [cc65] Inline-Assembler: sorry, i forgot that this is an english mailing list">
</head>
<body bgcolor="#FFFFFF" text="#000000">
<h1>Re: [cc65] Inline-Assembler: sorry, i forgot that this is an english mailing list</h1>
<!-- received="Mon Dec  1 00:39:02 2003" -->
<!-- isoreceived="20031130233902" -->
<!-- sent="Mon, 1 Dec 2003 00:38:56 +0100" -->
<!-- isosent="20031130233856" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz_at_musoftware.de" -->
<!-- subject="Re: [cc65] Inline-Assembler: sorry, i forgot that this is an english mailing list" -->
<!-- id="20031130233856.GA9239@trixie.musoftware.de" -->
<!-- inreplyto="004101c3b797$16a5b890$8cdfb9d4@gmbigb" -->
<!-- expires="-1" -->
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<p>
<strong>From:</strong> Ullrich von Bassewitz (<a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Inline-Assembler:%20sorry,%20i%20forgot%20that%20this%20is%20an%20english%20mailing%20list"><em>uz_at_musoftware.de</em></a>)<br>
<strong>Date:</strong> 2003-12-01 00:38:56
<p>
<!-- next="start" -->
<ul>
<li><strong>Previous message:</strong> <a href="3823.html">Benjamin Bahnsen: "[cc65] Inline-Assembler: sorry, i forgot that this is an english mailing list"</a>
<li><strong>In reply to:</strong> <a href="3823.html">Benjamin Bahnsen: "[cc65] Inline-Assembler: sorry, i forgot that this is an english mailing list"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<hr noshade><p>
<!-- body="start" -->
<pre>
On Mon, Dec 01, 2003 at 12:10:03AM +0100, Benjamin Bahnsen wrote:
&gt; I have a short question: do i have to save and restore the registers, which
&gt; i use in the inline-assembler ( ... i += 10; asm(&quot;pha&quot;); asm(&quot;lda #$00&quot;);
&gt; asm(&quot;sta $D020&quot;); asm(&quot;pla&quot;); i += 20; ... ), or may i change the values of
&gt; a/x/y between two C-commands?

Because of the low register count of the 6502 CPU, all registers are scratch
registers and may be changed in every C statement. This means that the
compiler doesn't expect the registers to keep their values, which in turn
means that you must not save any of the registers when using inline assembly.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  <a href="mailto:uz_at_musoftware.de?Subject=Re:%20[cc65]%20Inline-Assembler:%20sorry,%20i%20forgot%20that%20this%20is%20an%20english%20mailing%20list">uz_at_musoftware.de</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to <a href="mailto:majordomo_at_musoftware.de?Subject=Re:%20[cc65]%20Inline-Assembler:%20sorry,%20i%20forgot%20that%20this%20is%20an%20english%20mailing%20list">majordomo_at_musoftware.de</a> with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<p><!-- body="end" -->
<hr noshade>
<ul>
<!-- next="start" -->
<li><strong>Previous message:</strong> <a href="3823.html">Benjamin Bahnsen: "[cc65] Inline-Assembler: sorry, i forgot that this is an english mailing list"</a>
<li><strong>In reply to:</strong> <a href="3823.html">Benjamin Bahnsen: "[cc65] Inline-Assembler: sorry, i forgot that this is an english mailing list"</a>
<!-- nextthread="start" -->
<!-- reply="end" -->
</ul>
<div align="center">
<table border="2" width="100%">
<tr>
<th><a href="date.html">Date view</a></th>
<th><a href="index.html">Thread view</a></th>
<th><a href="subject.html">Subject view</a></th>
</tr>
</table>
</div>
<!-- trailer="footer" -->
<p>
<small>
<em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.3</a> 
: <em>2003-12-01 00:39:11 CET</em>
</em>
</small>
</body>
</html>
