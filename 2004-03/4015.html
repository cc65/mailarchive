<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Assembler code in C</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Assembler code in C" />
<meta name="Date" content="2004-03-20" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Assembler code in C</h1>
<!-- received="Sat Mar 20 22:59:08 2004" -->
<!-- isoreceived="20040320215908" -->
<!-- sent="Sat, 20 Mar 2004 22:59:02 +0100" -->
<!-- isosent="20040320215902" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Assembler code in C" -->
<!-- id="20040320215902.GA8344@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="006501c40ec4$f9d2fef0$6501a8c0&#64;mypc" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="4016.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] built in debugger on Apple platform&quot;">Next message</a> ]
[ <a href="4014.html" title="Glenn Jones: &quot;[cc65] built in debugger on Apple platform&quot;">Previous message</a> ]
[ <a href="4013.html" title="Apple2Stuff: &quot;Re: [cc65] Assembler code in C&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="../2003-10/3624.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] DA65 GEOS Disassembly?&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Assembler%20code%20in%20C">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2004-03-20 22:59:02</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Sat, Mar 20, 2004 at 04:47:43PM -0500, Apple2Stuff wrote:
&gt; The C stack is used for parameter passing between C functions? Correct?

With one exception, yes. The exception are fastcall functions. For these
functions, the rightmost parameter is passed in registers.

&gt; Can I manipulate the hardware stack with out messing up access to the C
&gt; stack?

Yes. But beware: In some cases, the compiler generates code that saves a
register on the hardware stack. When doing things like this, you should always
check the generated assembly.

&gt; I am calling assembler routines (which may or may not have been generated by
&gt; cc65) from C and coming from a background where I wrote one or the other I
&gt; am getting a  little bit confused about what I can touch.

Separation is easier, if you write complete functions in assembler. Using
inline assembly for critical stuff is always problematic, especially since it
will run through the optimizer and may be rearranged, changed or even deleted.

&gt; I noticed in the debug window the C stack is always displayed two bytes wide
&gt; ... is the C stack always accessed 2 bytes at a time?

No, access to the C stack depends on the width of the data type stored there.
I don't remember why I used a width of 2 for the C stack, maybe because I
thought that this is the most common case (an int or ptr on the stack).

Regards


     	Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sat Mar 20 22:59:08 2004</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="4016.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] built in debugger on Apple platform"</a></li>
<li><dfn>Previous message</dfn>: <a href="4014.html" title="Previous message in the list">Glenn Jones: "[cc65] built in debugger on Apple platform"</a></li>
<li><dfn>In reply to</dfn>: <a href="4013.html" title="Message to which this message replies">Apple2Stuff: "Re: [cc65] Assembler code in C"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="../2003-10/3624.html" title="Next message in this discussion thread">Ullrich von Bassewitz: "Re: [cc65] DA65 GEOS Disassembly?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#4015" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#4015" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#4015" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2004-03-20 22:59:14 CET
</em></small></p>
</body>
</html>
