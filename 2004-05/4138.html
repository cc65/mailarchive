<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] command line args</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] command line args" />
<meta name="Date" content="2004-05-14" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] command line args</h1>
<!-- received="Fri May 14 14:49:14 2004" -->
<!-- isoreceived="20040514124914" -->
<!-- sent="Fri, 14 May 2004 14:49:10 +0200" -->
<!-- isosent="20040514124910" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] command line args" -->
<!-- id="20040514124910.GA9626@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="001801c43990$390d8e00$1e0906d5&#64;acer5j0jdwij8z" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="4139.html" title="Ullrich von Bassewitz: &quot;[cc65] Upcoming snapshot problems&quot;">Next message</a> ]
[ <a href="4137.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Linker error&quot;">Previous message</a> ]
[ <a href="4136.html" title="carlos: &quot;Re: [cc65] command line args&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="../2004-04/4060.html" title="Greg King: &quot;Re: [cc65] re: command line args&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20command%20line%20args">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2004-05-14 14:49:10</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Fri, May 14, 2004 at 10:48:20AM +0200, carlos wrote:
&gt; But instead of a  &quot;xyz not known&quot; error message, the assembler outputs
&gt; &quot;constant expression detected&quot;, which doesn't give you a clue about what has
&gt; happened. Using .define it is much less complicate in this case.

The assembler says &quot;Constant expression expected&quot; - which is quite the
contrary. This problem happens in several other contexts, and is related to
ca65 being a one pass assembler. The assembler doesn't know if the symbol will
get redefined within the scope, overriding the global definition, so it delays
evaluation in most cases until the scope is closed. In the given case, it
needs to generate code, so this delayed evaluation is not possible.

A simple solution which has been mentioned more than once is to use explicit
scoping syntax for the symbol:

        NREP = 10
        .proc   xyz
                .repeat ::NREP * 8, xvar
                        lda #xvar
                .endrep
        .endproc

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri May 14 14:49:14 2004</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="4139.html" title="Next message in the list">Ullrich von Bassewitz: "[cc65] Upcoming snapshot problems"</a></li>
<li><dfn>Previous message</dfn>: <a href="4137.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] Linker error"</a></li>
<li><dfn>In reply to</dfn>: <a href="4136.html" title="Message to which this message replies">carlos: "Re: [cc65] command line args"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="../2004-04/4060.html" title="Next message in this discussion thread">Greg King: "Re: [cc65] re: command line args"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#4138" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#4138" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#4138" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2004-05-14 14:49:21 CEST
</em></small></p>
</body>
</html>
