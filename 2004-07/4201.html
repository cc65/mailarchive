<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] possible bug in cbm_dir.c</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] possible bug in cbm_dir.c" />
<meta name="Date" content="2004-07-06" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] possible bug in cbm_dir.c</h1>
<!-- received="Tue Jul  6 23:46:22 2004" -->
<!-- isoreceived="20040706214622" -->
<!-- sent="Tue, 6 Jul 2004 23:46:16 +0200" -->
<!-- isosent="20040706214616" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] possible bug in cbm_dir.c" -->
<!-- id="20040706214616.GA16645@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="200407062342.16485.groepaz&#64;gmx.net" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="4202.html" title="Groepaz: &quot;Re: [cc65] possible bug in cbm_dir.c&quot;">Next message</a> ]
[ <a href="4200.html" title="Groepaz: &quot;[cc65] possible bug in cbm_dir.c&quot;">Previous message</a> ]
[ <a href="4200.html" title="Groepaz: &quot;[cc65] possible bug in cbm_dir.c&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="4202.html" title="Groepaz: &quot;Re: [cc65] possible bug in cbm_dir.c&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20possible%20bug%20in%20cbm_dir.c">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2004-07-06 23:46:16</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Tue, Jul 06, 2004 at 11:42:16PM +0200, Groepaz wrote:
&gt; cbm_dir.c(48): Warning: Shift count too large for operand type
&gt;
&gt; the return value of a kernal routine, which i believe is an
&gt; unsigned char, is shifted to the left by 8. i would think that
&gt; the proper way to fix it would be changing the line into this:
&gt;
&gt; l_dirent-&gt;size = byte | (((unsigned short)cbm_k_basin())&lt;&lt;8);

No, it is a bug in the development code, and it is already fixed. The left
hand side operand of the shift operators is promoted to an integer before the
shift takes place. The new shift code in the compiler didn't do the int
promotion before the check that led to the warning.

If you don't need cbm_dir, you can ignore the warning for now, otherwise you
this nights snapshot, because the compiler generates a zero result when the
warning is output, which is wrong in this place.

&gt; ps: what about testing for the existance of sgml2html etc in
&gt; the toplevel makefile and skipping the building of the docs
&gt; if its not present?

Just send me a patch and I will apply it:-)

Thanks for testing the development snapshot!

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Jul  6 23:46:22 2004</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="4202.html" title="Next message in the list">Groepaz: "Re: [cc65] possible bug in cbm_dir.c"</a></li>
<li><dfn>Previous message</dfn>: <a href="4200.html" title="Previous message in the list">Groepaz: "[cc65] possible bug in cbm_dir.c"</a></li>
<li><dfn>In reply to</dfn>: <a href="4200.html" title="Message to which this message replies">Groepaz: "[cc65] possible bug in cbm_dir.c"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="4202.html" title="Next message in this discussion thread">Groepaz: "Re: [cc65] possible bug in cbm_dir.c"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="4202.html" title="Message sent in reply to this message">Groepaz: "Re: [cc65] possible bug in cbm_dir.c"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#4201" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#4201" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#4201" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2004-07-06 23:46:31 CEST
</em></small></p>
</body>
</html>
