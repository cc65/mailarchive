<?xml version="1.0" encoding="iso-8859-15"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Floating point support?</title>
<meta name="Author" content="Spiro Trikaliotis (ml-cc651trikaliotis.net)" />
<meta name="Subject" content="Re: [cc65] Floating point support?" />
<meta name="Date" content="2004-09-28" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Floating point support?</h1>
<!-- received="Tue Sep 28 06:58:49 2004" -->
<!-- isoreceived="20040928045849" -->
<!-- sent="Tue, 28 Sep 2004 06:58:39 +0200" -->
<!-- isosent="20040928045839" -->
<!-- name="Spiro Trikaliotis" -->
<!-- email="ml-cc651trikaliotis.net" -->
<!-- subject="Re: [cc65] Floating point support?" -->
<!-- id="20040928045839.GA20031@mail" -->
<!-- charset="iso-8859-15" -->
<!-- inreplyto="B1922C39-10CD-11D9-BC31-000A95914D12&#64;science-and-technology.nl" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="4568.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Floating point support?&quot;">Next message</a> ]
[ <a href="4566.html" title="Mats Andrén: &quot;[cc65] Unresolved external `tosasra0'&quot;">Previous message</a> ]
[ <a href="4564.html" title="Sidney Cadot: &quot;Re: [cc65] Floating point support?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="4569.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Floating point support?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Spiro Trikaliotis &lt;<a href="mailto:ml-cc651trikaliotis.net?Subject=Re:%20[cc65]%20Floating%20point%20support?">ml-cc651trikaliotis.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2004-09-28 06:58:39</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hello,

* On Mon, Sep 27, 2004 at 11:39:21PM +0200 Sidney Cadot wrote:
 
&gt; Ok. If it's a given that we are going to support just one FP-type (and
&gt; now that I think about it this makes a lot of sense), I would agree
&gt; that indeed the natural choice is between a 4-byte and a roll-your-own
&gt; 6-byte type.

One argument against an own 6-byte format: Compatibility... What if I
want to use the output of the compiled program on another machine? Only
IEEE 754 4 byte and 8 byte types are compatible on a wide range of
machines. Furthermore, many implementations before IEEE 754 suffered
from some minor drawbacks because the people implementing them were not
good mathematicians, and did not know what is not so optimal. IEEE 754
tried to circumenvent these problems.

&gt; As to the Turbo Pascal type, it looks like this (assuming you are
&gt; using a fixed width font ;-)):
[...]
&gt; Compared to the IEEE formats, the sign bit is in a different place -
&gt; but there is much to be said for this scheme

AFAIR, IEEE 754 does *not* tell use the format of the FP values! It only
defines the &quot;blocks&quot; we have to define (sign, fractional part,
exponent), and how these are handled. It does not define if LSB first or
MSB first is used, or the order of the blocks!

BTW: Mantissa != fractional part! If we have a normalized IEEE FP value,
than it's mantissa m is in the range 1 &lt;= m &lt; 2. Anyway, the fractional
part f is f = m - 1.

Only if the value is denormalized, than 0 &lt;= m &lt; 1, and f = m. IEEE only
stores the fractional part.


&gt; (the exponent byte now being in a separate byte).

Which is a big advantage on an 8 bit machine.

 
&gt; On a related note: do you have strong feelings about whether or not to
&gt; fully support IEEE-754 notions such as Not-A-Number, Infinity,
&gt; rounding modes?

I fear it will get too complicated if these are fully supported.
Furthermore: Does C have a &quot;clean&quot; interface to even use these? I
always thought C has some problems with +/- NaN, +/- Infty, and so on.

Regards,
   Spiro.

-- 
Spiro R. Trikaliotis
<a href="http://www.trikaliotis.net/">http://www.trikaliotis.net/</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Sep 28 06:58:49 2004</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="4568.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] Floating point support?"</a></li>
<li><dfn>Previous message</dfn>: <a href="4566.html" title="Previous message in the list">Mats Andrén: "[cc65] Unresolved external `tosasra0'"</a></li>
<li><dfn>In reply to</dfn>: <a href="4564.html" title="Message to which this message replies">Sidney Cadot: "Re: [cc65] Floating point support?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="4569.html" title="Next message in this discussion thread">Ullrich von Bassewitz: "Re: [cc65] Floating point support?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="4569.html" title="Message sent in reply to this message">Ullrich von Bassewitz: "Re: [cc65] Floating point support?"</a></li>
<li><dfn>Reply</dfn>:  <a href="4570.html" title="Message sent in reply to this message">Marc Rintsch: "Re: [cc65] Floating point support?"</a></li>
<li><dfn>Reply</dfn>:  <a href="4575.html" title="Message sent in reply to this message">Sidney Cadot: "Re: [cc65] Floating point support?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#4567" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#4567" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#4567" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2004-09-28 06:58:58 CEST
</em></small></p>
</body>
</html>
