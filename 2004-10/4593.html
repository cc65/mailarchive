<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Floating point support?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Floating point support?" />
<meta name="Date" content="2004-10-03" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Floating point support?</h1>
<!-- received="Sun Oct  3 22:27:23 2004" -->
<!-- isoreceived="20041003202723" -->
<!-- sent="Sun, 3 Oct 2004 22:27:18 +0200" -->
<!-- isosent="20041003202718" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Floating point support?" -->
<!-- id="20041003202718.GC7384@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="20040929082038.GA10634&#64;mail" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="4594.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Floating point support?&quot;">Next message</a> ]
[ <a href="4592.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] conio tabs&quot;">Previous message</a> ]
[ <a href="../2004-09/4585.html" title="Spiro Trikaliotis: &quot;Re: [cc65] Floating point support?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="4597.html" title="Sidney Cadot: &quot;Re: [cc65] Floating point support?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Floating%20point%20support?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2004-10-03 22:27:18</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Wed, Sep 29, 2004 at 10:20:38AM +0200, Spiro Trikaliotis wrote:
&gt;         Is suboptimal. wrt exponent      could be made optimal wrt.
&gt;         processing (8 bit covered in     exponent processing
&gt;         2 bytes)

This was was I meant with &quot;Binary format is given and we have to live with
that.&quot; vs. &quot;Format can be optimized for 6502.&quot;

Ok so, while I'm not 100% sure if this is the right decision, I would propose
a still to develop 6 byte format for cc65. Using something similar to the
turbo pascal format as shown by Sidney would probably be ok.

 47     40 39 38                                 0
  .-----------------------------------------------.
  | 8 bits |s|msb         39 bit mantissa      lsb|
  `-----------------------------------------------'
       |    |                  `------------  mantissa
       |    `-----------------------------  sign bit
       `--------------------------------  biased exponent (80h)

Since enough bits are available, I think that using an explicit '1' allows for
easier processing and detection of denormalized values (if necessary). The
question is if we need representations for NaN, Infinite, and so on. I've
checked the floating point format of the Texas TMS320 DSP, and it doesn't
support any special values. The IEEE Std. 754 format supports NaN and
Infinity.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Oct  3 22:27:23 2004</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="4594.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] Floating point support?"</a></li>
<li><dfn>Previous message</dfn>: <a href="4592.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] conio tabs"</a></li>
<li><dfn>In reply to</dfn>: <a href="../2004-09/4585.html" title="Message to which this message replies">Spiro Trikaliotis: "Re: [cc65] Floating point support?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="4597.html" title="Next message in this discussion thread">Sidney Cadot: "Re: [cc65] Floating point support?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="4597.html" title="Message sent in reply to this message">Sidney Cadot: "Re: [cc65] Floating point support?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#4593" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#4593" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#4593" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2004-10-03 22:27:31 CEST
</em></small></p>
</body>
</html>
