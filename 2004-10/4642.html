<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] makefile problems</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] makefile problems" />
<meta name="Date" content="2004-10-22" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] makefile problems</h1>
<!-- received="Fri Oct 22 20:52:04 2004" -->
<!-- isoreceived="20041022185204" -->
<!-- sent="Fri, 22 Oct 2004 20:52:00 +0200" -->
<!-- isosent="20041022185200" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] makefile problems" -->
<!-- id="20041022185200.GA9109@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="000701c4b58e$266d5760$9b682c42&#64;palace" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="4643.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] makefile problems&quot;">Next message</a> ]
[ <a href="4641.html" title="ccureau1i-55.com: &quot;[cc65] problems compiling a hash table&quot;">Previous message</a> ]
[ <a href="4633.html" title="Greg King: &quot;Re: [cc65] makefile problems&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="4634.html" title="Greg King: &quot;Re: [cc65] makefile problems&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20makefile%20problems">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2004-10-22 20:52:00</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Mon, Oct 18, 2004 at 11:44:37PM -0400, Greg King wrote:
&gt; I like that style, too.  So, I wrote my own GNUmakefiles that work that
&gt; way.  But, Uz doesn't use that style -- at least, not in the library
&gt; subtree (interestingly, the development tool subtree does work in that
&gt; autonomous way).

Not really. Executing make in one of the tool directories will only build the
tool specific files, not the common library. The idea behind it is that the
makefiles mirror the directory structure: They build anything in the directory
and below it.

That the libraries do not work in this way has been lazyness on my side
instead of a real design decision. I would prefer the same behaviour, and - as
I do know now - this goal is achievable with only a few small changes. When I
created the first sub makefiles, I didn't realize that. It is a good idea to
make these files compatible with the remainder of the sources.

&gt; You rebuild a single library by starting in the parent subdirectory, and
&gt; naming that library as a make goal:
&gt;     cd cc65/libsrc; make lynxlib

You can even do a

	make -C cc65/libsrc lynxlib

&gt; A desire for portability is one of the reasons for the current method.  Uz
&gt; wanted many host systems to be able to build the cc65 package -- DOS-like
&gt; ones, as well as Unix-like ones.  He wants us to be able to modify any
&gt; file, then update all of the libraries -- for all targets -- without
&gt; resorting to fancy makefile tricks.  [I love to write those tricks -- but,
&gt; I'm weird. ;-) ]

With some effort it would be possible to make the makefiles smarter about
already built modules. However, this would not only involve a much more
complex makefile, but also more disk space, because the object files cannot be
mixed between the different systems, so they would have to go into target
specific subdirectories. But the current scheme works well in my daily
development work, so I see no need to change it.

Regards


	Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Oct 22 20:52:04 2004</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="4643.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] makefile problems"</a></li>
<li><dfn>Previous message</dfn>: <a href="4641.html" title="Previous message in the list">ccureau1i-55.com: "[cc65] problems compiling a hash table"</a></li>
<li><dfn>In reply to</dfn>: <a href="4633.html" title="Message to which this message replies">Greg King: "Re: [cc65] makefile problems"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="4634.html" title="Next message in this discussion thread">Greg King: "Re: [cc65] makefile problems"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#4642" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#4642" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#4642" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2004-10-22 20:52:14 CEST
</em></small></p>
</body>
</html>
