<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] When not to use fastcall?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] When not to use fastcall?" />
<meta name="Date" content="2004-11-20" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] When not to use fastcall?</h1>
<!-- received="Sat Nov 20 10:17:35 2004" -->
<!-- isoreceived="20041120091735" -->
<!-- sent="Sat, 20 Nov 2004 10:17:31 +0100" -->
<!-- isosent="20041120091731" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] When not to use fastcall?" -->
<!-- id="20041120091731.GA13980@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="20041120002858.22732.qmail&#64;web52201.mail.yahoo.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="4712.html" title="Shawn Jefferson: &quot;Re: [cc65] When not to use fastcall?&quot;">Next message</a> ]
[ <a href="4710.html" title="Shawn Jefferson: &quot;[cc65] When not to use fastcall?&quot;">Previous message</a> ]
[ <a href="4710.html" title="Shawn Jefferson: &quot;[cc65] When not to use fastcall?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="4712.html" title="Shawn Jefferson: &quot;Re: [cc65] When not to use fastcall?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20When%20not%20to%20use%20fastcall?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2004-11-20 10:17:31</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Fri, Nov 19, 2004 at 04:28:58PM -0800, Shawn Jefferson wrote:
&gt; After looking at the assembly that my code is
&gt; producing using fastcall, I realize that most of my
&gt; functions are pushing the primary register back onto
&gt; the stack anyway, I assume because I am not using the
&gt; values passed to the function right away, but after
&gt; some initializations and computations occur.

If you write a fastcall function in C, fastcall is actually a size, and not a
speed optimization. Pushing the last parameter is moved into the the prologue
of the called function, so it is done just once, not each time the function is
called. The compiler will never just use the value in the register as is,
because the cases in which this is possible are very rare.

&gt; Am I correct in thinking that I have answer my own
&gt; question about when not to use fastcall?

I don't know what you are refering to, but what I said in my last mail about
exceptions is still true.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sat Nov 20 10:17:35 2004</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="4712.html" title="Next message in the list">Shawn Jefferson: "Re: [cc65] When not to use fastcall?"</a></li>
<li><dfn>Previous message</dfn>: <a href="4710.html" title="Previous message in the list">Shawn Jefferson: "[cc65] When not to use fastcall?"</a></li>
<li><dfn>In reply to</dfn>: <a href="4710.html" title="Message to which this message replies">Shawn Jefferson: "[cc65] When not to use fastcall?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="4712.html" title="Next message in this discussion thread">Shawn Jefferson: "Re: [cc65] When not to use fastcall?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="4712.html" title="Message sent in reply to this message">Shawn Jefferson: "Re: [cc65] When not to use fastcall?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#4711" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#4711" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#4711" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2004-11-20 10:17:45 CET
</em></small></p>
</body>
</html>
