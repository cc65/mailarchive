<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: [cc65] Überarbeitete Apple2 C-Library</title>
<meta name="Author" content="Oliver Schmidt (ol.sc1web.de)" />
<meta name="Subject" content="[cc65] Überarbeitete Apple2 C-Library" />
<meta name="Date" content="2005-01-05" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>[cc65] Überarbeitete Apple2 C-Library</h1>
<!-- received="Wed Jan  5 15:39:55 2005" -->
<!-- isoreceived="20050105143955" -->
<!-- sent="Wed, 5 Jan 2005 15:20:07 +0100" -->
<!-- isosent="20050105142007" -->
<!-- name="Oliver Schmidt" -->
<!-- email="ol.sc1web.de" -->
<!-- subject="[cc65] Überarbeitete Apple2 C-Library" -->
<!-- id="000801c4f334$87a03910$0200a8c0@pc" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="20041222074204.GA14623&#64;trixie.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="4767.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Überarbeitete Apple2 C-Library&quot;">Next message</a> ]
[ <a href="../2004-12/4765.html" title="Karri Kaksonen: &quot;Re: [cc65] abc music specification&quot;">Previous message</a> ]
[ <a href="../2004-12/4760.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Apple ][ user contribution&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="4767.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Überarbeitete Apple2 C-Library&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Oliver Schmidt &lt;<a href="mailto:ol.sc1web.de?Subject=Re:%20[cc65]%20%dcberarbeitete%20Apple2%20C-Library">ol.sc1web.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2005-01-05 15:20:07</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hallo Ullrich,

peinlich, peinlich, aber... in all den Jahren, in denen ich 6502 Assembler
schreibe, war mir nie klar, daß

    cmp    &lt;xx&gt;
    bpl    &lt;yy&gt;

durchaus nicht immer das tut was ich mir vorstelle, sondern daß ich
eigentlich fast immer das meinte, was korrekt mit

    cmp    &lt;xx&gt;
    bcs    &lt;yy&gt;

ausgedrückt wird, nämlich ob A &gt;= &lt;xx&gt; ist :-( Das gleiche gilt natürlich
für bmi vs. bcc. Nachdem mir das jetzt &quot;auf meine alten Tage&quot; doch noch klar
geworden ist, habe ich meine &quot;aktuellen&quot; Sourcen nach diesem Fehler
durchsucht und bin leider auch in der cc65 Apple2 C-Library fündig geworden.
Allerdings haben die Fehler dort durch den umgebenden Code keine Chance nach
außen sichtbar zu werden. Trotzdem habe ich natürlich die fraglichen Stellen
korrigiert - und die Gelegenheit genutzt, weitere Änderungen vorzunehmen:

- Optimierungen in cputc() die ca. 10 Byte einsparen :-)
- Eine Neu-Implementierung von get_ostype() die jetzt komplett und
vollständig nach &quot;Spec.&quot; vorgeht.
- Kleine formale Änderungen (primär in der Benennung von Labels), um den
Codingstil zu vereinheitlichen - zumindest in den Files, für die ich mich
&quot;zuständig&quot; fühle.

Ich hoffe, die Änderungen sind so für Dich okay. Ich bin jetzt hier nicht
auf jedes Detail eingegangen, weil ich davon ausgehe, daß Du Dir sowieso
einen Diff anschaust und sich die allermeisten Sachen dann selbst erklären.
Falls Dir doch etwas unklar sein sollte / Du mit einer Änderung ein Problem
hast kann ich natürlich gern Details über meine Überlegungen nachreichen.

Gruß, Oliver


----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<div>
<ul>
<li>application/x-zip-compressed attachment: <a href="../att-4766/apple2.zip">apple2.zip</a></li>
</ul>
<!-- attachment="apple2.zip" -->
</div>
<span id="received"><dfn>Received on</dfn> Wed Jan  5 15:39:55 2005</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="4767.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] Überarbeitete Apple2 C-Library"</a></li>
<li><dfn>Previous message</dfn>: <a href="../2004-12/4765.html" title="Previous message in the list">Karri Kaksonen: "Re: [cc65] abc music specification"</a></li>
<li><dfn>In reply to</dfn>: <a href="../2004-12/4760.html" title="Message to which this message replies">Ullrich von Bassewitz: "Re: [cc65] Apple ][ user contribution"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="4767.html" title="Next message in this discussion thread">Ullrich von Bassewitz: "Re: [cc65] Überarbeitete Apple2 C-Library"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="4767.html" title="Message sent in reply to this message">Ullrich von Bassewitz: "Re: [cc65] Überarbeitete Apple2 C-Library"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#4766" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#4766" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#4766" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2005-01-05 15:40:05 CET
</em></small></p>
</body>
</html>
