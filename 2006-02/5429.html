<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] cc65 apple II programmers?</title>
<meta name="Author" content="Payton Byrd (kingdurin1yahoo.com)" />
<meta name="Subject" content="Re: [cc65] cc65 apple II programmers?" />
<meta name="Date" content="2006-02-20" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] cc65 apple II programmers?</h1>
<!-- received="Mon Feb 20 23:03:14 2006" -->
<!-- isoreceived="20060220220314" -->
<!-- sent="Mon, 20 Feb 2006 14:02:58 -0800 (PST)" -->
<!-- isosent="20060220220258" -->
<!-- name="Payton Byrd" -->
<!-- email="kingdurin1yahoo.com" -->
<!-- subject="Re: [cc65] cc65 apple II programmers?" -->
<!-- id="20060220220258.79586.qmail@web35301.mail.mud.yahoo.com" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="20060217184158.GA27781&#64;trixie.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="5430.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] cc65 apple II programmers?&quot;">Next message</a> ]
[ <a href="5428.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] cc65 apple II programmers?&quot;">Previous message</a> ]
[ <a href="5428.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] cc65 apple II programmers?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="5430.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] cc65 apple II programmers?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Payton Byrd &lt;<a href="mailto:kingdurin1yahoo.com?Subject=Re:%20[cc65]%20cc65%20apple%20II%20programmers?">kingdurin1yahoo.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2006-02-20 23:02:58</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Ullrich von Bassewitz &lt;uz&#64;musoftware&#46;<!--nospam-->de&gt; wrote: 
On Fri, Feb 17, 2006 at 07:25:30AM -0800, Payton Byrd wrote:
&gt; &gt; <a href="http://www.esw-heim.tu-clausthal.de/~marco/smorbrod/acme/acme.html">http://www.esw-heim.tu-clausthal.de/~marco/smorbrod/acme/acme.html</a>
&gt; &gt; would be great to get this ported to the Apple II!
&gt;
&gt; Maybe this isn't the perfect place for that because this mailing list is
&gt; about the cc65 package which already comes with the - at least in my opinion
&gt; great - ca65 cross assembler ;-)

If I understood him correctly, the question was about running the assembler
natively on the Apple by compiling it with cc65. As a testcase, I've tried to
translate the ca65 source with cc65. There are two problems:

1. Assignments like

        struct foo f = { ... };

        void func (void)
        {
            struct foo bar = f;
            ...
        }

   do not work.

2. The code generator is not able to access local variables with more than 256
   bytes in all cases (that is: it depends on the code if this will work or
   not).

The former is solvable and will be solved, but I fear that the latter is a
permanent limitation. Allowing more than 256 bytes of local variables would be
possible, but it needs big and slow code for variable access, since it is no
longer possible to access the data via (sp),y using an index register. So I
don't think it's really worth the trouble.

What I couldn't try because of above errors is if the resulting executable
would run on or even link for one of the 6502 platforms. The linux executable
for ca65 has ~128KB - and this is without the complete C runtime library,
which is in a dynamic library. The assembler needs lots of additional memory
for symbols, listing and code, so I do severely doubt that it is useful when
compiled for a 6502 platform. The same is probably true for ACME.
The SuperCPU provides up to 16 MB of RAM to the CPU.  CC65/CA65 even a SuperCPU with 4 MB of RAM would be extremely useful to me.  I imagine the 256 limit for local variables would be a non-issue for the 16-bit 65816, right?  Maybe this just goes back to that whole 65816 target issue that I don't think I've seen a definitive response about.  Did you find any other interesting bugs when you tried to compile CA65 with CC65?


Payton Byrd
&lt;<a href="http://www.paytonbyrd.com">http://www.paytonbyrd.com</a>&gt;
&lt;<a href="http://blogs.ittoolbox.com/visualbasic/dotnet/">http://blogs.ittoolbox.com/visualbasic/dotnet/</a>&gt;
		
---------------------------------
Brings words and photos together (easily) with
 PhotoMail  - it's free and works with Yahoo! Mail.
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Feb 20 23:03:14 2006</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="5430.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] cc65 apple II programmers?"</a></li>
<li><dfn>Previous message</dfn>: <a href="5428.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] cc65 apple II programmers?"</a></li>
<li><dfn>In reply to</dfn>: <a href="5428.html" title="Message to which this message replies">Ullrich von Bassewitz: "Re: [cc65] cc65 apple II programmers?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="5430.html" title="Next message in this discussion thread">Ullrich von Bassewitz: "Re: [cc65] cc65 apple II programmers?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="5430.html" title="Message sent in reply to this message">Ullrich von Bassewitz: "Re: [cc65] cc65 apple II programmers?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#5429" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#5429" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#5429" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2006-02-20 23:03:18 CET
</em></small></p>
</body>
</html>
