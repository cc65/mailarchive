<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] ca65 bug</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] ca65 bug" />
<meta name="Date" content="2006-08-13" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] ca65 bug</h1>
<!-- received="Sun Aug 13 23:13:35 2006" -->
<!-- isoreceived="20060813211335" -->
<!-- sent="Sun, 13 Aug 2006 23:13:23 +0200" -->
<!-- isosent="20060813211323" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] ca65 bug" -->
<!-- id="20060813211322.GA4040@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="200608130340.05565.groepaz&#64;gmx.net" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="5554.html" title="Groepaz: &quot;Re: [cc65] ca65 bug [scanned]&quot;">Next message</a> ]
[ <a href="5552.html" title="Markus Stehr: &quot;Re: [cc65] ca65 bug [scanned]&quot;">Previous message</a> ]
[ <a href="5550.html" title="Groepaz: &quot;[cc65] ca65 bug&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="5556.html" title="Groepaz: &quot;Re: [cc65] ca65 bug&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20ca65%20bug">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2006-08-13 23:13:23</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Sun, Aug 13, 2006 at 03:40:03AM +0200, Groepaz wrote:
&gt; is accepted by the assembler with no error, BUT the two calculated bytes are
&gt; wrong (both $00). the confusing part is that when i do exactly the same but
&gt; without using a macro, it works fine - and i see no reason why the macro
&gt; shouldnt work because of that...

Yes, that is definitely a bug. What happens is this: The scanner has two
sources of input. Either a stored list of tokens or a file. As long as there
is a list of tokens, it will use this list and not look at any files. Macros
are stored lists of tokens, so within this list, the .include directive is
correctly parsed, the file opened and pushed onto the input file stack, but
the scanner continues reading tokens from the macro. Once the macro token list
is exhausted, the file is read. So what is actually messed up is the order of
things, and this makes it look so confusing.

&gt; having this fixed would be really appriciated, would save me a lot of
&gt; typing :=)

Unfortunately, it is not a small thing, since I will have to merge both input
stacks (files and token lists) into one and this needs some redesigning.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Aug 13 23:13:35 2006</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="5554.html" title="Next message in the list">Groepaz: "Re: [cc65] ca65 bug [scanned]"</a></li>
<li><dfn>Previous message</dfn>: <a href="5552.html" title="Previous message in the list">Markus Stehr: "Re: [cc65] ca65 bug [scanned]"</a></li>
<li><dfn>In reply to</dfn>: <a href="5550.html" title="Message to which this message replies">Groepaz: "[cc65] ca65 bug"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="5556.html" title="Next message in this discussion thread">Groepaz: "Re: [cc65] ca65 bug"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="5556.html" title="Message sent in reply to this message">Groepaz: "Re: [cc65] ca65 bug"</a></li>
<li><dfn>Reply</dfn>:  <a href="5559.html" title="Message sent in reply to this message">42Bastian Schick: "Re: [cc65] ca65 bug"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#5553" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#5553" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#5553" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2006-08-13 23:13:39 CEST
</em></small></p>
</body>
</html>
