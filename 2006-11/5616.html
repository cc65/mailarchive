<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] CC65 and Stack Pointer</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] CC65 and Stack Pointer" />
<meta name="Date" content="2006-11-28" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] CC65 and Stack Pointer</h1>
<!-- received="Tue Nov 28 19:30:53 2006" -->
<!-- isoreceived="20061128183053" -->
<!-- sent="Tue, 28 Nov 2006 19:30:37 +0100" -->
<!-- isosent="20061128183037" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] CC65 and Stack Pointer" -->
<!-- id="20061128183037.GA5243@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="456C7D09.8050601&#64;asahi-net.or.jp" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="5617.html" title="Hiroji Kimura: &quot;Re: [cc65] CC65 and Stack Pointer&quot;">Next message</a> ]
[ <a href="5615.html" title="Hiroji Kimura: &quot;[cc65] CC65 and Stack Pointer&quot;">Previous message</a> ]
[ <a href="5615.html" title="Hiroji Kimura: &quot;[cc65] CC65 and Stack Pointer&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="5617.html" title="Hiroji Kimura: &quot;Re: [cc65] CC65 and Stack Pointer&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20CC65%20and%20Stack%20Pointer">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2006-11-28 19:30:37</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Good evening.

On Wed, Nov 29, 2006 at 03:16:41AM +0900, Hiroji Kimura wrote:
&gt; 1. Is it correct to say there are two stacks in the system? The true
&gt; hardware stack provided by the 6502 and the stack used by the code
&gt; generated by cc65.

Yes.

&gt; 2. Does our way of initializing the sp have any flaws?

That depends on your memory setup. Provided that you have a system with free
RAM at $FFF0, it should work. A better way is to setup stack addresses in the
linker config and just reference them in the startup code. This way, you don't
have to change the source code (start.s) if you want to move the stack. Just
change the linker config and relink.

&gt; 3. Upon entering the interrupt handler do we need to push registers and
&gt; pop them before RTI?

If you're calling C code, you will also have to save the zero page locations
used by the compiler. If your interrupt handler doesn't use C code, saving
just the registers is ok.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Nov 28 19:30:53 2006</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="5617.html" title="Next message in the list">Hiroji Kimura: "Re: [cc65] CC65 and Stack Pointer"</a></li>
<li><dfn>Previous message</dfn>: <a href="5615.html" title="Previous message in the list">Hiroji Kimura: "[cc65] CC65 and Stack Pointer"</a></li>
<li><dfn>In reply to</dfn>: <a href="5615.html" title="Message to which this message replies">Hiroji Kimura: "[cc65] CC65 and Stack Pointer"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="5617.html" title="Next message in this discussion thread">Hiroji Kimura: "Re: [cc65] CC65 and Stack Pointer"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="5617.html" title="Message sent in reply to this message">Hiroji Kimura: "Re: [cc65] CC65 and Stack Pointer"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#5616" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#5616" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#5616" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2006-11-28 19:30:56 CET
</em></small></p>
</body>
</html>
