<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] a question about the write</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] a question about the write function" />
<meta name="Date" content="2007-02-12" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] a question about the write function</h1>
<!-- received="Mon Feb 12 22:27:13 2007" -->
<!-- isoreceived="20070212212713" -->
<!-- sent="Mon, 12 Feb 2007 22:26:57 +0100" -->
<!-- isosent="20070212212657" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] a question about the write function" -->
<!-- id="20070212212657.GA19749@trixie.musoftware.de" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="1c282c9d0702121313v834fba7x568a0eccaef88e95&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="5638.html" title="Jac Ato: &quot;Re: [cc65] a question about the write function&quot;">Next message</a> ]
[ <a href="5636.html" title="Jac Ato: &quot;Re: [cc65] a question about the write function&quot;">Previous message</a> ]
[ <a href="5636.html" title="Jac Ato: &quot;Re: [cc65] a question about the write function&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="5638.html" title="Jac Ato: &quot;Re: [cc65] a question about the write function&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20a%20question%20about%20the%20write%20function">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2007-02-12 22:26:57</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Mon, Feb 12, 2007 at 04:13:22PM -0500, Jac Ato wrote:
&gt; Other programs work properly without printf or sprintf. Ive done peek
&gt; and poke &#64; $6000 and my emulator has RAM at that location&#46;<!--nospam-->

There seems to be a problem with intialized data, so the question is, if
programs that contain initialized data do work correctly.

&gt; What is the code that is suppose to be at $6000? is it just a jump?

Yes. See the source code snippet from my last mail. When main() is entered,
$6000 should contain &quot;jmp $0000&quot; which is $20/$00/$00.

&gt; Is it write() or outfunc() that I need to implement?

You need to implement write(). The type of outfunc is not important for you.

&gt; This writes data to 0x30 memory locations starting at $6000 with $01.
&gt; On entry in _main, the memory locations still contain 0x01.

This is wrong. $8AD5 (which is in ROM and copied to RAM) should contain $20 at
startup. Your problem seems to be related to generation and/or loading of the
output file, NOT by write() or any other function that is called at runtime.
Please lookup the address the linker assigns to the CallOutFunc label, then
check if the generated binary contains $20/$00/$00 at this location.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Feb 12 22:27:13 2007</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="5638.html" title="Next message in the list">Jac Ato: "Re: [cc65] a question about the write function"</a></li>
<li><dfn>Previous message</dfn>: <a href="5636.html" title="Previous message in the list">Jac Ato: "Re: [cc65] a question about the write function"</a></li>
<li><dfn>In reply to</dfn>: <a href="5636.html" title="Message to which this message replies">Jac Ato: "Re: [cc65] a question about the write function"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="5638.html" title="Next message in this discussion thread">Jac Ato: "Re: [cc65] a question about the write function"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="5638.html" title="Message sent in reply to this message">Jac Ato: "Re: [cc65] a question about the write function"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#5637" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#5637" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#5637" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2007-02-12 22:27:16 CET
</em></small></p>
</body>
</html>
