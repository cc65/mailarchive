<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Java VM built with cc65</title>
<meta name="Author" content="Oliver Schmidt (ol.sc1web.de)" />
<meta name="Subject" content="Re: [cc65] Java VM built with cc65" />
<meta name="Date" content="2007-08-09" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Java VM built with cc65</h1>
<!-- received="Thu Aug  9 00:38:52 2007" -->
<!-- isoreceived="20070808223852" -->
<!-- sent="Thu, 9 Aug 2007 00:38:37 +0200" -->
<!-- isosent="20070808223837" -->
<!-- name="Oliver Schmidt" -->
<!-- email="ol.sc1web.de" -->
<!-- subject="Re: [cc65] Java VM built with cc65" -->
<!-- id="f97798c20708081538h4ddc46eel4d16cd3caa0b12db@mail.gmail.com" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="635456.47633.qm&#64;web56208.mail.re3.yahoo.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="5826.html" title="Emanuele Fornara: &quot;[cc65] Redistributing custom targets&quot;">Next message</a> ]
[ <a href="5824.html" title="Dan: &quot;Re: [cc65] Java VM built with cc65&quot;">Previous message</a> ]
[ <a href="5824.html" title="Dan: &quot;Re: [cc65] Java VM built with cc65&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="5830.html" title="Dan: &quot;Re: [cc65] Java VM built with cc65&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Oliver Schmidt &lt;<a href="mailto:ol.sc1web.de?Subject=Re:%20[cc65]%20Java%20VM%20built%20with%20cc65">ol.sc1web.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2007-08-09 00:38:37</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi Dan,

First of all thanks for your reaction - and obviously taking at least
a peek into the NanoVM source code.

&gt; It looks like a big gain would result from converting
&gt; the small functions called by vm_run to macros. Also,
&gt; sp should be assigned to zero page (although you need
&gt; my patch to get the benefit).

Maybe I don't interpret the situation correctly but as far as I can
see Uz is - lets say somewhat reluctant - to accept your patches.
Nevertheless I presume that you'd like to see at least parts of them
in the main code line.

Probably Uz would be impressed by noticable sppedups of the NanoVM
with your changes. And if I could reproduce the performance
improvements I'd urge Uz as well to include the changes. Maybe it's
just a real world show case like the NanoVM missing ?!?

Regarding the function vs. macros issue: I seem to remember that your
improvements had a lot to do with function calls (esp.. leaf
functions) so would it make sense to check out what the changes can do
with the NanoVM code AS IS ?

My general issue is that I never compiled cc65 myself so far and don't
think it's that easy to do so for Windows. And additionally I have no
clue how to handlie those &quot;magic&quot; patch/diff things.

So after all it seems more reasonable to me that you take the NanoVM
source and do some tests - especially as you know exactly what type of
patterns / changes in th generated code you're looking for.

In case you have issues with building/using the NanoVM I'd be happy to
help if I can...

Does this approach make any sense to you?

Best, Oliver
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Aug  9 00:38:52 2007</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="5826.html" title="Next message in the list">Emanuele Fornara: "[cc65] Redistributing custom targets"</a></li>
<li><dfn>Previous message</dfn>: <a href="5824.html" title="Previous message in the list">Dan: "Re: [cc65] Java VM built with cc65"</a></li>
<li><dfn>In reply to</dfn>: <a href="5824.html" title="Message to which this message replies">Dan: "Re: [cc65] Java VM built with cc65"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="5830.html" title="Next message in this discussion thread">Dan: "Re: [cc65] Java VM built with cc65"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="5830.html" title="Message sent in reply to this message">Dan: "Re: [cc65] Java VM built with cc65"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#5825" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#5825" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#5825" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2007-08-09 00:38:55 CEST
</em></small></p>
</body>
</html>
