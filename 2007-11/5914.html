<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Maximum application size</title>
<meta name="Author" content="Groepaz (groepaz1gmx.net)" />
<meta name="Subject" content="Re: [cc65] Maximum application size" />
<meta name="Date" content="2007-11-19" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Maximum application size</h1>
<!-- received="Mon Nov 19 22:55:22 2007" -->
<!-- isoreceived="20071119215522" -->
<!-- sent="Mon, 19 Nov 2007 22:56:26 +0100" -->
<!-- isosent="20071119215626" -->
<!-- name="Groepaz" -->
<!-- email="groepaz1gmx.net" -->
<!-- subject="Re: [cc65] Maximum application size" -->
<!-- id="200711192256.26471.groepaz@gmx.net" -->
<!-- charset="utf-8" -->
<!-- inreplyto="20071119202216.GB2450&#64;trixie.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="5915.html" title="Andreas Koch: &quot;Re: [cc65] Maximum application size&quot;">Next message</a> ]
[ <a href="5913.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Maximum application size&quot;">Previous message</a> ]
[ <a href="5913.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Maximum application size&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Groepaz &lt;<a href="mailto:groepaz1gmx.net?Subject=Re:%20[cc65]%20Maximum%20application%20size">groepaz1gmx.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2007-11-19 22:56:26</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Montag 19 November 2007, Ullrich von Bassewitz wrote:

&gt; &gt; 1) load the app to 0400 instead of 0800 and still start it normally?
&gt;
&gt; No. The compiled program has a BASIC header that does a SYS into the
&gt; machine code. Loading it to $400 will prevent this. You can, however,
&gt; carefully craft the executable image so that the BASIC header is still in
&gt; place at $800. A probably better way is to place part of the BSS at $400,
&gt; the casette buffer, etc.

a more pragmatic approach: make a custom startup code that has no basic 
header. make a custom linker script that uses the $0400 area for code. then 
after compiling pack your program (with either pucrunch or exomizer for 
example) so you can run it easily. that should let you use continous memory 
from 03something up to $cfff ($0200- with some fiddling, and if you dont use 
kernal)

&gt; &gt; 2) could i switch i/o-area and/or Kernal to RAM and use these areas for
&gt; &gt; code? (how much of the kernal is needed - i need to use file-i/o?)
&gt;
&gt; The runtime and C library assumes that the kernal is in place as it will do
&gt; direct calls to the kernal ROM. You will have to select the functions
&gt; you're calling carefully, if you're going to bank out the kernal.

i would suggest to use that area for graphics. a charset can be placed at 
$d000 for example, and then the screen at $e000. check how the fire demo does 
this (it does that, doesnt it? =P)

&gt; &gt; 4) i have a 2k const array for the charset - what is the best method for
&gt; &gt;  not wasting that memory, after the charset has been copied to its
&gt; &gt; final destination. Can i locate one of my global arrays of structs at the
&gt; &gt; same location?
&gt;
&gt; Yes. You can also place uninitialized data in the cassette buffer or other
&gt; places.

the best would be to directly link it to its final destination - imho. no need 
to copy it around at all.

-- 

<a href="http://www.hitmen-console.org">http://www.hitmen-console.org</a>
<a href="http://www.gc-linux.org/docs/yagcd.html">http://www.gc-linux.org/docs/yagcd.html</a>
<a href="http://www.pokefinder.org">http://www.pokefinder.org</a>
<a href="http://ftp.pokefinder.org">http://ftp.pokefinder.org</a>

Egal ob sich Elefanten lieben oder bekaempfen, Gras wird immer zertrampelt. 
&lt;Indisches Sprichwort&gt;

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Nov 19 22:55:22 2007</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="5915.html" title="Next message in the list">Andreas Koch: "Re: [cc65] Maximum application size"</a></li>
<li><dfn>Previous message</dfn>: <a href="5913.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] Maximum application size"</a></li>
<li><dfn>In reply to</dfn>: <a href="5913.html" title="Message to which this message replies">Ullrich von Bassewitz: "Re: [cc65] Maximum application size"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#5914" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#5914" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#5914" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2007-11-19 22:55:27 CET
</em></small></p>
</body>
</html>
