<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] optimizer bug !?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] optimizer bug !?" />
<meta name="Date" content="2008-02-27" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] optimizer bug !?</h1>
<!-- received="Wed Feb 27 21:41:15 2008" -->
<!-- isoreceived="20080227204115" -->
<!-- sent="Wed, 27 Feb 2008 21:41:00 +0100" -->
<!-- isosent="20080227204100" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] optimizer bug !?" -->
<!-- id="20080227204100.GA28061@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="005c01c87920$1eead540$3e01a8c0&#64;kajikami" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="5988.html" title="Markus Stehr: &quot;[cc65] C64, Interrupt and in need of an example&quot;">Next message</a> ]
[ <a href="5986.html" title="Yuji Kajikami: &quot;[cc65] optimizer bug !?&quot;">Previous message</a> ]
[ <a href="5986.html" title="Yuji Kajikami: &quot;[cc65] optimizer bug !?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20optimizer%20bug%20!?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2008-02-27 21:41:00</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Good evening!

On Wed, Feb 27, 2008 at 06:07:04PM +0900, Yuji Kajikami wrote:
&gt; I will report because it discovered the phenomenon that seems to be
&gt; the bug of the optimizer.

It is - thanks for the report!

The compiler replaces loads of CPU registers from zeropage pseudo registers by
an immediate load of the CPU register, provided that it is able to track the
contents of the zeropage location. In case of the X and Y registers, the load
was actually replaced by an immediate load of A, which in your example was
removed later, because it was redundant.

There's a patch available from the bugs list: <a href="http://www.cc65.org/bugs.php">http://www.cc65.org/bugs.php</a>, or
just wait until the new snapshot is built this night.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Wed Feb 27 21:41:15 2008</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="5988.html" title="Next message in the list">Markus Stehr: "[cc65] C64, Interrupt and in need of an example"</a></li>
<li><dfn>Previous message</dfn>: <a href="5986.html" title="Previous message in the list">Yuji Kajikami: "[cc65] optimizer bug !?"</a></li>
<li><dfn>In reply to</dfn>: <a href="5986.html" title="Message to which this message replies">Yuji Kajikami: "[cc65] optimizer bug !?"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#5987" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#5987" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#5987" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2008-02-27 21:41:19 CET
</em></small></p>
</body>
</html>
