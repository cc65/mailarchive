<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Re: Questions for CBM guys</title>
<meta name="Author" content="Spiro Trikaliotis (ml-cc651trikaliotis.net)" />
<meta name="Subject" content="Re: [cc65] Re: Questions for CBM guys" />
<meta name="Date" content="2008-03-04" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Re: Questions for CBM guys</h1>
<!-- received="Tue Mar  4 07:13:48 2008" -->
<!-- isoreceived="20080304061348" -->
<!-- sent="Tue, 4 Mar 2008 07:13:26 +0100" -->
<!-- isosent="20080304061326" -->
<!-- name="Spiro Trikaliotis" -->
<!-- email="ml-cc651trikaliotis.net" -->
<!-- subject="Re: [cc65] Re: Questions for CBM guys" -->
<!-- id="20080304061325.GA17164@trikaliotis.net" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="080304015606&#64;arcade.demon.co.uk" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="6035.html" title="silverdr1inet.com.pl: &quot;Re: [cc65] Re: Questions for CBM guys&quot;">Next message</a> ]
[ <a href="6033.html" title="Jonathan Graham Harston: &quot;[cc65] Re: Questions for CBM guys&quot;">Previous message</a> ]
[ <a href="6033.html" title="Jonathan Graham Harston: &quot;[cc65] Re: Questions for CBM guys&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="6035.html" title="silverdr1inet.com.pl: &quot;Re: [cc65] Re: Questions for CBM guys&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Spiro Trikaliotis &lt;<a href="mailto:ml-cc651trikaliotis.net?Subject=Re:%20[cc65]%20Re:%20Questions%20for%20CBM%20guys">ml-cc651trikaliotis.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2008-03-04 07:13:26</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hello Jonathan,

* On Tue, Mar 04, 2008 at 01:25:09AM +0000 Jonathan Graham Harston wrote:
&gt; &quot;Oliver Schmidt&quot; wrote:
&gt; &gt; 1. What char code does place the cursor at the beginning of the next
&gt; &gt; line? This seems to be $0D.
&gt;  
&gt; Most screen drivers do not have /a/ code to move to the beginning
&gt; of the next line. 
&gt;  
&gt; 0D CR (Carriage Return) moves to the biginning of the current line
&gt; 0A LF (Line Feed) moves the cursor to the current column of the
&gt; next line.

While this is generally true, this is not true for the C64 nor fór the
C128.

On the CBM machines, CR alone performs BOTH steps.

Notice that this might not be true for all kinds of peripheral devices.
For example, printers might need both CR and LF to advance to the next
line. For these, BASIC has to option to automatically insert a LF after
a PRINT returns a CR. This happens when the file number is &gt;= 128 (bit 7
is set). That is, OPEN 128,4:PRINT#128,A$ would insert a LF after the
contents of A$.

Note: If A$ contains a CR (CHR$(13)) itself, the LF will not be added
after this CR; only after the last one!

To output a CR or a CR/LF on the C64, depending on the logical file
number having bit 7 set or not, you have to JSR $AAD7 on the C64. Note
again: This is functionality of BASIC, not of the KERNAL itself. You
also have to set $13 to the logical file number (to be more precise: bit
7 of $13 must be set according to what you want).

Of course, it is trivial to implement this functionality on your own.

&gt; To move the beginning of the next line you need to send both
&gt; codes, LF,CR or CR,LF.
&gt;  
&gt; &gt; 2. What registers are modified? As far as I have seen all registers
&gt; &gt; are preserved.
&gt;  
&gt; Most systems preserve registers that do not return anything.

No. Most systems preserve the registers that are explicitly documented
to be preserved.

Regards,
   Spiro.

-- 
Spiro R. Trikaliotis                              <a href="http://opencbm.sf.net/">http://opencbm.sf.net/</a>
<a href="http://www.trikaliotis.net/">http://www.trikaliotis.net/</a>                     <a href="http://www.viceteam.org/">http://www.viceteam.org/</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Mar  4 07:13:48 2008</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="6035.html" title="Next message in the list">silverdr1inet.com.pl: "Re: [cc65] Re: Questions for CBM guys"</a></li>
<li><dfn>Previous message</dfn>: <a href="6033.html" title="Previous message in the list">Jonathan Graham Harston: "[cc65] Re: Questions for CBM guys"</a></li>
<li><dfn>In reply to</dfn>: <a href="6033.html" title="Message to which this message replies">Jonathan Graham Harston: "[cc65] Re: Questions for CBM guys"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="6035.html" title="Next message in this discussion thread">silverdr1inet.com.pl: "Re: [cc65] Re: Questions for CBM guys"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#6034" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#6034" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#6034" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2008-03-04 07:13:52 CET
</em></small></p>
</body>
</html>
