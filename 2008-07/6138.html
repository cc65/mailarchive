<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] A bug?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] A bug?" />
<meta name="Date" content="2008-07-21" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] A bug?</h1>
<!-- received="Mon Jul 21 20:41:02 2008" -->
<!-- isoreceived="20080721184102" -->
<!-- sent="Mon, 21 Jul 2008 20:40:51 +0200" -->
<!-- isosent="20080721184051" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] A bug?" -->
<!-- id="20080721184050.GA15489@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="59739D60-0564-47CC-9371-523F0CF900CD&#64;inet.com.pl" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="6139.html" title="silverdr1inet.com.pl: &quot;Re: [cc65] A bug?&quot;">Next message</a> ]
[ <a href="6137.html" title="silverdr1inet.com.pl: &quot;Re: [cc65] A bug?&quot;">Previous message</a> ]
[ <a href="6137.html" title="silverdr1inet.com.pl: &quot;Re: [cc65] A bug?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="6139.html" title="silverdr1inet.com.pl: &quot;Re: [cc65] A bug?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20A%20bug?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2008-07-21 20:40:51</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Mon, Jul 21, 2008 at 06:37:48PM +0200, silverdr&#64;inet&#46;<!--nospam-->com.pl wrote:
&gt; Returning to this old thread... I found myself again in need of
&gt; &quot;proper&quot; \r behaviour and started to look if I write my own function/
&gt; macro/whatever or rather patch the lib, and.. I found the code for
&gt; handling the \r sequence &quot;properly&quot; in many places. For example in
&gt; cputc.s. I checked and indeed the cputc() does handle \n and \r
&gt; differently and &quot;properly&quot; - meaning - \n generates newline while \r
&gt; only returns the cursor to column zero - the way I would expect it to.

What are you talking about, conio or printf/write? Handling \r and \n
differently has always been the way conio does it. If one of the platforms
does not return to column zero for \r and advance the line without changing
the column for \n, it is broken and should be fixed.

printf/write is another case. It is implemented through low level POSIX
functions read() and write(), which are also used for file i/o. printf ist
just a shortcut for fprintf(stdout, ...) which actually does file i/o. For
these routines \r and \n are platform dependent. According to the C standard,
\n translates to whatever is used as a &quot;newline&quot; on the specific platform.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Jul 21 20:41:02 2008</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="6139.html" title="Next message in the list">silverdr1inet.com.pl: "Re: [cc65] A bug?"</a></li>
<li><dfn>Previous message</dfn>: <a href="6137.html" title="Previous message in the list">silverdr1inet.com.pl: "Re: [cc65] A bug?"</a></li>
<li><dfn>In reply to</dfn>: <a href="6137.html" title="Message to which this message replies">silverdr1inet.com.pl: "Re: [cc65] A bug?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="6139.html" title="Next message in this discussion thread">silverdr1inet.com.pl: "Re: [cc65] A bug?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="6139.html" title="Message sent in reply to this message">silverdr1inet.com.pl: "Re: [cc65] A bug?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#6138" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#6138" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#6138" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2008-07-21 20:41:04 CEST
</em></small></p>
</body>
</html>
