<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Optimizer removing embedde</title>
<meta name="Author" content="Oliver Schmidt (ol.sc1web.de)" />
<meta name="Subject" content="Re: [cc65] Optimizer removing embedded asm" />
<meta name="Date" content="2009-03-04" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Optimizer removing embedded asm</h1>
<!-- received="Wed Mar  4 18:58:58 2009" -->
<!-- isoreceived="20090304175858" -->
<!-- sent="Wed, 4 Mar 2009 18:58:53 +0100" -->
<!-- isosent="20090304175853" -->
<!-- name="Oliver Schmidt" -->
<!-- email="ol.sc1web.de" -->
<!-- subject="Re: [cc65] Optimizer removing embedded asm" -->
<!-- id="f97798c20903040958n13a30fe3y9318c7e1dc945e4b@mail.gmail.com" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="7b4e7t$g90a3&#64;dmzms99902.na.baesystems.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="6537.html" title="Groepaz: &quot;[cc65] calling conventions&quot;">Next message</a> ]
[ <a href="6535.html" title="Spiro Trikaliotis: &quot;Re: [cc65] indirect load question...&quot;">Previous message</a> ]
[ <a href="6533.html" title="Winslow, Dan D (US SSA): &quot;[cc65] Optimizer removing embedded asm&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Oliver Schmidt &lt;<a href="mailto:ol.sc1web.de?Subject=Re:%20[cc65]%20Optimizer%20removing%20embedded%20asm">ol.sc1web.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-03-04 18:58:53</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi Dan,

&gt; The -O flag seems to be optimizing away certain asm(&quot;&quot;)-style lines

<a href="http://www.cc65.org/doc/cc65-9.html">http://www.cc65.org/doc/cc65-9.html</a> says:
Note: Inline assembler statements are subject to all optimizations
done by the compiler. There is currently no way to protect an inline
assembler statement from being moved or removed completely by the
optimizer. If in doubt, check the generated assembler output, or
disable optimizations.

Optimizations can be disabled via pragma - however only on function
scope, here's an example:
<a href="http://contiki.cvs.sourceforge.net/viewvc/*checkout*/contiki/contiki-2.x/cpu/6502/net/uip_arch.c">http://contiki.cvs.sourceforge.net/viewvc/*checkout*/contiki/contiki-2.x/cpu/6502/net/uip_arch.c</a>

Best, Oliver
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Wed Mar  4 18:58:58 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="6537.html" title="Next message in the list">Groepaz: "[cc65] calling conventions"</a></li>
<li><dfn>Previous message</dfn>: <a href="6535.html" title="Previous message in the list">Spiro Trikaliotis: "Re: [cc65] indirect load question..."</a></li>
<li><dfn>In reply to</dfn>: <a href="6533.html" title="Message to which this message replies">Winslow, Dan D (US SSA): "[cc65] Optimizer removing embedded asm"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#6536" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#6536" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#6536" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-03-04 18:59:00 CET
</em></small></p>
</body>
</html>
