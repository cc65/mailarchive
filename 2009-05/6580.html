<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] HEAP from here to there</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] HEAP from here to there" />
<meta name="Date" content="2009-05-27" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] HEAP from here to there</h1>
<!-- received="Wed May 27 14:35:57 2009" -->
<!-- isoreceived="20090527123557" -->
<!-- sent="Wed, 27 May 2009 14:34:16 +0200" -->
<!-- isosent="20090527123416" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] HEAP from here to there" -->
<!-- id="20090527123416.GB13327@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="20090526232727.537af311&#64;akoya" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="6581.html" title="Thomas Giesel: &quot;Re: Re: [cc65] HEAP from here to there&quot;">Next message</a> ]
[ <a href="6579.html" title="Thomas Giesel: &quot;[cc65] HEAP from here to there&quot;">Previous message</a> ]
[ <a href="6579.html" title="Thomas Giesel: &quot;[cc65] HEAP from here to there&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="6581.html" title="Thomas Giesel: &quot;Re: Re: [cc65] HEAP from here to there&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20HEAP%20from%20here%20to%20there">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-05-27 14:34:16</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Tue, May 26, 2009 at 11:27:27PM +0200, Thomas Giesel wrote:
&gt; A look into _heap.s makes me think that the heap if from the end of BSS
&gt; to the beginning of the stack.

That is true.

&gt; Shouldn't the segment HEAP used for
&gt; the start of the heap?

Maybe, but in most cases this solution is less flexible. The problem is that
there are two growing areas, heap and stack. If you make them distinct, each
area needs to have some safety overhead. In the choosen scenario (which is
rather common on most platforms), both can grow and a safety area is shared by
both, which reduces overall memory needs.

&gt; Is &quot;HEAP: ... define=yes&quot; and replacing &quot;__BSS_START__ + __BSS_SIZE___&quot;
&gt; with &quot;__HEAP_START__&quot; in _heap.s the right fix?

Either this, or include _heap.h and set the variables at the beginning of
main().

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Wed May 27 14:35:57 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="6581.html" title="Next message in the list">Thomas Giesel: "Re: Re: [cc65] HEAP from here to there"</a></li>
<li><dfn>Previous message</dfn>: <a href="6579.html" title="Previous message in the list">Thomas Giesel: "[cc65] HEAP from here to there"</a></li>
<li><dfn>In reply to</dfn>: <a href="6579.html" title="Message to which this message replies">Thomas Giesel: "[cc65] HEAP from here to there"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="6581.html" title="Next message in this discussion thread">Thomas Giesel: "Re: Re: [cc65] HEAP from here to there"</a></li>
<li><a name="replies" id="replies"></a><dfn>Maybe reply</dfn>:  <a href="6581.html" title="Message sent in reply to this message">Thomas Giesel: "Re: Re: [cc65] HEAP from here to there"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#6580" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#6580" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#6580" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-05-27 14:35:59 CEST
</em></small></p>
</body>
</html>
