<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Startup magic (was: Segmen</title>
<meta name="Author" content="Christian Groessler (chris1groessler.org)" />
<meta name="Subject" content="Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while using ld65 directly)" />
<meta name="Date" content="2009-07-31" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while using ld65 directly)</h1>
<!-- received="Fri Jul 31 23:50:20 2009" -->
<!-- isoreceived="20090731215020" -->
<!-- sent="Fri, 31 Jul 2009 23:55:16 +0200 (CEST)" -->
<!-- isosent="20090731215516" -->
<!-- name="Christian Groessler" -->
<!-- email="chris1groessler.org" -->
<!-- subject="Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while using ld65 directly)" -->
<!-- id="alpine.BSO.1.10.0907312334440.32464@vigilia.groessler.org" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="20090731140139.GA22192&#64;trixie.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="../2009-08/6635.html" title="Oliver Schmidt: &quot;Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while  using ld65 directly)&quot;">Next message</a> ]
[ <a href="6633.html" title="Ullrich von Bassewitz: &quot;[cc65] Startup magic (was: Segment EXEHDR does not exist - while using ld65 directly)&quot;">Previous message</a> ]
[ <a href="6633.html" title="Ullrich von Bassewitz: &quot;[cc65] Startup magic (was: Segment EXEHDR does not exist - while using ld65 directly)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="../2009-08/6635.html" title="Oliver Schmidt: &quot;Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while  using ld65 directly)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Christian Groessler &lt;<a href="mailto:chris1groessler.org?Subject=Re:%20[cc65]%20Startup%20magic%20(was:%20Segment%20EXEHDR%20does%20not%20exist%20-%20while%20using%20ld65%20directly)">chris1groessler.org</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-07-31 23:55:16</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi,

On Fri, 31 Jul 2009, Ullrich von Bassewitz wrote:

&gt; I've checked all platforms and
&gt; the only one that I think may have problems is the Atari startup. Christian,
&gt; can you please check that? There's an executable header with an address that
&gt; points to the start of the LOWCODE segment. If this address is the start
&gt; address, it will have to be fixed, since with more than one module defining
&gt; code in LOWCODE, the startup code may not be at the beginning of LOWCODE. I
&gt; would suggest to implement a STARTUP segment as already done for most other
&gt; platforms.

Hmm, although I'm monitoring this ml, I've somehow missed the 
introduction of the STARTUP segment. Looking at svn history it seems the 
STARTUP segment was already introduced in 2002 (together with the LOWCODE
segment). Boah! Time flies.

Looking at Atari's crt0.s I think the code which is currently in the
LOWCODE segment could simply be put into the STARTUP segment. I'll do the
change within the next days.

Could somebody in the meanwhile refresh my memory and explain the purpose
of the STARTUP segment (not the new one introduced with the recent changes
to slurp in the startup code at the very beginning of the exe file)?

regards,
chris
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Jul 31 23:50:20 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="../2009-08/6635.html" title="Next message in the list">Oliver Schmidt: "Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while  using ld65 directly)"</a></li>
<li><dfn>Previous message</dfn>: <a href="6633.html" title="Previous message in the list">Ullrich von Bassewitz: "[cc65] Startup magic (was: Segment EXEHDR does not exist - while using ld65 directly)"</a></li>
<li><dfn>In reply to</dfn>: <a href="6633.html" title="Message to which this message replies">Ullrich von Bassewitz: "[cc65] Startup magic (was: Segment EXEHDR does not exist - while using ld65 directly)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="../2009-08/6635.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while  using ld65 directly)"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="../2009-08/6635.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while  using ld65 directly)"</a></li>
<li><dfn>Reply</dfn>:  <a href="../2009-08/6652.html" title="Message sent in reply to this message">Christian Groessler: "Re: [cc65] Startup magic (was: Segment EXEHDR does not exist - while using ld65 directly)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#6634" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#6634" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#6634" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-07-31 23:50:22 CEST
</em></small></p>
</body>
</html>
