<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Memory allocation question</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Memory allocation question" />
<meta name="Date" content="2009-08-17" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Memory allocation question</h1>
<!-- received="Mon Aug 17 12:19:23 2009" -->
<!-- isoreceived="20090817101923" -->
<!-- sent="Mon, 17 Aug 2009 12:18:05 +0200" -->
<!-- isosent="20090817101805" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Memory allocation question" -->
<!-- id="20090817101805.GB17591@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="aec6e65a0908162248t493daaefu8e31a715b204408b&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="6684.html" title="Theresa Rose: &quot;[cc65] Theresa Rose added you as a friend on MyLife&quot;">Next message</a> ]
[ <a href="6682.html" title="Groepaz: &quot;Re: [cc65] Memory allocation question&quot;">Previous message</a> ]
[ <a href="6681.html" title="Scott Hutter: &quot;[cc65] Memory allocation question&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Memory%20allocation%20question">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-08-17 12:18:05</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Mon, Aug 17, 2009 at 12:48:30AM -0500, Scott Hutter wrote:
&gt; I think I already know the answer to this one, but will ask to be sure.
&gt; Upon a program termination, all malloc()'ed memory is free()'ed back to the
&gt; system?  Im writing for the Commodore 128, and my assumption of course, is
&gt; that when a program terminates, the system (memory pointers and such) are
&gt; all back to a normal power-on state.  To that regard, is there anything that
&gt; would not be back in &quot;power-on&quot; state upon program termination due soley to
&gt; the compiler? (ie modified zero page values, etc,)

If the program terminates correctly (by leaving main or calling exit), open
files are closed, zeropage as used by the compiler is restored and any changed
kernal vectors are reset. Since the C128 kernal does not really have memory
management and the heap is just part of the program, malloc'ed memory is
automatically &quot;free'd&quot; on termination.

Graphics mode is the only thing that isn't restored, otherwise program output
would be illegible once the program ends.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Aug 17 12:19:23 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="6684.html" title="Next message in the list">Theresa Rose: "[cc65] Theresa Rose added you as a friend on MyLife"</a></li>
<li><dfn>Previous message</dfn>: <a href="6682.html" title="Previous message in the list">Groepaz: "Re: [cc65] Memory allocation question"</a></li>
<li><dfn>In reply to</dfn>: <a href="6681.html" title="Message to which this message replies">Scott Hutter: "[cc65] Memory allocation question"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#6683" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#6683" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#6683" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-08-17 12:19:25 CEST
</em></small></p>
</body>
</html>
