<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Chicken and Egg Problem (?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Chicken and Egg Problem (?)" />
<meta name="Date" content="2009-08-27" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Chicken and Egg Problem (?)</h1>
<!-- received="Thu Aug 27 17:40:52 2009" -->
<!-- isoreceived="20090827154052" -->
<!-- sent="Thu, 27 Aug 2009 17:38:39 +0200" -->
<!-- isosent="20090827153839" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Chicken and Egg Problem (?)" -->
<!-- id="20090827153839.GA1866@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="f97798c20908241149t638a49c3oac2e863f2c08c414&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="6754.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] cl 4029 breaks my code&quot;">Next message</a> ]
[ <a href="6752.html" title="Oliver Schmidt: &quot;[cc65] Snapshot Testing&quot;">Previous message</a> ]
[ <a href="6727.html" title="Oliver Schmidt: &quot;Re: [cc65] Chicken and Egg Problem (?)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="6756.html" title="Oliver Schmidt: &quot;Re: [cc65] Chicken and Egg Problem (?)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Chicken%20and%20Egg%20Problem%20(?)">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-08-27 17:38:39</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Mon, Aug 24, 2009 at 08:49:11PM +0200, Oliver Schmidt wrote:
&gt; &gt; 2) No, because the built-in configure-code _is_ &quot;hard-wiring&quot;. Â We do not
&gt; &gt; want the &quot;-t&quot; option to force people to stuff an artificial &quot;_main:&quot; label
&gt; &gt; into their purely assembly-coded programs.
&gt;
&gt; Do you really see purely assembly-coded programs using built-in Linker
&gt; configs (with their multiple obligatory segments etc.) ?

I've checked the possibility of adding such a linker config option and - for
now - it's too much work. The linker config is read *after* the command line
is parsed and all object files and libraries are read. At that point, all
modules that should be linked are already determined. Adding an additional
import in this stage is not possible. Changing the order (reading the config
before all other stuff) is not easily possible, since it relies on information
from the modules.

So I've added a linker command line option &quot;--force-import&quot; instead. As a nice
side effect, this does also spare us the discussion about having a forced
import of &quot;_main&quot; in the builtin linker or not. For applications that have
main() in a library, just add &quot;--force-import _main&quot; (or &quot;--force-import
__STARTUP__&quot;) to the linker or cl65 command line, and things should be ok.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Aug 27 17:40:52 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="6754.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] cl 4029 breaks my code"</a></li>
<li><dfn>Previous message</dfn>: <a href="6752.html" title="Previous message in the list">Oliver Schmidt: "[cc65] Snapshot Testing"</a></li>
<li><dfn>In reply to</dfn>: <a href="6727.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] Chicken and Egg Problem (?)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="6756.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Chicken and Egg Problem (?)"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="6756.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Chicken and Egg Problem (?)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#6753" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#6753" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#6753" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-08-27 17:40:55 CEST
</em></small></p>
</body>
</html>
