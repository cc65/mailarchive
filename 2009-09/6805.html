<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Own parameter call stack?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Own parameter call stack?" />
<meta name="Date" content="2009-09-03" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Own parameter call stack?</h1>
<!-- received="Thu Sep  3 11:19:08 2009" -->
<!-- isoreceived="20090903091908" -->
<!-- sent="Thu, 3 Sep 2009 11:17:52 +0200" -->
<!-- isosent="20090903091752" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Own parameter call stack?" -->
<!-- id="20090903091752.GA20924@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="4A9F4C7A.7070103&#64;sipo.fi" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="6806.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] testsuite results ...&quot;">Next message</a> ]
[ <a href="6804.html" title="Johan Kotlinski: &quot;Re: [cc65] testsuite results ...&quot;">Previous message</a> ]
[ <a href="6801.html" title="Karri Kaksonen: &quot;Re: [cc65] Own parameter call stack?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="6802.html" title="Oliver Schmidt: &quot;Re: [cc65] Own parameter call stack?&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Own%20parameter%20call%20stack?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-09-03 11:17:52</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Thu, Sep 03, 2009 at 07:56:26AM +0300, Karri Kaksonen wrote:
&gt; I also compiled the solitaire with the compiler from the subversion
&gt; trunk. The binary was 61 bytes bigger than what the previous compiler
&gt; produced. 

Some runtime functions have been changed. The multiplication and division
routines are now a lot faster in many cases, unfortunately at the expense of
code size. And, the compiler will inline more code. While this can be roughly
controlled with --codesize, in some places choosing a bigger --codesize
argument will actually make the code smaller! This is because inlining the
code will make it visible to the optimizer, which is then able to remove part
of it or remove register loads in other places, because it can now see that
they're no longer necessary.

So size changes depend a lot on your code. Especially in such a big
application, I would say 61 bytes are almost nothing:-)

&gt; I left all the intermediate *.s files from the compilation and
&gt; removed all the files that were equal. If you are interested download
&gt; <a href="http://sipo.fi/diffs.tar.gz">http://sipo.fi/diffs.tar.gz</a> There are two trees &quot;new&quot; for the current
&gt; svn compiler &quot;old&quot; for the 2.11.something compiler.

The generated code with -O is so different, that it's probably not worth the
trouble to compare the two as long as there is no problem. If you have a place
where you think that the current compiler generates extremely large or
ineffective code, please let me know.

&gt; But the code seems to work with both compilers.

Thanks!

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Sep  3 11:19:08 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="6806.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] testsuite results ..."</a></li>
<li><dfn>Previous message</dfn>: <a href="6804.html" title="Previous message in the list">Johan Kotlinski: "Re: [cc65] testsuite results ..."</a></li>
<li><dfn>In reply to</dfn>: <a href="6801.html" title="Message to which this message replies">Karri Kaksonen: "Re: [cc65] Own parameter call stack?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="6802.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Own parameter call stack?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#6805" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#6805" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#6805" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-09-03 11:19:10 CEST
</em></small></p>
</body>
</html>
