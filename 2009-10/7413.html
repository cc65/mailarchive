<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] TGI pixel aspect ratio</title>
<meta name="Author" content="Oliver Schmidt (ol.sc1web.de)" />
<meta name="Subject" content="Re: [cc65] TGI pixel aspect ratio" />
<meta name="Date" content="2009-10-29" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] TGI pixel aspect ratio</h1>
<!-- received="Thu Oct 29 15:10:19 2009" -->
<!-- isoreceived="20091029141019" -->
<!-- sent="Thu, 29 Oct 2009 15:10:12 +0100" -->
<!-- isosent="20091029141012" -->
<!-- name="Oliver Schmidt" -->
<!-- email="ol.sc1web.de" -->
<!-- subject="Re: [cc65] TGI pixel aspect ratio" -->
<!-- id="f97798c20910290710o5cf38fdl23397fdd75506a5c@mail.gmail.com" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="200910291223.09284.groepaz&#64;gmx.net" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="7414.html" title="Groepaz: &quot;Re: [cc65] TGI pixel aspect ratio&quot;">Next message</a> ]
[ <a href="7412.html" title="Groepaz: &quot;Re: [cc65] TGI pixel aspect ratio&quot;">Previous message</a> ]
[ <a href="7412.html" title="Groepaz: &quot;Re: [cc65] TGI pixel aspect ratio&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="7414.html" title="Groepaz: &quot;Re: [cc65] TGI pixel aspect ratio&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Oliver Schmidt &lt;<a href="mailto:ol.sc1web.de?Subject=Re:%20[cc65]%20TGI%20pixel%20aspect%20ratio">ol.sc1web.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-10-29 15:10:12</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi Groepaz,

&gt;&gt; See what I mean ? ;-))
&gt;
&gt; yes, see my other post. what you mean is NOT pixel aspect ratio :) pixel
&gt; aspect ratio refers to a SINGLE pixel, it is completely unrelated to the
&gt; resolution, size, or aspect ratio of the display.

If you check my postings carefully you'll notice that I never said
that 'pixel aspect ratio' refers to the resolution, size or aspect
ratio of the display!

However I disagree with your statement that the 'pixel aspect ratio'
is unrelated (not even talking about 'completely unrelated') to the
resolution, size or aspect ratio of the display.

&gt; both the c64 (hires mode)
&gt; and the VDC have a pixel aspect ratio of ~ 1. (not quite obvious for the VDC,
&gt; indeed - but &quot;pixel&quot; doesnt include the black space between actual pixels).

Maybe the VDC is a special case, I surely don't have enough knowledge
to argue about that. But anyway I don't see where this differentiation
should lead us to. If you want to display a circle not as an elipsis
(picking up your example) then the appropriate model is to have
adjacent pixels, because these are the enitites you can control.
Dividing those entities into pixels and space between pixels doesn't
bring you anywhere. So with the term 'pixel' I from here refer to the
whole area up to the next pixel.

Although theoretically the display aspect ratio and the pixel aspect
ratio are of course different values they are in fact _directly_
related to each other as soon as you have a fixed screen aspect ratio,
which is the case for all cc65 targets meant to display on (classic)
TV screens or monitors with identical display aspect ratio. The Apple2
and C128 are examples for this - sorry for not mentioning this fact
;-)

In general a CRT display is generated by some pixel clock. And that
pixel clock typically has a &quot;normal&quot; rate. That rate is typically
adjusted to yield a pixel aspect ratio of ~1. Because of the fixed
screen aspect ratio this directly results in a resolution aspect ratio
similiar to a (classic) TV screen.

For the Apple2 this resolution is 280x192 and for the C128 it is
320x200. Now that I showed why these display resolution directly
relate to an pixel aspect ratio of ~1 it is quite easy to see that the
resolutions mentioned by me (560x192 and 640x200) directly relate to a
different pixel aspect ratio.

Not surprisingly resolutions like 560x192 and 640x200 are produced by
running the pixel clock at double rate. The ability to do so tends to
be related to the support of 80 col text displays.

On the other hand there are sometimes graphics modes with higher bit
depth and because of memory access bandwith (or other) limitations
these modes require the pixel clock to run at half rate.

Result: There seem to be quite some interpretations what this thread
is about. However my understanding of this thread is that the driver
could/should basically provide the information if it runs the pixel
clock at a rate resulting the usual ~1 pixel aspect ratio or if it
runs at double/half speed.

&gt; to achive what you are talking about, it makes more sence to me to define the
&gt; aspect ratio of the DISPLAY (that can be done in a macro, i dont think any of
&gt; the targets can change it). then what you need can be calculated from the
&gt; display resolution:

I don't see any point in defining the aspect ratio of the display. The
TGI API already has tgi_getxres() and tgi_getyres() which allow to do
whatever necessary in that area.

Howevery when trying to draw a circle (as in your example) or a 45
degree diagonal line (as in 3dmaze) the program is not interested in
understanding the display aspect ratio but in understanding the pixel
aspect ratio.

&gt; sorry to be pedantic about this.... but after extensivly reading up on the
&gt; subject years ago (because i was doing image processing/converting) all the
&gt; confusion and half-accurate things &quot;out there&quot; make me protest :)

BTW: I've been doing the same to make a living for some time.

So why did I mention those two resolutions in the first place at all?
Because I didn't want to talk about pixel aspect ratios of 0,93 or
1,07. The reasons:
- Trying to adjust for those seems overengineering to me for a 6502 program.
- The missing float support in cc65 doesn't make it exactly fun to
deal with those values.
- Most cc65 programs run today in emulators just ignoring those
deviation altogether.

Rather I wanted to talk about those double/half pixel clock rate modes, because:
- They can be easily descibed by a single integer value.
- They are so obviously visible that is urgent to adjust for them.
- Emulators implement them so there's a need to adjust for them when
running in emulators.

But I thought talking about double/half pixel clock rate modes might
divert attention from the proposal I wanted to make, therefore I
started out with two popular resolutions. But somehow this doesn't
seem to have worked out that well ;-)

Best, Oliver
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Oct 29 15:10:19 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="7414.html" title="Next message in the list">Groepaz: "Re: [cc65] TGI pixel aspect ratio"</a></li>
<li><dfn>Previous message</dfn>: <a href="7412.html" title="Previous message in the list">Groepaz: "Re: [cc65] TGI pixel aspect ratio"</a></li>
<li><dfn>In reply to</dfn>: <a href="7412.html" title="Message to which this message replies">Groepaz: "Re: [cc65] TGI pixel aspect ratio"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="7414.html" title="Next message in this discussion thread">Groepaz: "Re: [cc65] TGI pixel aspect ratio"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="7414.html" title="Message sent in reply to this message">Groepaz: "Re: [cc65] TGI pixel aspect ratio"</a></li>
<li><dfn>Reply</dfn>:  <a href="7416.html" title="Message sent in reply to this message">Ullrich von Bassewitz: "Re: [cc65] TGI pixel aspect ratio"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#7413" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#7413" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#7413" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-10-29 15:10:22 CET
</em></small></p>
</body>
</html>
