<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] tgi_outtext x and y coordi</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] tgi_outtext x and y coordinates and new line" />
<meta name="Date" content="2009-10-29" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] tgi_outtext x and y coordinates and new line</h1>
<!-- received="Thu Oct 29 19:47:07 2009" -->
<!-- isoreceived="20091029184707" -->
<!-- sent="Thu, 29 Oct 2009 19:42:35 +0100" -->
<!-- isosent="20091029184235" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] tgi_outtext x and y coordinates and new line" -->
<!-- id="20091029184235.GA32170@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="317843.99884.qm&#64;web56502.mail.re3.yahoo.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="7421.html" title="Fatih Aygün: &quot;Re: [cc65] tgi_outtext x and y coordinates and new line&quot;">Next message</a> ]
[ <a href="7419.html" title="Fatih Aygün: &quot;[cc65] tgi_outtext x and y coordinates and new line&quot;">Previous message</a> ]
[ <a href="7419.html" title="Fatih Aygün: &quot;[cc65] tgi_outtext x and y coordinates and new line&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="7421.html" title="Fatih Aygün: &quot;Re: [cc65] tgi_outtext x and y coordinates and new line&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20tgi_outtext%20x%20and%20y%20coordinates%20and%20new%20line">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-10-29 19:42:35</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Thu, Oct 29, 2009 at 11:26:12AM -0700, Fatih AygÃ¼n wrote:
&gt; I'm not sure how to interpret the coordinates when the text direction is 
&gt; vertical.
&gt; Is it supposed to be the lower left corner? Since the text will be written 
&gt; rotated 90 degrees counter-clockwise, the text will flow from bottom to 
&gt; top, right?

The coordinates do always point to the start of the text baseline, so for
vertical text (which flows indeed from bottom to top), pixels to the left of
this coordinates are used. This will also work nicely with the vector fonts.

&gt; My second question is, is the driver supposed to interpret the &quot;\n&quot; and &quot;\r&quot; like
&gt; conio does? Personally I could live without them :)

Since we must be able to use builtin character ROMs, handling of special
characters is implementation defined (which may also specify that it causes
undefined behaviour). Since the is no concept of lines, \n and \r should *not*
&quot;move the cursor to the start of the line&quot; or &quot;move the cursor to the next
line&quot;. I would just ignore chars below $20.

It was really a bad idea not to implement OUTTEXT in the C64 driver, which was
used as a reference. I can only hope that the existing implementations do it
as described above :-(

BTW: There is an error in the C64 driver which is also in the C128 drivers
(and as I see now, also in the apple driver). I've used the register bank in
the zero page without saving the contents. This may overwrite variables in
programs that use register variables. So much for &quot;having a reference driver
is a good thing&quot;.

Others have copied this error to their own drivers. For the future, please
note that all my bugs are copyrighted by me and may not be used without
written permission! If you want bugs in your TGI drivers, please create your
own! :-)

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Oct 29 19:47:07 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="7421.html" title="Next message in the list">Fatih Aygün: "Re: [cc65] tgi_outtext x and y coordinates and new line"</a></li>
<li><dfn>Previous message</dfn>: <a href="7419.html" title="Previous message in the list">Fatih Aygün: "[cc65] tgi_outtext x and y coordinates and new line"</a></li>
<li><dfn>In reply to</dfn>: <a href="7419.html" title="Message to which this message replies">Fatih Aygün: "[cc65] tgi_outtext x and y coordinates and new line"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="7421.html" title="Next message in this discussion thread">Fatih Aygün: "Re: [cc65] tgi_outtext x and y coordinates and new line"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="7421.html" title="Message sent in reply to this message">Fatih Aygün: "Re: [cc65] tgi_outtext x and y coordinates and new line"</a></li>
<li><dfn>Reply</dfn>:  <a href="7424.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] tgi_outtext x and y coordinates and new line"</a></li>
<li><dfn>Reply</dfn>:  <a href="7425.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] tgi_outtext x and y coordinates and new line"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#7420" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#7420" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#7420" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-10-29 19:47:09 CET
</em></small></p>
</body>
</html>
