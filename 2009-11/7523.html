<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: Re: [cc65] bank switching/retro r</title>
<meta name="Author" content="Thomas Giesel (skoe1directbox.com)" />
<meta name="Subject" content="Re: Re: [cc65] bank switching/retro replay?" />
<meta name="Date" content="2009-11-10" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: Re: [cc65] bank switching/retro replay?</h1>
<!-- received="Tue Nov 10 13:35:41 2009" -->
<!-- isoreceived="20091110123541" -->
<!-- sent="Tue, 10 Nov 2009 13:35:32" -->
<!-- isosent="20091110123532" -->
<!-- name="Thomas Giesel" -->
<!-- email="skoe1directbox.com" -->
<!-- subject="Re: Re: [cc65] bank switching/retro replay?" -->
<!-- id="172807D90B0A0C2320CC@directbox.com" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="Re: [cc65] bank switching/retro replay?" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="7524.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] bank switching/retro replay?&quot;">Next message</a> ]
[ <a href="7522.html" title="Oliver Schmidt: &quot;Re: [cc65] bank switching/retro replay?&quot;">Previous message</a> ]
[ <a href="7522.html" title="Oliver Schmidt: &quot;Re: [cc65] bank switching/retro replay?&quot;">Maybe in reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Thomas Giesel &lt;<a href="mailto:skoe1directbox.com?Subject=Re:%20Re:%20[cc65]%20bank%20switching/retro%20replay?">skoe1directbox.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-11-10 13:35:32</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>All,

&gt; But writing such code that covers all cases is rather
&gt; difficult. Especially if the caller needs to get banked out, before the callee
&gt; is invoked.

Maybe not the best, but at least a first idea:

functions with this attrbute could be called like this:
1. Put arguments on stack
2. Put bank number on stack
3. Put function address on stack
4. Call generic trampoline function

This attribute may imply that the code has fastcall convention (why not...) and that it must not be used in an IRQ-handler. They cannot be used in absence of a prototype.

Of course it's not useful to call &quot;cheap&quot; functions in this way.

Thoughts?

Thomas


----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Nov 10 13:35:41 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="7524.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] bank switching/retro replay?"</a></li>
<li><dfn>Previous message</dfn>: <a href="7522.html" title="Previous message in the list">Oliver Schmidt: "Re: [cc65] bank switching/retro replay?"</a></li>
<li><dfn>Maybe in reply to</dfn>: <a href="7522.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] bank switching/retro replay?"</a></li>
<!-- lnextthread="start" -->
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="7524.html" title="Message sent in reply to this message">Ullrich von Bassewitz: "Re: [cc65] bank switching/retro replay?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#7523" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#7523" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#7523" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-11-10 13:35:43 CET
</em></small></p>
</body>
</html>
