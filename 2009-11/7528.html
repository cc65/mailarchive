<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: Re: [cc65] bank switching/retro r</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: Re: [cc65] bank switching/retro replay?" />
<meta name="Date" content="2009-11-10" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: Re: [cc65] bank switching/retro replay?</h1>
<!-- received="Tue Nov 10 14:00:29 2009" -->
<!-- isoreceived="20091110130029" -->
<!-- sent="Tue, 10 Nov 2009 14:00:22 +0100" -->
<!-- isosent="20091110130022" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: Re: [cc65] bank switching/retro replay?" -->
<!-- id="20091110130022.GA32326@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="172807D90B0A0C330282&#64;directbox.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="7529.html" title="Groepaz: &quot;Re: [cc65] bank switching/retro replay?&quot;">Next message</a> ]
[ <a href="7527.html" title="Thomas Giesel: &quot;Re: [cc65] bank switching/retro replay?&quot;">Previous message</a> ]
[ <a href="7526.html" title="Thomas Giesel: &quot;Re: Re: [cc65] bank switching/retro replay?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20Re:%20[cc65]%20bank%20switching/retro%20replay?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-11-10 14:00:22</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Tue, Nov 10, 2009 at 01:51:02PM +0000, Thomas Giesel wrote:
&gt; Good idea, so the updated mechanism would be:
&gt;
&gt; 1. Put (all) arguments on stack
&gt; 2. Load bank number into Y
&gt; 3. Load function address into AX
&gt; 4. Call generic trampoline function
&gt;
&gt; Sounds faster :)

Yes, but it won't work:-) The function address may be an expression, in which
case the Y register may get destroyed when evaluating it. The bank number may
also be a 16 bit value if this has advantages for a speficic implementation.
It is my experience that it isn't a good idea to optimize too much when
designing new code. So let's do it the safe way and pass the bank number on
the stack. If the implementation shows possible improvements, there's still
time to change it.
   
Anyway, this won't happen anytime soon. I'm still working on the mul/div
routines and TGI, and several other things are waiting.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Nov 10 14:00:29 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="7529.html" title="Next message in the list">Groepaz: "Re: [cc65] bank switching/retro replay?"</a></li>
<li><dfn>Previous message</dfn>: <a href="7527.html" title="Previous message in the list">Thomas Giesel: "Re: [cc65] bank switching/retro replay?"</a></li>
<li><dfn>In reply to</dfn>: <a href="7526.html" title="Message to which this message replies">Thomas Giesel: "Re: Re: [cc65] bank switching/retro replay?"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#7528" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#7528" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#7528" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-11-10 14:00:31 CET
</em></small></p>
</body>
</html>
