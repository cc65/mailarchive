<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Banking out ROM (was: TGI </title>
<meta name="Author" content="Fatih Aygün (cyco1301yahoo.com)" />
<meta name="Subject" content="Re: [cc65] Banking out ROM (was: TGI preview)" />
<meta name="Date" content="2009-11-14" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Banking out ROM (was: TGI preview)</h1>
<!-- received="Sat Nov 14 16:57:59 2009" -->
<!-- isoreceived="20091114155759" -->
<!-- sent="Sat, 14 Nov 2009 07:57:53 -0800 (PST)" -->
<!-- isosent="20091114155753" -->
<!-- name="Fatih Aygün" -->
<!-- email="cyco1301yahoo.com" -->
<!-- subject="Re: [cc65] Banking out ROM (was: TGI preview)" -->
<!-- id="588371.15477.qm@web56505.mail.re3.yahoo.com" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="f97798c20911140516p4a0dee22if511e10053df5c39&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="7592.html" title="Fatih Aygün: &quot;Re: [cc65] Atari tgi update&quot;">Next message</a> ]
[ <a href="7590.html" title="Oliver Schmidt: &quot;Re: [cc65] Banking out ROM (was: TGI preview)&quot;">Previous message</a> ]
[ <a href="7590.html" title="Oliver Schmidt: &quot;Re: [cc65] Banking out ROM (was: TGI preview)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="7595.html" title="Shawn Jefferson: &quot;RE: [cc65] Banking out ROM (was: TGI preview)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Fatih Aygün &lt;<a href="mailto:cyco1301yahoo.com?Subject=Re:%20[cc65]%20Banking%20out%20ROM%20(was:%20TGI%20preview)">cyco1301yahoo.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-11-14 16:57:53</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi,

Given the impossibility of using the RAM under ROM with any of the
OS routines without reimplementing a good portion of the OS functions,
I find this feature only marginally useful for C programs. But I do have a
prototype implementation for RAM/ROM banking for XL/XE anyway.

Christian told me earlier that he was planning to do some cc65 work
this weekend. Judging by the previous posts on this list I assume he
will be implementing a new startup code for Atari :). When it's done I'll
adapt my code to go with the new system, do some refinements and
testing and I'll share it. Until then I'm open to suggestions on what to
do with the extra memory :)

If anyone wants to give it a test drive, it's quick and  dirty but it's here: 

<a href="http://atari.isgreat.org/crt0-xl.2009-11-14.zip">http://atari.isgreat.org/crt0-xl.2009-11-14.zip</a>

It doesn't report the memory status yet. You can do:

    _heapadd((void*) 0xC000, 0x1000); // 4K
    _heapadd((void*) 0xE492, 0x1B68); // Almost 7K
    _heapadd((void*) 0xD800, 0x0800); // 2K more, only if you don't need the FP stuff
    _heapadd((void*) 0xE400, 0x0050); // 80 bytes more, only if you're that desperate :)

in the beginning of your program. Or you can play around with the config and
startup files for other ways to use this space. But remember, you can't use 
those areas for any OS related stuff (e.g. file i/o, so it's no cure for tgi-preview).
You got a bigger EXE, 352 bytes less linear memory but, hey, you got almost
13K of extra heap space that you can't use for anything useful :)

---


Oliver Schmidt wrote:
&gt; You are of course right! I basically explained why myself a few lines
&gt; above :-( I need to think more before typing...

:)

Regards,
Fatih.


      
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sat Nov 14 16:57:59 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="7592.html" title="Next message in the list">Fatih Aygün: "Re: [cc65] Atari tgi update"</a></li>
<li><dfn>Previous message</dfn>: <a href="7590.html" title="Previous message in the list">Oliver Schmidt: "Re: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<li><dfn>In reply to</dfn>: <a href="7590.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="7595.html" title="Next message in this discussion thread">Shawn Jefferson: "RE: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="7595.html" title="Message sent in reply to this message">Shawn Jefferson: "RE: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#7591" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#7591" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#7591" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-11-14 16:58:02 CET
</em></small></p>
</body>
</html>
