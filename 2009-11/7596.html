<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Banking out ROM (was: TGI </title>
<meta name="Author" content="silverdr1wfmh.org.pl (silverdr1wfmh.org.pl)" />
<meta name="Subject" content="Re: [cc65] Banking out ROM (was: TGI preview)" />
<meta name="Date" content="2009-11-14" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Banking out ROM (was: TGI preview)</h1>
<!-- received="Sat Nov 14 23:35:19 2009" -->
<!-- isoreceived="20091114223519" -->
<!-- sent="Sat, 14 Nov 2009 23:35:07 +0100" -->
<!-- isosent="20091114223507" -->
<!-- name="silverdr1wfmh.org.pl" -->
<!-- email="silverdr1wfmh.org.pl" -->
<!-- subject="Re: [cc65] Banking out ROM (was: TGI preview)" -->
<!-- id="7F50E026-29D2-4E0B-8E79-657BF01E6E9F@wfmh.org.pl" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="624083.21940.qm&#64;web56506.mail.re3.yahoo.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="7597.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] TGI preview&quot;">Next message</a> ]
[ <a href="7595.html" title="Shawn Jefferson: &quot;RE: [cc65] Banking out ROM (was: TGI preview)&quot;">Previous message</a> ]
[ <a href="7587.html" title="Fatih Aygün: &quot;[cc65] Banking out ROM (was: TGI preview)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="7599.html" title="Daniel Serpell: &quot;Re: [cc65] Banking out ROM (was: TGI preview)&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: &lt;<a href="mailto:silverdr1wfmh.org.pl?Subject=Re:%20[cc65]%20Banking%20out%20ROM%20(was:%20TGI%20preview)">silverdr1wfmh.org.pl</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-11-14 23:35:07</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On 2009-11-14, at 12:19, Fatih Aygün wrote:
&gt; 
&gt; How do those platforms handle disk i/o?
&gt; 

Two ways to achieve that is either bank-in, do the i/o, bank out or copy ROM to RAM, and use those portions of RAM, which do not interfere with the functionality you still need from the now mutable ROM image. In practice I believe the first method is more common.

&gt; [...] So I can't load anything into the extra
&gt; memory from disk, because the i/o routines are in the rom and when the rom is enabled to
&gt; call them, they just try to write over the rom, which obviously doesn't work.

Well, on the Commie it &quot;obviously&quot; works ;-) It is so because the ROM is banked-in on read only. On write, the RAM is being accessed, which as simple as it looks makes lot of things easier. E.g. to make any of the ROMs mutable, a simple loop

lda (vector),y
sta (vector),y

is enough. No temporary buffers, no need for two copy passes, etc.

Now I don't know how are the ROMs wired on Ataris but if you can't write over the ROMs to get to the RAM beneath, I would assume that you are to use some I/O buffers, read the data in there, bank the ROM out and move the data. Yeah - not very much appealing.

-- 
SD!----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sat Nov 14 23:35:19 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="7597.html" title="Next message in the list">silverdr1wfmh.org.pl: "Re: [cc65] TGI preview"</a></li>
<li><dfn>Previous message</dfn>: <a href="7595.html" title="Previous message in the list">Shawn Jefferson: "RE: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<li><dfn>In reply to</dfn>: <a href="7587.html" title="Message to which this message replies">Fatih Aygün: "[cc65] Banking out ROM (was: TGI preview)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="7599.html" title="Next message in this discussion thread">Daniel Serpell: "Re: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#7596" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#7596" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#7596" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-11-14 23:35:21 CET
</em></small></p>
</body>
</html>
