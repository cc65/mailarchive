<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Banking out ROM (was: TGI </title>
<meta name="Author" content="Fatih Aygün (cyco1301yahoo.com)" />
<meta name="Subject" content="Re: [cc65] Banking out ROM (was: TGI preview)" />
<meta name="Date" content="2009-11-15" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Banking out ROM (was: TGI preview)</h1>
<!-- received="Sun Nov 15 14:44:58 2009" -->
<!-- isoreceived="20091115134458" -->
<!-- sent="Sun, 15 Nov 2009 05:44:50 -0800 (PST)" -->
<!-- isosent="20091115134450" -->
<!-- name="Fatih Aygün" -->
<!-- email="cyco1301yahoo.com" -->
<!-- subject="Re: [cc65] Banking out ROM (was: TGI preview)" -->
<!-- id="530219.9195.qm@web56507.mail.re3.yahoo.com" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="5423887D1C55490D85FBF7E6F2972F32&#64;ORANGE2" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="7601.html" title="Fatih Aygün: &quot;Re: [cc65] TGI preview&quot;">Next message</a> ]
[ <a href="7599.html" title="Daniel Serpell: &quot;Re: [cc65] Banking out ROM (was: TGI preview)&quot;">Previous message</a> ]
[ <a href="7594.html" title="Shawn Jefferson: &quot;RE: [cc65] Banking out ROM (was: TGI preview)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="7602.html" title="Oliver Schmidt: &quot;Re: [cc65] Banking out ROM (was: TGI preview)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Fatih Aygün &lt;<a href="mailto:cyco1301yahoo.com?Subject=Re:%20[cc65]%20Banking%20out%20ROM%20(was:%20TGI%20preview)">cyco1301yahoo.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2009-11-15 14:44:50</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi,



***

Shawn Jefferson wrote:

&gt; Unless you are going to package a special DOS with your program I'd stay
&gt; away from stuff that low.  Cartridge is $400 of course, that's fine.

Of course :)

&gt; The high $1Fxx's from what I recall, so $2000 should be fine.

I wonder why it's not the default start address then. Programs that use R: stuff
or any other low loading drivers or extra drive buffers can easily set the start 
address higher from the ld65 command line. The default shouldn't be that high
because it's not the typical case imho.

&gt; I guess this can only be used in programs that don't make use of the OS
&gt; functions in any way?

No, you can use any official OS function like CIOV, SIOV or whatever. There are
stubs in low memory that handle the switching. What you can't do is to use the
extra RAM as an input or output buffer for that functions. Other than that everything
I tested seemed to work.

***

silverdr&#64;wfmh&#46;<!--nospam-->org.pl wrote:

&gt; &gt; How do those platforms handle disk i/o?
&gt; 
&gt; Two ways to achieve that is either bank-in, do the i/o, bank out or copy ROM to 
&gt; RAM, and use those portions of RAM, which do not interfere with the 
&gt; functionality you still need from the now mutable ROM image. In practice I 
&gt; believe the first method is more common.

Hmm... There are some five versions of the OS ROMs for Atari XL/XE. I'm not sure 
if they have those functions in the same places. But it might be worth investigating.

&gt; Well, on the Commie it &quot;obviously&quot; works ;-) It is so because the ROM is 
&gt; banked-in on read only. On write, the RAM is being accessed, which as simple as 
&gt; it looks makes lot of things easier. E.g. to make any of the ROMs mutable, a 
&gt; simple loop

The Atari800 emulator doesn't work that way. Unfortunately I think that's how the
real hardware works. It would be much nicer if it was designed like Commodore but
it is what it is :(

&gt; Now I don't know how are the ROMs wired on Ataris but if you can't write over 
&gt; the ROMs to get to the RAM beneath, I would assume that you are to use some I/O 
&gt; buffers, read the data in there, bank the ROM out and move the data. Yeah - not 
&gt; very much appealing.

That would require decoding the function parameters, almost the same amount of code
to implement them. Not an option I think :(

***

Daniel Serpell wrote:

&gt;&gt; On the real hardware, I have an sio2pc program and a virtual dos (I call it PseuDos) 
&gt;&gt; that just forwards the requests to the PC in the shortest possible time andallows me 
&gt;&gt; to load as low as $800 :)
&gt; 
&gt; Do you have that available somewhere? sounds interesting!
&gt; 

Not yet. I've got lots of half finished software lying in my hard disk. I definitely should clean
them up and release some them. I'm somewhat motivated and got some free time nowadays.
That project will be my priority since it's the most demanded (by 1 person, that being you :)). 
I'll let you know when it's done.

&gt; [detailed memory requirements for several DOSes]

Thanks for the info. It seems to support the proposal of setting the default start address to
$2000 for Atari platform.

Regards,
Fatih.


      
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Nov 15 14:44:58 2009</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="7601.html" title="Next message in the list">Fatih Aygün: "Re: [cc65] TGI preview"</a></li>
<li><dfn>Previous message</dfn>: <a href="7599.html" title="Previous message in the list">Daniel Serpell: "Re: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<li><dfn>In reply to</dfn>: <a href="7594.html" title="Message to which this message replies">Shawn Jefferson: "RE: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="7602.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="7602.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Banking out ROM (was: TGI preview)"</a></li>
<li><dfn>Reply</dfn>:  <a href="7603.html" title="Message sent in reply to this message">Christian Grössler: "Re: [cc65] Banking out ROM"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#7600" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#7600" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#7600" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2009-11-15 14:45:01 CET
</em></small></p>
</body>
</html>
