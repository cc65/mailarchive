<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Question on 1351 mouse</title>
<meta name="Author" content="Oliver Schmidt (ol.sc1web.de)" />
<meta name="Subject" content="Re: [cc65] Question on 1351 mouse" />
<meta name="Date" content="2010-02-03" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Question on 1351 mouse</h1>
<!-- received="Wed Feb  3 08:14:52 2010" -->
<!-- isoreceived="20100203071452" -->
<!-- sent="Wed, 3 Feb 2010 08:14:41 +0100" -->
<!-- isosent="20100203071441" -->
<!-- name="Oliver Schmidt" -->
<!-- email="ol.sc1web.de" -->
<!-- subject="Re: [cc65] Question on 1351 mouse" -->
<!-- id="f97798c21002022314n3b44d3c7ndfa4cec204780a3e@mail.gmail.com" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="20100202171507.GB21916&#64;trixie.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="7830.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Question on 1351 mouse&quot;">Next message</a> ]
[ <a href="7828.html" title="Marco van den Heuvel: &quot;[cc65] plus4 geos get_ostype patch&quot;">Previous message</a> ]
[ <a href="7825.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Question on 1351 mouse&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="7830.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Question on 1351 mouse&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Oliver Schmidt &lt;<a href="mailto:ol.sc1web.de?Subject=Re:%20[cc65]%20Question%20on%201351%20mouse">ol.sc1web.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-02-03 08:14:41</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi,

&gt; Which means that a joystick mouse will cause similar problems. Maybe the best
&gt; workaround for the application is indeed to clear the keyboard buffer after
&gt; mouse actions?

Maybe I don't understand this proposal correctly but it seems to me
that it will cause loosing keyborad strokes. When the user interacts
with the program it can't know when the user uses the keyboard and
when he uses the mouse. So I don't see &quot;one thing after the other&quot;.
Below are some parts from the relevant code. Where could a keyboard
buffer clearing be inserted?

Best, Oliver


  while(1) {
    ...
    if(ctk_mouse_button() != mouse_button) {
      mouse_button = ctk_mouse_button();
      mouse_button_changed = 1;
      if(mouse_button == 0) {
	mouse_clicked = 1;
      }
    }
    ...
    if(mouse_clicked) {
      ...
    }
    ...
    while(ctk_arch_keyavail()) {
      c = ctk_arch_getkey();
      ...
    }
    ....
  }
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Wed Feb  3 08:14:52 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="7830.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] Question on 1351 mouse"</a></li>
<li><dfn>Previous message</dfn>: <a href="7828.html" title="Previous message in the list">Marco van den Heuvel: "[cc65] plus4 geos get_ostype patch"</a></li>
<li><dfn>In reply to</dfn>: <a href="7825.html" title="Message to which this message replies">Ullrich von Bassewitz: "Re: [cc65] Question on 1351 mouse"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="7830.html" title="Next message in this discussion thread">Ullrich von Bassewitz: "Re: [cc65] Question on 1351 mouse"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="7830.html" title="Message sent in reply to this message">Ullrich von Bassewitz: "Re: [cc65] Question on 1351 mouse"</a></li>
<li><dfn>Reply</dfn>:  <a href="7831.html" title="Message sent in reply to this message">silverdr1wfmh.org.pl: "Re: [cc65] Question on 1351 mouse"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#7829" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#7829" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#7829" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-02-03 08:14:54 CET
</em></small></p>
</body>
</html>
