<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] floating point support red</title>
<meta name="Author" content="Kevin Schuetz (scrapdog1runbox.com)" />
<meta name="Subject" content="Re: [cc65] floating point support redux" />
<meta name="Date" content="2010-04-08" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] floating point support redux</h1>
<!-- received="Thu Apr  8 22:19:22 2010" -->
<!-- isoreceived="20100408201922" -->
<!-- sent="Thu, 08 Apr 2010 15:19:11 -0500" -->
<!-- isosent="20100408201911" -->
<!-- name="Kevin Schuetz" -->
<!-- email="scrapdog1runbox.com" -->
<!-- subject="Re: [cc65] floating point support redux" -->
<!-- id="4BBE3A3F.5030802@runbox.com" -->
<!-- charset="UTF-8" -->
<!-- inreplyto="20100408190843.GE1405&#64;trixie.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8032.html" title="Groepaz: &quot;Re: [cc65] floating point support redux&quot;">Next message</a> ]
[ <a href="8030.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] floating point support redux&quot;">Previous message</a> ]
[ <a href="8030.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] floating point support redux&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8034.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] floating point support redux&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Kevin Schuetz &lt;<a href="mailto:scrapdog1runbox.com?Subject=Re:%20[cc65]%20floating%20point%20support%20redux">scrapdog1runbox.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-04-08 22:19:11</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Thanks for replying!

Ullrich von Bassewitz wrote:

 &gt;
 &gt; And, having two implementations makes it easier to find problems,
 &gt; because you can check the results against each other.
 &gt;

Good point!

 &gt;
 &gt; The real work is getting support into the compiler, and
 &gt; writing all the library extensions for the 6502 (think about printf ...).
 &gt;

Trust me, I have (at the expense of some sleep)!  printf is a mountain 
of a function. :-)


 &gt;
 &gt; A standards compliant double needs 34 bits in the mantissa (10 digits of
 &gt; precision), so it needs 64 bit IEEE floats or some non standard format.
 &gt;

Is performance and space economy the main argument against 64-bit 
doubles, or is there something else?

As soon as a programmer knowingly makes a decision to use a double 
instead of a float on a 6502, they probably have pondered the 
consequences.  If one knows the consequences yet proceeds to do it 
anyway, it is probably safe to say that performance *really* takes a 
back seat to precision on the particular problem they are tackling.

A 40-bit or 48-bit double might be a good compromise for performance, 
but is it really worth the trouble of designing and documenting a 
non-standard format, knowing how rarely it'll be used?

While a custom-tailored format (e.g. byte-aligned exponent, etc.) might 
ease some of the implementation troubles, any format is going to be 
painful to implement, isn't it?  Dropping the design and documentation 
burden might reduce the net amount of insanity. ;-)

In summary, I like the idea of 32-bit floats and 64-bit doubles.

That said, down the road if the floating point project materializes, I'd 
be willing to help out...

Kevin

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Apr  8 22:19:22 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8032.html" title="Next message in the list">Groepaz: "Re: [cc65] floating point support redux"</a></li>
<li><dfn>Previous message</dfn>: <a href="8030.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] floating point support redux"</a></li>
<li><dfn>In reply to</dfn>: <a href="8030.html" title="Message to which this message replies">Ullrich von Bassewitz: "Re: [cc65] floating point support redux"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8034.html" title="Next message in this discussion thread">Ullrich von Bassewitz: "Re: [cc65] floating point support redux"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8034.html" title="Message sent in reply to this message">Ullrich von Bassewitz: "Re: [cc65] floating point support redux"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8031" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8031" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8031" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-04-08 22:19:24 CEST
</em></small></p>
</body>
</html>
