<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] declaring variables after </title>
<meta name="Author" content="Thomas Giesel (skoe1directbox.com)" />
<meta name="Subject" content="Re: [cc65] declaring variables after code" />
<meta name="Date" content="2010-04-23" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] declaring variables after code</h1>
<!-- received="Fri Apr 23 21:21:47 2010" -->
<!-- isoreceived="20100423192147" -->
<!-- sent="Fri, 23 Apr 2010 21:21:33 +0200" -->
<!-- isosent="20100423192133" -->
<!-- name="Thomas Giesel" -->
<!-- email="skoe1directbox.com" -->
<!-- subject="Re: [cc65] declaring variables after code" -->
<!-- id="20100423212133.2f9dd8f1@akoya" -->
<!-- charset="US-ASCII" -->
<!-- inreplyto="20100423150128.GA3304&#64;agger" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8137.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Please critique this makefile&quot;">Next message</a> ]
[ <a href="8135.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] --create-dep for ca65?&quot;">Previous message</a> ]
[ <a href="8134.html" title="Spiro Trikaliotis: &quot;Re: [cc65] declaring variables after code&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Thomas Giesel &lt;<a href="mailto:skoe1directbox.com?Subject=Re:%20[cc65]%20declaring%20variables%20after%20code">skoe1directbox.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-04-23 21:21:33</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi all,

&gt; I always try to avoid it in C code that I
&gt; forgot that C99 actually allows it.

me too :)

to come back to the original question:

On many compilers it gives better results to declare all variables at
the beginning and not in nested blocks. This is because the stack frame
is extended and shrinked on block entries and exits. Look at this:

vars.c:
int main()
{
    int a;
    int c;
    int b = 3;

    for (a = 0; a &lt; 3; ++a)
    {
        c = a + b;
        a = c + c;
    }
    return a;
}

vars2.c:
int main()
{
    int a;
    int b = 3;

    for (a = 0; a &lt; 3; ++a)
    {
        int c;
        c = a + b;
        a = c + c;
    }
    return a;
}

skoe&#64;akoya:~$ ls -la vars*
-rw-r--r-- 1 skoe skoe 1097 2010-04-23 21:18 vars
-rw-r--r-- 1 skoe skoe 1115 2010-04-23 21:15 vars2

In C the reasons to do this are rare. In C++ it may be useful if
constructors are involved, but that's a completely different language,
as Spiro told already.

Regards,

Thomas

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Apr 23 21:21:47 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8137.html" title="Next message in the list">silverdr1wfmh.org.pl: "Re: [cc65] Please critique this makefile"</a></li>
<li><dfn>Previous message</dfn>: <a href="8135.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] --create-dep for ca65?"</a></li>
<li><dfn>In reply to</dfn>: <a href="8134.html" title="Message to which this message replies">Spiro Trikaliotis: "Re: [cc65] declaring variables after code"</a></li>
<!-- lnextthread="start" -->
<li><a name="replies" id="replies"></a>
<dfn>Maybe reply</dfn>: <a href="8127.html" title="Message sent in reply to this message">Thomas Giesel: "Re: Re: [cc65] declaring variables after code"</a></li>
<li><dfn>Reply</dfn>:  <a href="8140.html" title="Message sent in reply to this message">Steve Davison: "Re: [cc65] declaring variables after code"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8136" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8136" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8136" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-04-23 21:21:49 CEST
</em></small></p>
</body>
</html>
