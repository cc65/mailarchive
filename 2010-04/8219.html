<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: [cc65] Undersores required for all as</title>
<meta name="Author" content="Steve Davison (agentfriday1hotmail.com)" />
<meta name="Subject" content="[cc65] Undersores required for all asm calls?" />
<meta name="Date" content="2010-04-28" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>[cc65] Undersores required for all asm calls?</h1>
<!-- received="Wed Apr 28 11:49:55 2010" -->
<!-- isoreceived="20100428094955" -->
<!-- sent="Wed, 28 Apr 2010 02:49:49 -0700" -->
<!-- isosent="20100428094949" -->
<!-- name="Steve Davison" -->
<!-- email="agentfriday1hotmail.com" -->
<!-- subject="[cc65] Undersores required for all asm calls?" -->
<!-- id="SNT136-w122327A287F5054685F29BB7020@phx.gbl" -->
<!-- charset="iso-8859-1" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8220.html" title="Oliver Schmidt: &quot;Re: [cc65] Zero page, C stack, and interrupts&quot;">Next message</a> ]
[ <a href="8218.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Zero page, C stack, and interrupts&quot;">Previous message</a> ]
<!-- unextthread="start" -->
 [ <a href="8221.html" title="Oliver Schmidt: &quot;Re: [cc65] Undersores required for all asm calls?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Steve Davison &lt;<a href="mailto:agentfriday1hotmail.com?Subject=Re:%20[cc65]%20Undersores%20required%20for%20all%20asm%20calls?">agentfriday1hotmail.com</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-04-28 11:49:49</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Do I need to always name my asm symbols with a leading 
underscore in order to use them from C?

 

I export the name of an assembly function, named &quot;zpsave&quot;, 
which I call from my C code.  (Well, I TRIED to call it...)  
&quot;Unresolved External&quot; _zpsave.  I ended up renaming the label 
to '_zpswap', and that worked.

 

It took a couple hours to chase down, but what I learned is 
that cc65 adds an underscore to the beginning of _every_ C 
symbol that appears in the generated asm code.  This makes 
sense since there is nothing in the code that would inform the 
compiler of what language the external function would be written 
in.  Makes sense now, but it is counter to what I would want.

 

Is there some trick to keep from having to add all the unders 
to public symbols?

Thanks,
// Steve


 
 		 	   		  
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Wed Apr 28 11:49:55 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8220.html" title="Next message in the list">Oliver Schmidt: "Re: [cc65] Zero page, C stack, and interrupts"</a></li>
<li><dfn>Previous message</dfn>: <a href="8218.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] Zero page, C stack, and interrupts"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8221.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Undersores required for all asm calls?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8221.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Undersores required for all asm calls?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8219" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8219" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8219" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-04-28 11:49:58 CEST
</em></small></p>
</body>
</html>
