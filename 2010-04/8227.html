<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Zero page, C stack, and in</title>
<meta name="Author" content="Groepaz (groepaz1gmx.net)" />
<meta name="Subject" content="Re: [cc65] Zero page, C stack, and interrupts" />
<meta name="Date" content="2010-04-28" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Zero page, C stack, and interrupts</h1>
<!-- received="Wed Apr 28 16:46:50 2010" -->
<!-- isoreceived="20100428144650" -->
<!-- sent="Wed, 28 Apr 2010 16:45:45 +0200" -->
<!-- isosent="20100428144545" -->
<!-- name="Groepaz" -->
<!-- email="groepaz1gmx.net" -->
<!-- subject="Re: [cc65] Zero page, C stack, and interrupts" -->
<!-- id="201004281645.45795.groepaz@gmx.net" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="j2r6c36ebcc1004271538racad1f7ch33b10594b6f488a7&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8228.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Undersores required for all asm calls?&quot;">Next message</a> ]
[ <a href="8226.html" title="Mark J. Reed: &quot;Re: [cc65] Undersores required for all asm calls?&quot;">Previous message</a> ]
[ <a href="8216.html" title="Steve Davison: &quot;Re: [cc65] Zero page, C stack, and interrupts&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8235.html" title="Markus Stehr: &quot;Re: [cc65] Zero page, C stack, and interrupts&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Groepaz &lt;<a href="mailto:groepaz1gmx.net?Subject=Re:%20[cc65]%20Zero%20page,%20C%20stack,%20and%20interrupts">groepaz1gmx.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-04-28 16:45:45</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Mittwoch 28 April 2010, you wrote:
&gt; Well good sir, why aren't we all using Groenix by now?  I'd like to
&gt; give it a whirl myself.  

hehe well, as i wrote in an earlier mail, i keep my cc65 install bleeding edge 
(as in, i use a recent svn version) usually, and somehow it broke my stuff  
recently, no idea why. its also not quite finished or even useful at all, it 
&quot;boots&quot;, loads a shell, and then you can barely do more than &quot;ls&quot; and &quot;cat&quot; 
and &quot;ps&quot; =) the largest &quot;app&quot; that exists right now is the texteditor &quot;ned&quot; 
(which i ported from JOS/Wings), and that one is almost unuseable because of 
too little memory =P (infact, memory is the one big problem. its even worse 
than with contiki)

&gt; Are your libraries re-entrant?

most stuff is i guess, but the code is kinda ugly... for some functions (like 
xyprintf stuff) i just rewrote them in C, which makes them really large and 
slow, and some others i made work by wrapping critical parts into critical 
sections using semaphores (and that makes them specific to my kernel). that 
said, its maybe about 20 functions that need such fixes, not *that* much.

&gt; A fully capable paged memory extension cartridge would REALLY
&gt; come in handy for keeping re-entrant libraries fast.  But I
&gt; haven't built that quite yet, have I?

hehe well, that would kill all the fun for me though :) if it doesnt work on a 
stock c64, then i dont care =)
 
&gt; But then there's the careful use of CS and other semaphores.
&gt; If the O/S has good cooperative support, how much would you
&gt; REALLY need re-entrant code?  Most non-reentrant calls are
&gt; short enough that other processes can block w/o causing
&gt; problems.  Those that tie up shared memory for a long time
&gt; perhaps wouldn't gain much from all the shortcuts.

well, for cooperative multitasking you dont really need reentrant libraries at 
all (look at contiki for an example). my goal was a relativly simple and 
straightforward preemptive kernel, that allows to write apps more or less &quot;the 
usual way&quot; without dealing with special OS related stuff too much (there still 
is some ofcourse, for creating new tasks, pipes, semaphores etc). the only 
thing i have that could be called &quot;cooperative&quot; is the &quot;sleep&quot; systemcall.
 
-- 

<a href="http://www.hitmen-console.org">http://www.hitmen-console.org</a>    <a href="http://magicdisk.untergrund.net">http://magicdisk.untergrund.net</a>
<a href="http://www.pokefinder.org">http://www.pokefinder.org</a>        <a href="http://ftp.pokefinder.org">http://ftp.pokefinder.org</a>

Digital files cannot be made uncopyable, any more than water can be made not 
wet.

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Wed Apr 28 16:46:50 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8228.html" title="Next message in the list">silverdr1wfmh.org.pl: "Re: [cc65] Undersores required for all asm calls?"</a></li>
<li><dfn>Previous message</dfn>: <a href="8226.html" title="Previous message in the list">Mark J. Reed: "Re: [cc65] Undersores required for all asm calls?"</a></li>
<li><dfn>In reply to</dfn>: <a href="8216.html" title="Message to which this message replies">Steve Davison: "Re: [cc65] Zero page, C stack, and interrupts"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8235.html" title="Next message in this discussion thread">Markus Stehr: "Re: [cc65] Zero page, C stack, and interrupts"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8235.html" title="Message sent in reply to this message">Markus Stehr: "Re: [cc65] Zero page, C stack, and interrupts"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8227" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8227" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8227" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-04-28 16:46:53 CEST
</em></small></p>
</body>
</html>
