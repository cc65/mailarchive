<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] floating point support red</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] floating point support redux" />
<meta name="Date" content="2010-05-01" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] floating point support redux</h1>
<!-- received="Sat May  1 18:41:25 2010" -->
<!-- isoreceived="20100501164125" -->
<!-- sent="Sat, 1 May 2010 18:41:12 +0200" -->
<!-- isosent="20100501164112" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] floating point support redux" -->
<!-- id="20100501164112.GA17882@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="20100429100511.14F65136F1&#64;mail.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8265.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Re: floating point support redux&quot;">Next message</a> ]
[ <a href="8263.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] .import struct link_node&quot;">Previous message</a> ]
[ <a href="../2010-04/8021.html" title="Kevin Schuetz: &quot;[cc65] floating point support redux&quot;">Maybe in reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8289.html" title="Groepaz: &quot;Re: [cc65] floating point support redux&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20floating%20point%20support%20redux">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-05-01 18:41:12</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>I digged the following out of the trash.

Please keep in mind that the mailing list software will drop anything that has
too much quoted material, big attachments or whatever. If you don't get your
mail back from the mailing list, something went wrong. Unfortunately, I cannot
reconfigure majordomo to notify the sender, so in these cases it just gets
lost - provided that I don't check the trash, which I usually don't do.

On Thu, Apr 29, 2010 at 12:05:11PM +0200, Karri Kaksonen wrote:
&gt;  From a game writer's perspective the nice things in floats is to be
&gt; able to multiply by cos or sin.

The snapshot contains routines for this purpose. They use a fixed format,
however.

&gt; I would prefer IEEE754 half precision implementation to 16 bit floats.
&gt; It saves space and it is hopefully faster than 32 bit stuff.
&gt;
&gt; The minimum strictly positive (subnormal) value is 2-24 ? 5.96 × 10-8.
&gt; The minimum positive normal value is 2-14 ? 6.10 × 10-5.
&gt; The maximum representable value is 65504.

Now that's an idea. I have more or less abondoned the idea of standard
compliance with regard to floats, because 64 bit IEEE is definitely useless
for all practical purposes, 32 bit IEEE is not sufficient for a standard
compliant double data type, and an additional data type between 4 and 8 bytes
is non standard and has a high code overhead, because additional runtime
support routines are necessary, even for movement and stack operations.

So if cc65 isn't going to have a standard compliant floating point type
anyway, why not use IEEE single precision for &quot;double&quot; and IEEE half precision
for &quot;float&quot;? This might actually be a viable solution for both types. Does
anybody have experiences with this format?

The half precision format is explained here:

  <a href="http://en.wikipedia.org/wiki/Half_precision_floating-point_format">http://en.wikipedia.org/wiki/Half_precision_floating-point_format</a>

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sat May  1 18:41:25 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8265.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] Re: floating point support redux"</a></li>
<li><dfn>Previous message</dfn>: <a href="8263.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] .import struct link_node"</a></li>
<li><dfn>Maybe in reply to</dfn>: <a href="../2010-04/8021.html" title="Message to which this message replies">Kevin Schuetz: "[cc65] floating point support redux"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8289.html" title="Next message in this discussion thread">Groepaz: "Re: [cc65] floating point support redux"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8289.html" title="Message sent in reply to this message">Groepaz: "Re: [cc65] floating point support redux"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8264" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8264" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8264" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-05-01 18:41:28 CEST
</em></small></p>
</body>
</html>
