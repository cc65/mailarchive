<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] --create-dep for ca65?</title>
<meta name="Author" content="silverdr1wfmh.org.pl (silverdr1wfmh.org.pl)" />
<meta name="Subject" content="Re: [cc65] --create-dep for ca65?" />
<meta name="Date" content="2010-05-02" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] --create-dep for ca65?</h1>
<!-- received="Sun May  2 14:38:50 2010" -->
<!-- isoreceived="20100502123850" -->
<!-- sent="Sun, 2 May 2010 14:38:46 +0200" -->
<!-- isosent="20100502123846" -->
<!-- name="silverdr1wfmh.org.pl" -->
<!-- email="silverdr1wfmh.org.pl" -->
<!-- subject="Re: [cc65] &ndash;&ndash;create&ndash;dep for ca65?" -->
<!-- id="3C8B8A97-1442-4185-892B-8BCF4A9D0DDC@wfmh.org.pl" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="20100502095811.GA4303&#64;trixie.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8284.html" title="Payton Byrd: &quot;Re: [cc65] First alpha of CBM-Command now available&quot;">Next message</a> ]
[ <a href="8282.html" title="Markus Stehr: &quot;Re: [cc65] First alpha of CBM-Command now available&quot;">Previous message</a> ]
[ <a href="8279.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] --create-dep for ca65?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8288.html" title="Oliver Schmidt: &quot;Re: [cc65] --create-dep for ca65?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: &lt;<a href="mailto:silverdr1wfmh.org.pl?Subject=Re:%20[cc65]%20--create-dep%20for%20ca65?">silverdr1wfmh.org.pl</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-05-02 14:38:46</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On 2010-05-02, at 11:58, Ullrich von Bassewitz wrote:

&gt;&gt; There's another option that is as clean as the first one you supposed, and I'm
&gt;&gt; already finished implementing it (currently testing): The compiler gets a new
&gt;&gt; option --dep-target which allows one to specify the target of the generated
&gt;&gt; dependency. If an .o file is to be generated, the cl65 utility will then use
&gt;&gt; this option to set the target of the dependency to the .o file instead of the
&gt;&gt; .s file.
&gt; 
&gt; Ok, done. Please repeat your tests and let me know if there are any problems.

Bingo!!

I used a simple project example with each C and ASM source including both system and local headers plus .INCLUDE and .INCBIN respectively. With the exception of the (AFAIR recently discussed but don't remember the conclusion) paths for the included files, which seem to be relative to the directory of compiler/assembler invocation rather than the location of the source file - everything seems to work perfectly OK!

<a href="http://zennon.internetdsl.pl/cc65projtest.tar.bz2">http://zennon.internetdsl.pl/cc65projtest.tar.bz2</a>

holds the example and the latest Makefile..

-- 
SD!----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun May  2 14:38:50 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8284.html" title="Next message in the list">Payton Byrd: "Re: [cc65] First alpha of CBM-Command now available"</a></li>
<li><dfn>Previous message</dfn>: <a href="8282.html" title="Previous message in the list">Markus Stehr: "Re: [cc65] First alpha of CBM-Command now available"</a></li>
<li><dfn>In reply to</dfn>: <a href="8279.html" title="Message to which this message replies">Ullrich von Bassewitz: "Re: [cc65] --create-dep for ca65?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8288.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] --create-dep for ca65?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8288.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] --create-dep for ca65?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8283" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8283" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8283" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-05-02 14:38:53 CEST
</em></small></p>
</body>
</html>
