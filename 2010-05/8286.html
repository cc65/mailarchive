<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Relative paths during comp</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Relative paths during compilation" />
<meta name="Date" content="2010-05-02" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Relative paths during compilation</h1>
<!-- received="Sun May  2 15:05:15 2010" -->
<!-- isoreceived="20100502130515" -->
<!-- sent="Sun, 2 May 2010 15:05:04 +0200" -->
<!-- isosent="20100502130504" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Relative paths during compilation" -->
<!-- id="20100502130504.GA5611@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="E7B8004A45AB46EE9CA4F1CFC2317501&#64;hq.eset.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8287.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Relative paths during compilation&quot;">Next message</a> ]
[ <a href="8285.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] --create-dep for ca65?&quot;">Previous message</a> ]
[ <a href="../2010-01/7748.html" title="Jakub: &quot;[cc65] Relative paths during compilation&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8287.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Relative paths during compilation&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Relative%20paths%20during%20compilation">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-05-02 15:05:04</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Back to another topic:

On Thu, Jan 14, 2010 at 04:50:43PM +0100, Jakub wrote:
&gt; Is this a bug, or feature (will be in future versions) that files
&gt; are included relative to the 'current directory', not to the
&gt; directory where the includer resides. This behavior is for asm and C
&gt; files (.incbin, #include).
&gt; My project is getting bigger and I would like to split sources to
&gt; different directories, but now I cannot do #include
&gt; &quot;..\upper_dir\otherfile.h&quot;, because it depends on the directory,
&gt; where the compilation was started (by cl65).

Does anybody know how this is handled in other compilers? The standard doesn't
say anything about directories, so it's depending on the implementation how
the argument of #include is handled.

If I'm going to change the current behaviour, I can:

  1. Remember the path of the current file and add it to the argument of
     #include. This will get quite nasty because of the differences in path
     separators, UNC paths in windows, and drives in DOS based operating
     systems. I've managed to keep most of this stuff out of cc65, which is
     one reason why the the tools are rather portable.

  2. Simply add the path of the current input file to the search list. This
     would have the effect that following #include files would also be
     searched using this path. I'm not quite sure about the consequences,
     however. Currently, there is no definite order of search paths. It may
     happen that a file is also found in some other search path. Anyway, this
     seems to be the easier alternative. Or am I overlooking something?

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun May  2 15:05:15 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8287.html" title="Next message in the list">silverdr1wfmh.org.pl: "Re: [cc65] Relative paths during compilation"</a></li>
<li><dfn>Previous message</dfn>: <a href="8285.html" title="Previous message in the list">silverdr1wfmh.org.pl: "Re: [cc65] --create-dep for ca65?"</a></li>
<li><dfn>In reply to</dfn>: <a href="../2010-01/7748.html" title="Message to which this message replies">Jakub: "[cc65] Relative paths during compilation"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8287.html" title="Next message in this discussion thread">silverdr1wfmh.org.pl: "Re: [cc65] Relative paths during compilation"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8287.html" title="Message sent in reply to this message">silverdr1wfmh.org.pl: "Re: [cc65] Relative paths during compilation"</a></li>
<li><dfn>Reply</dfn>:  <a href="8291.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Relative paths during compilation"</a></li>
<li><dfn>Reply</dfn>:  <a href="8302.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Relative paths during compilation"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8286" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8286" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8286" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-05-02 15:05:18 CEST
</em></small></p>
</body>
</html>
