<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Universal Makefile: Some a</title>
<meta name="Author" content="silverdr1wfmh.org.pl (silverdr1wfmh.org.pl)" />
<meta name="Subject" content="Re: [cc65] Universal Makefile: Some advanced magic wanted?" />
<meta name="Date" content="2010-05-04" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Universal Makefile: Some advanced magic wanted?</h1>
<!-- received="Tue May  4 01:05:39 2010" -->
<!-- isoreceived="20100503230539" -->
<!-- sent="Tue, 4 May 2010 01:05:30 +0200" -->
<!-- isosent="20100503230530" -->
<!-- name="silverdr1wfmh.org.pl" -->
<!-- email="silverdr1wfmh.org.pl" -->
<!-- subject="Re: [cc65] Universal Makefile: Some advanced magic wanted?" -->
<!-- id="819DBD03-1D4A-4E2B-91F7-E108086DF55A@wfmh.org.pl" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="r2w1002edb71005031240o947e35e6g35b7eef2d75c8e95&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8329.html" title="Shawn Jefferson: &quot;RE: [cc65] Coding style for apps: One huge header file, or a domain specific	header files?&quot;">Next message</a> ]
[ <a href="8327.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] --create-dep for ca65?&quot;">Previous message</a> ]
[ <a href="8320.html" title="Oliver Schmidt: &quot;Re: [cc65] Universal Makefile: Some advanced magic wanted?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8409.html" title="Oliver Schmidt: &quot;Re: [cc65] Universal Makefile: Some advanced magic wanted?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: &lt;<a href="mailto:silverdr1wfmh.org.pl?Subject=Re:%20[cc65]%20Universal%20Makefile:%20Some%20advanced%20magic%20wanted?">silverdr1wfmh.org.pl</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-05-04 01:05:30</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On 2010-05-03, at 21:40, Oliver Schmidt wrote:

Well - for the beginning - please don't get me wrong! I don't try to shoot the idea down. I am a big fan of your make voodoo skills, and this one proves them too. Now to the point I tried to think aloud in my previous post - if that can be done in a way that will allow people who are far beyond you in their magicians careers to quickly (or better: not have to) understand what are the spells in there, then it is OK. If the flags are grouped logically around the beginning, and if the comments could also tell that e.g. &quot;the options here are valid as of cl65 version x.yy.zz, please verify and adapt to the version you are using&quot; or something along those lines - then it should be a good compromise, which still undoubtedly would add value.

&gt;&gt; - I personally never wanted to type more than make [install|clean|..]
&gt; 
&gt; What's the alternative? Editing the Makefile to adjust CFLAGS and
&gt; friends to your needs? Then you can as well edit it to include a line
&gt; OPTIONS=... and still have the benefit of not having to fiddle with
&gt; the flags directly.

Right.

&gt; However I think the real idea behind a Universal Makefile is that it
&gt; doesn't serve as a template but rather as something to be considered
&gt; r/o. Otherwise you wouldn't need the
&gt; name-the-program-like-the-directory trick.

I see it a bit differently. It should allow me (others) to kick-start a project without thinking too much of anything else than how to code this or that in C. Certainly I don't want to think how to create a Makefile, which may be as complex as the quick test I want to do in C and/or ASM e.g. just as a proof of concept for some idea. I just want to type &quot;make&quot; and there it goes. *BUT* it would also be great if I didn't have to write my own Makefile from scratch once the project grows and some more specific needs arise.

&gt; This way you define WHAT to
&gt; build. But still you need a way to control HOW to build it. And there
&gt; OPTIONS kicks in.

My previous paragraph does not exclude that. Again - I wanted to put attention on HOW to do this. I might not have been completely clear but it was not IF to do it. Just so that at least the two last points I raised are taken into account.

&gt; Most likely I'm to biased here: I'd say that even without fully
&gt; understanding how the code I proposed here actually works it is clear
&gt; what it wants to do - and that it can just be removed if not desired.
&gt; A meaning comment could support that.

!

&gt;&gt; - Those options will have to get hardcoded, and (in case we ever convince Uz to put it into base) will have to be maintained along with the toolset, and in (quite possible) case it gets forgotten/omitted when some changes to the options happen (unlikely but still possible) the users may get unpredictable results of the type you wrote you wanted to avoid
&gt; 
&gt;&gt; From my experience the cc65 toolchain flags are very stable. The
&gt; incompatible change with --create-dep is really an expeption to the
&gt; rule.

Yes - but you immediately noticed what I meant here.

&gt;&gt; Having written all that - it still looks tempting. And I also like the $(REMOVES) idea a lot. Hm, if it was done in an elegant way with the last two points above in mind... thinking aloud.. like with things being easily configurable somewhere at the top and disabled by default, with clear messages... hm ;-)
&gt; 
&gt; After all it's just a proposal.

And an interesting and tempting one, especially knowing that you can do such stuff with little finger of your left hand ;-) Let me try be more clear now: the answet is &quot;yes, please - only have the two points in head when structuring and commenting it&quot;.

-- 
SD!

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue May  4 01:05:39 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8329.html" title="Next message in the list">Shawn Jefferson: "RE: [cc65] Coding style for apps: One huge header file, or a domain specific	header files?"</a></li>
<li><dfn>Previous message</dfn>: <a href="8327.html" title="Previous message in the list">silverdr1wfmh.org.pl: "Re: [cc65] --create-dep for ca65?"</a></li>
<li><dfn>In reply to</dfn>: <a href="8320.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] Universal Makefile: Some advanced magic wanted?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8409.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Universal Makefile: Some advanced magic wanted?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8409.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Universal Makefile: Some advanced magic wanted?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8328" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8328" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8328" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-05-04 01:05:42 CEST
</em></small></p>
</body>
</html>
