<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: [cc65] Access to debug information</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="[cc65] Access to debug information" />
<meta name="Date" content="2010-08-01" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>[cc65] Access to debug information</h1>
<!-- received="Sun Aug  1 20:17:55 2010" -->
<!-- isoreceived="20100801181755" -->
<!-- sent="Sun, 1 Aug 2010 20:17:48 +0200" -->
<!-- isosent="20100801181748" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="[cc65] Access to debug information" -->
<!-- id="20100801181748.GA18810@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8526.html" title="Spiro Trikaliotis: &quot;Re: [cc65] Access to debug information&quot;">Next message</a> ]
[ <a href="../2010-07/8524.html" title="Groepaz: &quot;Re: [cc65] C128 colors ?&quot;">Previous message</a> ]
<!-- unextthread="start" -->
 [ <a href="8526.html" title="Spiro Trikaliotis: &quot;Re: [cc65] Access to debug information&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Access%20to%20debug%20information">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-08-01 20:17:48</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Good evening!

As some may know, there is an experimental --dbgfile option that can be given
to the linker. As a result, the linker generates a text file that contains
debug information collected from the object files. Format and contents of the
file are experimental and there is quite some stuff missing.

Upon request from a user, I've added line information from assembler files
lately. Line information from C sources has already been there, but for
historical reasons, line information for the assembler files has been embedded
in the object files, but wasn't written to the debug information file.

When I added support for the debug info file, my plan was to add a module that
parses these files and is able to make the information available to other
applications (emulators or whatever) using a - hopefully very simple - API.
This module can then be used by other applications to access the information
contained in the debug info files. But since I have more good ideas than time
to implement them, this module was never written.

Since the topic came up again the last few days, and I'm currently working on
the matter, the question is if this is the right time to implement the access
module. I don't have the time to do the full stuff (symbols et al), so my idea
was to write the basic routines (parsing, data) and give access to the line
information.

This would basically mean, that it is possible for an emulator to add support
for a source level view of the debugged code. Since - for a start - only line
information is available, debugging C code this way isn't of much use, but it
would be an advantage for assembler programmers, since they can step through
the actual source when debugging.

Now the question is, if having such a module would be worth the trouble? I can
see several advantages:

  * Even when writing assembler programs, it's nice to have a source level
    view with all the comments and symbol names.

  * It is some work for me, but once I'm done, I can lean back and wait if
    others make use of it. If not, I have an excuse for not spending more
    time on it:-)

  * Once people make use of such a module, I can make more information from
    the debug files available, step by step.

The disadvantage is that it is work for me. So I would like to know if there
is interest in such a module especially by people in charge of the emulators.
Provided you have a C module with a few simple entry points like

        read_dbgfile(name)
        get_lineinfo(addr)

and a permissive license that allows embedding this module in your code, would
you be interested in adding support for additional features based on the debug
information? If so, please let me know :-)

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Aug  1 20:17:55 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8526.html" title="Next message in the list">Spiro Trikaliotis: "Re: [cc65] Access to debug information"</a></li>
<li><dfn>Previous message</dfn>: <a href="../2010-07/8524.html" title="Previous message in the list">Groepaz: "Re: [cc65] C128 colors ?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8526.html" title="Next message in this discussion thread">Spiro Trikaliotis: "Re: [cc65] Access to debug information"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8526.html" title="Message sent in reply to this message">Spiro Trikaliotis: "Re: [cc65] Access to debug information"</a></li>
<li><dfn>Reply</dfn>:  <a href="8527.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Access to debug information"</a></li>
<li><dfn>Reply</dfn>:  <a href="8528.html" title="Message sent in reply to this message">Groepaz: "Re: [cc65] Access to debug information"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8525" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8525" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8525" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-08-01 20:17:58 CEST
</em></small></p>
</body>
</html>
