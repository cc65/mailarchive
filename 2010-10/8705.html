<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] CBM LFN Question</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] CBM LFN Question" />
<meta name="Date" content="2010-10-25" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] CBM LFN Question</h1>
<!-- received="Mon Oct 25 21:55:30 2010" -->
<!-- isoreceived="20101025195530" -->
<!-- sent="Mon, 25 Oct 2010 21:55:22 +0200" -->
<!-- isosent="20101025195522" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] CBM LFN Question" -->
<!-- id="20101025195522.GA13652@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="20101025091910.GG23228&#64;trikaliotis.net" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8706.html" title="Groepaz: &quot;Re: [cc65] CBM LFN Question&quot;">Next message</a> ]
[ <a href="8704.html" title="Spiro Trikaliotis: &quot;Re: [cc65] CBM LFN Question&quot;">Previous message</a> ]
[ <a href="8704.html" title="Spiro Trikaliotis: &quot;Re: [cc65] CBM LFN Question&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8706.html" title="Groepaz: &quot;Re: [cc65] CBM LFN Question&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20CBM%20LFN%20Question">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-10-25 21:55:22</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi,

thanks for the elaboration!

On Mon, Oct 25, 2010 at 11:19:11AM +0200, Spiro Trikaliotis wrote:
&gt; The addresses for other Commodore computers are:
&gt;
&gt;             C64    VIC20    C128    PLUS4
&gt; - mOPEN:   $F377   $F437   $EFDF    $EF7B
&gt; - mCLOSE:  $F29D   $F356   $F194    $EE6B
&gt; - mCHKIN:  $F21B   $F2D4   $F10E    $F219
&gt; - mCHKOUT: $F25D   $F316   $F154    $ED6B

That means jumps to the kernal ROM outside of the official entry points. I'm
sure this will work, but it may also cause incompatibilities with third party
kernals (JiffyDOS, SpeedDOS, ...) or different kernal versions. The current
code for the CBM-II machines cannot access random ROM locations, only
&quot;official&quot; entry points are supported. I doubt that there are enough
advantages to justify the change.

Using one lfn and one table entry that is internally rewritten by the cc65
library does also need machine dependent code, but it doesn't need to jump to
arbitrary ROM locations, so this seems to be more portable to me.

Anyway: Having working opendir/readdir/closedir routines for the CBMs will
remove most needs to use CBM file I/O at all, so I see this as the preferred
way to get rid of the problem.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Oct 25 21:55:30 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8706.html" title="Next message in the list">Groepaz: "Re: [cc65] CBM LFN Question"</a></li>
<li><dfn>Previous message</dfn>: <a href="8704.html" title="Previous message in the list">Spiro Trikaliotis: "Re: [cc65] CBM LFN Question"</a></li>
<li><dfn>In reply to</dfn>: <a href="8704.html" title="Message to which this message replies">Spiro Trikaliotis: "Re: [cc65] CBM LFN Question"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8706.html" title="Next message in this discussion thread">Groepaz: "Re: [cc65] CBM LFN Question"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8706.html" title="Message sent in reply to this message">Groepaz: "Re: [cc65] CBM LFN Question"</a></li>
<li><dfn>Reply</dfn>:  <a href="8708.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] CBM LFN Question"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8705" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8705" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8705" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-10-25 21:55:33 CEST
</em></small></p>
</body>
</html>
