<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] ca65 for stand-alone asm p</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] ca65 for stand-alone asm projects" />
<meta name="Date" content="2010-11-02" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] ca65 for stand-alone asm projects</h1>
<!-- received="Tue Nov  2 20:37:59 2010" -->
<!-- isoreceived="20101102193759" -->
<!-- sent="Tue, 2 Nov 2010 20:37:47 +0100" -->
<!-- isosent="20101102193747" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] ca65 for stand-alone asm projects" -->
<!-- id="20101102193747.GA30945@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="AANLkTiksr2kCib8jm9PZnUr=A__KAq=LiAkNKukO2gyT&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8745.html" title="Agent Friday: &quot;Re: [cc65] ca65 for stand-alone asm projects&quot;">Next message</a> ]
[ <a href="8743.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Bug(s) with -O/--static-locals?&quot;">Previous message</a> ]
[ <a href="8736.html" title="Agent Friday: &quot;Re: [cc65] ca65 for stand-alone asm projects&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8745.html" title="Agent Friday: &quot;Re: [cc65] ca65 for stand-alone asm projects&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20ca65%20for%20stand-alone%20asm%20projects">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-11-02 20:37:47</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Mon, Nov 01, 2010 at 10:52:41PM -0700, Agent Friday wrote:
&gt; Correct me if I'm wrong, but this seems to be mostly (or entirely)
&gt; absent from the documentation.  I doubt that I am the first to
&gt; stumble on this need.  IMO, if ca65 is to be used as one's primary
&gt; assembler and not just for code that supplements a cc65 project,
&gt; then the ability to generate a very simple binary file that can be
&gt; loaded directly into a stock machine is a must.

ca65 is not target specific and the whole package is made so that it is easy
to retarget it to other platforms. There are many machines that use a special
header for executable files. For example, the Commodores have a load address
prepended, or may have a BASIC stub that allows the program to be started by
just typing RUN instead of SYS 12345.

For this reason, platform specific headers aren't added by the assembler or
linker, and this in turn is the reason why there is nothing to document. I'm
quite busy documenting all the things, done by the tools. If I had to add
anything that is *not* done, I could spend the rest of my life with it:-)

What that means is that you have to add necessary headers yourself. Since the
generated code is relocatable, this is easier than you think. With a module
like

        .segment        DISKHEADER
        .word           Start
        Start:

you can add DISKHEADER as the first segment in the output file, and this will
work regardless for which target address the executable binary is linked. It
works similar with other headers. You may want to have a look at the startup
files (crt0.s) for the different platforms to get the idea.

&gt; I'd like to help improve the documentation in this respect... Unless
&gt; Uz prefers I go about it differently, I would just type it up in the
&gt; wiki first, then identify places in the help files that could be
&gt; made clearer.

Of course any help is welcome, and the wiki is a great place to add stuff like
this. Thanks for your efforts!

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Nov  2 20:37:59 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8745.html" title="Next message in the list">Agent Friday: "Re: [cc65] ca65 for stand-alone asm projects"</a></li>
<li><dfn>Previous message</dfn>: <a href="8743.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] Bug(s) with -O/--static-locals?"</a></li>
<li><dfn>In reply to</dfn>: <a href="8736.html" title="Message to which this message replies">Agent Friday: "Re: [cc65] ca65 for stand-alone asm projects"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8745.html" title="Next message in this discussion thread">Agent Friday: "Re: [cc65] ca65 for stand-alone asm projects"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8745.html" title="Message sent in reply to this message">Agent Friday: "Re: [cc65] ca65 for stand-alone asm projects"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8744" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8744" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8744" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-11-02 20:38:01 CET
</em></small></p>
</body>
</html>
