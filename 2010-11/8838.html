<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Forced imports by linker c</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Forced imports by linker config" />
<meta name="Date" content="2010-11-12" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Forced imports by linker config</h1>
<!-- received="Fri Nov 12 17:09:53 2010" -->
<!-- isoreceived="20101112160953" -->
<!-- sent="Fri, 12 Nov 2010 17:09:43 +0100" -->
<!-- isosent="20101112160943" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Forced imports by linker config" -->
<!-- id="20101112160943.GA26306@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="AANLkTi=EqB62H+wXeRvpEtx1kqRD8b5DKhxAy_dcvhfg&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8839.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Forced imports by linker config&quot;">Next message</a> ]
[ <a href="8837.html" title="Oliver Schmidt: &quot;Re: [cc65] Forced imports by linker config&quot;">Previous message</a> ]
[ <a href="8837.html" title="Oliver Schmidt: &quot;Re: [cc65] Forced imports by linker config&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="8841.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Forced imports by linker config&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Forced%20imports%20by%20linker%20config">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-11-12 17:09:43</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Fri, Nov 12, 2010 at 04:47:31PM +0100, Oliver Schmidt wrote:
&gt; Are you going to modify the startup code / default linker config for
&gt; one target (i.e. c64) to serve as an example on how to leverage the
&gt; new model for the &quot;usual&quot; scenario?

I would prefer to get some feedback and doing some experimenting with the new
features then discuss the possible changes in a few weeks or so.

[-o switch, order of command line arguments]
&gt; That seems quite surprising to the ordinary user. Normally one tends
&gt; to put the '-o' rather towards the end of a compiler / linker
&gt; cmdline...

Unfortunately I don't see a way around it. The config file may contain
imports, so it must be read before the libraries that may contain the matching
exports. On the other side, the config file usually references the output file
name using %O, which in turn means, it must be known when it is read.

Since I felt into that pit myself (the library makefiles had the wrong order,
so the linker happily generated drivers with an output name of &quot;a.out&quot;), I've
added a warning to the linker. If %O has been used in the config, and -o is
given later on the command line, you will get a diagnostic.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Nov 12 17:09:53 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8839.html" title="Next message in the list">silverdr1wfmh.org.pl: "Re: [cc65] Forced imports by linker config"</a></li>
<li><dfn>Previous message</dfn>: <a href="8837.html" title="Previous message in the list">Oliver Schmidt: "Re: [cc65] Forced imports by linker config"</a></li>
<li><dfn>In reply to</dfn>: <a href="8837.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] Forced imports by linker config"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8841.html" title="Next message in this discussion thread">silverdr1wfmh.org.pl: "Re: [cc65] Forced imports by linker config"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8841.html" title="Message sent in reply to this message">silverdr1wfmh.org.pl: "Re: [cc65] Forced imports by linker config"</a></li>
<li><dfn>Reply</dfn>:  <a href="8864.html" title="Message sent in reply to this message">thefox xofeht: "Re: [cc65] Forced imports by linker config"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8838" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8838" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8838" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-11-12 17:09:57 CET
</em></small></p>
</body>
</html>
