<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: [cc65] fopen</title>
<meta name="Author" content="Stefan (montecarlos1gmx.net)" />
<meta name="Subject" content="[cc65] fopen" />
<meta name="Date" content="2010-11-14" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>[cc65] fopen</h1>
<!-- received="Sun Nov 14 18:47:30 2010" -->
<!-- isoreceived="20101114174730" -->
<!-- sent="Sun, 14 Nov 2010 18:47:25 +0100" -->
<!-- isosent="20101114174725" -->
<!-- name="Stefan" -->
<!-- email="montecarlos1gmx.net" -->
<!-- subject="[cc65] fopen" -->
<!-- id="20101114174725.142980@gmx.net" -->
<!-- charset="utf-8" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="8872.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] fopen&quot;">Next message</a> ]
[ <a href="8870.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] Linker config for assembler users&quot;">Previous message</a> ]
<!-- unextthread="start" -->
 [ <a href="8872.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] fopen&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Stefan &lt;<a href="mailto:montecarlos1gmx.net?Subject=Re:%20[cc65]%20fopen">montecarlos1gmx.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2010-11-14 18:47:25</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Dear CC65 community,

i created a c64 program with cc65 version 2.13.9 under the windows system and would like to write an artstudio pic with fopen and fwrite either to the c64 file system or to the windows fs.
Art studio pics have &quot; pic&quot; appended to the filename which is maximum 12 character long, therefore. The &quot; pic&quot; must be the last 4 characters of the filename. 
Using fopen i can open a file called &quot;xyz&quot; without problems, but not 
&quot;   xyz&quot;. Using space characters in the filename, fopen returns a zero pointer which means an error. See below.
This was compiled with cc65 2.13.9 without the -O flag with the C64 as target system. 
I guess this is due to the windows convention, that space is not allowed in filenames (when not using long filenames). Is there a workaround?
I really need those spaces in the filename, else i cannot save as ArtStudio!


#include &lt;stdio.h&gt;

void main(void){
	FILE* test;
	
	printf(&quot;fopen return: %x&quot;, test=fopen(&quot;xyz&quot;,&quot;w&quot;));
	
	fclose(test);
}

output = $15da



#include &lt;stdio.h&gt;

void main(void){
	FILE* test;
	
	printf(&quot;fopen return: %x&quot;, test=fopen(&quot;   xyz&quot;,&quot;w&quot;));
	
	fclose(test);
}

output = 0


Monte Carlos

-- 
Neu: GMX De-Mail - Einfach wie E-Mail, sicher wie ein Brief!  
Jetzt De-Mail-Adresse reservieren: <a href="http://portal.gmx.net/de/go/demail">http://portal.gmx.net/de/go/demail</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Nov 14 18:47:30 2010</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="8872.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] fopen"</a></li>
<li><dfn>Previous message</dfn>: <a href="8870.html" title="Previous message in the list">Ullrich von Bassewitz: "Re: [cc65] Linker config for assembler users"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="8872.html" title="Next message in this discussion thread">Ullrich von Bassewitz: "Re: [cc65] fopen"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="8872.html" title="Message sent in reply to this message">Ullrich von Bassewitz: "Re: [cc65] fopen"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#8871" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#8871" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#8871" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2010-11-14 18:47:32 CET
</em></small></p>
</body>
</html>
