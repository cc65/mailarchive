<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Calling another program: e</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Calling another program: exec() ?" />
<meta name="Date" content="2011-01-24" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Calling another program: exec() ?</h1>
<!-- received="Mon Jan 24 16:03:48 2011" -->
<!-- isoreceived="20110124150348" -->
<!-- sent="Mon, 24 Jan 2011 16:03:39 +0100" -->
<!-- isosent="20110124150339" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Calling another program: exec() ?" -->
<!-- id="20110124150339.GA31851@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="5625E2D4-8B03-4DE5-9482-9615E5858E3C&#64;wfmh.org.pl" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="9175.html" title="Oliver Schmidt: &quot;Re: [cc65] Calling another program: exec() ?&quot;">Next message</a> ]
[ <a href="9173.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Calling another program: exec() ?&quot;">Previous message</a> ]
[ <a href="9173.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Calling another program: exec() ?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="9177.html" title="Oliver Schmidt: &quot;Re: [cc65] Calling another program: exec() ?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Calling%20another%20program:%20exec()%20?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2011-01-24 16:03:39</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Mon, Jan 24, 2011 at 03:34:26PM +0100, silverdr&#64;wfmh&#46;<!--nospam-->org.pl wrote:
&gt; Depends how we define &quot;nasty&quot; ;-) My definition would apply if we would like
&gt; to account for _every_ possible combination of load addresses/starting
&gt; methods. If we come up with sensible convention for the external prgs to be
&gt; started, it could fit into &quot;reasonable&quot; pool of tricks.

Ok, lets say it this way: If we find an area of reasonable size that is &quot;safe&quot;
to use, it's doable. Unfortunately the chance of collisions is very high,
because there are not that many free code locations.

&gt; &gt; The best idea would probably be to actually terminate the running program and
&gt; &gt; run a new one instead, eventually passing some arguments as if they were
&gt; &gt; passed on the &quot;command line&quot;. This is the easiest and cleanest solution.
&gt;
&gt; This seem to fit into the same place as the stub-loader you mentioned. Get
&gt; into &quot;safe&quot; place then exit the caller plus load'n run the callee.

Yes, exactly. It needs such a stub loader.

Provided that we find such a place, how about the following: The startup code
writes an RTS to the start of this memory area and jumps to it after the
program terminates. This means 8 bytes overhead of the startup code. Or it
could even be placed into a constructor. An &quot;exec&quot; module can then replace the
RTS by code loading and starting another app, and simply terminate using
exit(). The startup code then jumps to the replacement code after all of the
termination code has been run.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Jan 24 16:03:48 2011</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="9175.html" title="Next message in the list">Oliver Schmidt: "Re: [cc65] Calling another program: exec() ?"</a></li>
<li><dfn>Previous message</dfn>: <a href="9173.html" title="Previous message in the list">silverdr1wfmh.org.pl: "Re: [cc65] Calling another program: exec() ?"</a></li>
<li><dfn>In reply to</dfn>: <a href="9173.html" title="Message to which this message replies">silverdr1wfmh.org.pl: "Re: [cc65] Calling another program: exec() ?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="9177.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Calling another program: exec() ?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="9177.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Calling another program: exec() ?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#9174" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#9174" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#9174" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2011-01-24 16:03:51 CET
</em></small></p>
</body>
</html>
