<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Problems with ORG directiv</title>
<meta name="Author" content="Sidney Cadot (sidney1jigsaw.nl)" />
<meta name="Subject" content="Re: [cc65] Problems with ORG directive and linker" />
<meta name="Date" content="2011-03-30" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Problems with ORG directive and linker</h1>
<!-- received="Wed Mar 30 19:23:38 2011" -->
<!-- isoreceived="20110330172338" -->
<!-- sent="Wed, 30 Mar 2011 19:23:31 +0200" -->
<!-- isosent="20110330172331" -->
<!-- name="Sidney Cadot" -->
<!-- email="sidney1jigsaw.nl" -->
<!-- subject="Re: [cc65] Problems with ORG directive and linker" -->
<!-- id="AANLkTimHwgXyFgvjHygR+pNuiJ7uijScFjeKBsOH=DGj@mail.gmail.com" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="201103301854.26201.marc&#64;rintsch.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="9310.html" title="Groepaz: &quot;Re: [cc65] Problems with ORG directive and linker&quot;">Next message</a> ]
[ <a href="9308.html" title="Groepaz: &quot;Re: [cc65] Problems with ORG directive and linker&quot;">Previous message</a> ]
[ <a href="9307.html" title="Marc 'BlackJack' Rintsch: &quot;Re: [cc65] Problems with ORG directive and linker&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="9310.html" title="Groepaz: &quot;Re: [cc65] Problems with ORG directive and linker&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Sidney Cadot &lt;<a href="mailto:sidney1jigsaw.nl?Subject=Re:%20[cc65]%20Problems%20with%20ORG%20directive%20and%20linker">sidney1jigsaw.nl</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2011-03-30 19:23:31</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi Marc,

There are two issues with your suggested approach when applied to my code.

First, many of the .ORG statements take an expression as their argument.

Second, the code contains a lot of .ORGs to the same address, this
technique (hack) is used by the original authors to emit a byte that
indicates whether a piece of code collides with the code that is
supposed to come after it.

The frustrating thing is that ca65 accepts this without a problem, and
emits a perfectly good &quot;listing&quot; file where all addresses and values
are fine, but due to the unusual ORG semantics, the emitted object
file is different. It is a bit weird to realize that the addresses as
emitted in listing files are not to be interpreted as the actual
addresses where stuff will end up.

(For those interested, my codebase is the original Atari 400/800 OS
RevB, which I scanned, OCR'ed, and proof-read).

Cheerio, Sidney
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Wed Mar 30 19:23:38 2011</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="9310.html" title="Next message in the list">Groepaz: "Re: [cc65] Problems with ORG directive and linker"</a></li>
<li><dfn>Previous message</dfn>: <a href="9308.html" title="Previous message in the list">Groepaz: "Re: [cc65] Problems with ORG directive and linker"</a></li>
<li><dfn>In reply to</dfn>: <a href="9307.html" title="Message to which this message replies">Marc 'BlackJack' Rintsch: "Re: [cc65] Problems with ORG directive and linker"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="9310.html" title="Next message in this discussion thread">Groepaz: "Re: [cc65] Problems with ORG directive and linker"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="9310.html" title="Message sent in reply to this message">Groepaz: "Re: [cc65] Problems with ORG directive and linker"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#9309" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#9309" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#9309" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2011-03-30 19:23:41 CEST
</em></small></p>
</body>
</html>
