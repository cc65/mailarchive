<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] A Bad Change to &quot;tgi.</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] A Bad Change to &quot;tgi.h&quot;" />
<meta name="Date" content="2011-04-22" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] A Bad Change to &quot;tgi.h&quot;</h1>
<!-- received="Fri Apr 22 20:41:06 2011" -->
<!-- isoreceived="20110422184106" -->
<!-- sent="Fri, 22 Apr 2011 20:39:52 +0200" -->
<!-- isosent="20110422183952" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] A Bad Change to &quot;tgi.h&quot;" -->
<!-- id="20110422183952.GA6022@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="000c01cc0110$9e4c3240$443efea9&#64;monarch" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="9349.html" title="Greg King: &quot;Re: [cc65] A Bad Change to &quot;tgi.h&quot;&quot;">Next message</a> ]
[ <a href="9347.html" title="Greg King: &quot;[cc65] A Bad Change to &quot;tgi.h&quot;&quot;">Previous message</a> ]
[ <a href="9347.html" title="Greg King: &quot;[cc65] A Bad Change to &quot;tgi.h&quot;&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="9349.html" title="Greg King: &quot;Re: [cc65] A Bad Change to &quot;tgi.h&quot;&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20A%20Bad%20Change%20to%20&amp;quot;tgi.h&amp;quot;">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2011-04-22 20:39:52</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Fri, Apr 22, 2011 at 01:10:01PM -0400, Greg King wrote:
&gt; I am unhappy with the April 20th patch to &lt;tgi.h&gt;.
&gt;
&gt; I believe that TGI's black and white colors should be defined globally.
&gt; They should be 0 and 1 on _all_ platforms -- they shouldn't be
&gt; target-specific.  On targets where the hardware uses different numbers,
&gt; the graphics drivers should remap the numbers.
&gt;
&gt; I recall that one of the reasons why we decided to do things that way is
&gt; so that tgi_init() can set the initial color to WHITE without needing to
&gt; know anything about any specific target and its hardware.

I've discussed this with Oliver before he made the change (or, more exactly,
he discussed it with me :-). There are platforms where black and white have
other color codes than 0 and 1. So for these platforms we would need to
translate colors at runtime, which costs memory and CPU cycles.

So Oliver suggested to supply the values for black and white as target
specific values that come from linkable modules. This means that tgi_init
works as before: It will still set the initial color to WHITE. The only change
is that the constant will (in the future) come from a platform specific module
via the linker.

So we get the best of two worlds: Nothing will change in regard to tgi_init or
other tgi functions relying on the color codes for black and white, but we
don't need translation for platforms that don't use 0 for black and 1 for
white.

The only exception are platforms were different drivers use different color
codes. In this case some of them need to use translation.

Maybe it's the fact that the change is currently not complete that causes your
worries. Please be patient, I'm sure Oliver will do the remaining changes
shortly.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Apr 22 20:41:06 2011</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="9349.html" title="Next message in the list">Greg King: "Re: [cc65] A Bad Change to &quot;tgi.h&quot;"</a></li>
<li><dfn>Previous message</dfn>: <a href="9347.html" title="Previous message in the list">Greg King: "[cc65] A Bad Change to &quot;tgi.h&quot;"</a></li>
<li><dfn>In reply to</dfn>: <a href="9347.html" title="Message to which this message replies">Greg King: "[cc65] A Bad Change to &quot;tgi.h&quot;"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="9349.html" title="Next message in this discussion thread">Greg King: "Re: [cc65] A Bad Change to &quot;tgi.h&quot;"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="9349.html" title="Message sent in reply to this message">Greg King: "Re: [cc65] A Bad Change to &quot;tgi.h&quot;"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#9348" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#9348" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#9348" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2011-04-22 20:41:09 CEST
</em></small></p>
</body>
</html>
