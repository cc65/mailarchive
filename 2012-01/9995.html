<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Lightly Off topic: Need so</title>
<meta name="Author" content="Oliver Schmidt (ol.sc1web.de)" />
<meta name="Subject" content="Re: [cc65] Lightly Off topic: Need some advice on saving data" />
<meta name="Date" content="2012-01-27" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Lightly Off topic: Need some advice on saving data</h1>
<!-- received="Fri Jan 27 21:48:07 2012" -->
<!-- isoreceived="20120127204807" -->
<!-- sent="Fri, 27 Jan 2012 21:47:58 +0100" -->
<!-- isosent="20120127204758" -->
<!-- name="Oliver Schmidt" -->
<!-- email="ol.sc1web.de" -->
<!-- subject="Re: [cc65] Lightly Off topic: Need some advice on saving data" -->
<!-- id="CACT=u70SUyvwHtYt0AyVsxDoxWjwogwti2pLykH1Kfbni_LaJg@mail.gmail.com" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="CAJm6qqcpgof9FqjFDYHTnFF+mw3V_C3Ow3_YnSGTF9dveJE=AA&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="9996.html" title="Oliver Schmidt: &quot;Re: [cc65] Heise article&quot;">Next message</a> ]
[ <a href="9994.html" title="Payton Byrd: &quot;[cc65] Lightly Off topic: Need some advice on saving data&quot;">Previous message</a> ]
[ <a href="9994.html" title="Payton Byrd: &quot;[cc65] Lightly Off topic: Need some advice on saving data&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Oliver Schmidt &lt;<a href="mailto:ol.sc1web.de?Subject=Re:%20[cc65]%20Lightly%20Off%20topic:%20Need%20some%20advice%20on%20saving%20data">ol.sc1web.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-01-27 21:47:58</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi Payton,

&gt; I need some advice on saving data for my game.  I would like to use cbm_save
&gt; to simply save a block of memory containing the state of the game to disk,
&gt; basically just a memory dump.  I think I should be safe to simply save
&gt; everything in my RAM segment.  My question is whether or not this will
&gt; include the software stack so that after doing a cbm_load everything will be
&gt; kosher and ready to go?

This just won't work out that way. The &quot;internal state&quot; of your
program consists of much more than one (or more) segments. With the
software stack you already detected one additional aspect - which by
the way would be the only one you might not want to save. Anyway there
are things like the heap and the zeropage content. But even if you
could take of all of this you'd still have program state that lives
outside the program - i.e. in the OS. When a c65 program is run then
quite some initialization is done which you as C programmer don't have
control over or access to. From my perspective it is basically
impossible to try to &quot;retrofit&quot; some saved state on this already
partly initialized state.

What seems rather plausible to me is to place all &quot;application-level&quot;
state in fields of a (large) struct. Then you can save / restore that
struct.

Regards,
Oliver
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Jan 27 21:48:07 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="9996.html" title="Next message in the list">Oliver Schmidt: "Re: [cc65] Heise article"</a></li>
<li><dfn>Previous message</dfn>: <a href="9994.html" title="Previous message in the list">Payton Byrd: "[cc65] Lightly Off topic: Need some advice on saving data"</a></li>
<li><dfn>In reply to</dfn>: <a href="9994.html" title="Message to which this message replies">Payton Byrd: "[cc65] Lightly Off topic: Need some advice on saving data"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#9995" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#9995" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#9995" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-01-27 21:48:11 CET
</em></small></p>
</body>
</html>
