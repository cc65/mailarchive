<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Problem with evaluating if</title>
<meta name="Author" content="Gábor Lénárt (lgb1lgb.hu)" />
<meta name="Subject" content="Re: [cc65] Problem with evaluating if with negative numbers" />
<meta name="Date" content="2012-02-03" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Problem with evaluating if with negative numbers</h1>
<!-- received="Fri Feb  3 14:42:34 2012" -->
<!-- isoreceived="20120203134234" -->
<!-- sent="Fri, 3 Feb 2012 14:42:19 +0100" -->
<!-- isosent="20120203134219" -->
<!-- name="Gábor Lénárt" -->
<!-- email="lgb1lgb.hu" -->
<!-- subject="Re: [cc65] Problem with evaluating if with negative numbers" -->
<!-- id="20120203134219.GI3094@vega.lgb.hu" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="CAOQ5ps4mhfJfFbaWMgm9uxr+YCk77_OdOaqMzxCe68pN8fFGTw&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10014.html" title="Joseph Rose: &quot;Re: [cc65] Problem with evaluating if with negative numbers&quot;">Next message</a> ]
[ <a href="10012.html" title="S M: &quot;[cc65] Problem with evaluating if with negative numbers&quot;">Previous message</a> ]
[ <a href="10012.html" title="S M: &quot;[cc65] Problem with evaluating if with negative numbers&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="10014.html" title="Joseph Rose: &quot;Re: [cc65] Problem with evaluating if with negative numbers&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Gábor Lénárt &lt;<a href="mailto:lgb1lgb.hu?Subject=Re:%20[cc65]%20Problem%20with%20evaluating%20if%20with%20negative%20numbers">lgb1lgb.hu</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-02-03 14:42:19</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi,

On Fri, Feb 03, 2012 at 01:24:03PM +0000, S M wrote:
&gt; if (bugs[n].mx &lt; 0 ) {...
&gt; 
&gt; but it didn't work so I had to change it to:
&gt; 
&gt; if ( (bugs[n].mx &gt;=128) &amp;&amp; (bugs[1].mx &lt;=255) ) {...

Even with this, &quot;if (bugs[n].mx&amp;128) { ...&quot; seems to be a better work-around
for me - well at least if bugs[n].mx can't be more than 255, but if
it's a &quot;char&quot; it can't be a problem, I guess. 

&gt; 
&gt; Why the first line doesn't work if .mx is not unsigned ?

But is it signed? Did you specified &quot;signed&quot; in the declaration of your
variable?

What is the exact declaration of that .mx? Please provide the source line.

Afaik (from cc65 dox, command switches):

  &quot;-j, --signed-chars

  Using this option, you can make the default characters signed. Since the
  6502 has no provisions for sign extending characters (which is needed on
  almost any load operation), this will make the code larger and slower. A
  better way is to declare characters explicitly as &quot;signed&quot; if needed. You
  can also use #pragma signed-chars for better control of this option.&quot;

So, I guess, if you define your variable as only &quot;char&quot; (without &quot;signed&quot; or
&quot;unsigned&quot;) it will be &quot;unsigned&quot; by default with CC65 because of the reason
documentation also describes.  You can make it &quot;signed&quot;, if you specify that
in your declaration or if you use that command switch or the mentioned
#pragma.  As far as I can imagine you defined your variable as &quot;char mx;&quot;
and you expected that it will be signed by default (which may be not true
#for cc65).  Try this: &quot;signed char mx;&quot;

If I am correct ...; if not, please fix me, somebody :)

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Feb  3 14:42:34 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10014.html" title="Next message in the list">Joseph Rose: "Re: [cc65] Problem with evaluating if with negative numbers"</a></li>
<li><dfn>Previous message</dfn>: <a href="10012.html" title="Previous message in the list">S M: "[cc65] Problem with evaluating if with negative numbers"</a></li>
<li><dfn>In reply to</dfn>: <a href="10012.html" title="Message to which this message replies">S M: "[cc65] Problem with evaluating if with negative numbers"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="10014.html" title="Next message in this discussion thread">Joseph Rose: "Re: [cc65] Problem with evaluating if with negative numbers"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10013" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10013" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10013" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-02-03 14:42:37 CET
</em></small></p>
</body>
</html>
