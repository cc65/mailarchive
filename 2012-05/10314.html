<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] o65 generation bug?</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] o65 generation bug?" />
<meta name="Date" content="2012-05-26" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] o65 generation bug?</h1>
<!-- received="Sat May 26 12:31:31 2012" -->
<!-- isoreceived="20120526103131" -->
<!-- sent="Sat, 26 May 2012 12:27:10 +0200" -->
<!-- isosent="20120526102710" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] o65 generation bug?" -->
<!-- id="20120526102709.GA18232@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="CACb6e79CRNq2wKYHrJ8GDSv1fTWJT=fPvTX0Kq9to6Nf02tMEg&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10315.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] o65 generation bug?&quot;">Next message</a> ]
[ <a href="10313.html" title="Thomas Giesel: &quot;Re: [cc65] Running C program in a cart&quot;">Previous message</a> ]
[ <a href="10290.html" title="Agent Friday: &quot;Re: [cc65] o65 generation bug?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20o65%20generation%20bug?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-05-26 12:27:10</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Thu, May 17, 2012 at 05:38:39PM -0700, Agent Friday wrote:
&gt;    *sigh* I'm already not a big fan of having a different cfg file for
&gt;    every single target I build, let alone multiple.  I don't know if
&gt;    that's the expectation, but it's how it always ends up for me. 

Yes, that's the way it should be done. You are also required to write
different source code files for your projects, aren't you? The linker config
is similar to other source files. There are some builtin linker configurations
for standard cases as there are some builtin library files that contain
standard subroutines. In both cases, if you need something else, you will have
to write it yourself.

&gt;    &gt; &gt; 2.  Are the __segment_LOAD__ symbols supposed to still work?
&gt;    &gt;
&gt;    &gt; 2. The output format has no effect on the &quot;define=&quot; attribute.
&gt;
&gt;    OK, looks like there's a problem then.  I have not yet been able to
&gt;    get a segment load address correctly into my code if I output to
&gt;    o65.  I'll try some differenrt tests and see what I can learn.

Greg is right here, the linker will always use $0000 as start address for the
relocations, but the symbols are defined using the start address in the config
file. Since the format is relocatable anyway, what is the reason not to use a
start address of $0000?

&gt;    I did an ld65 --dump-config lunix... all I could think to do.  Are 
&gt;    there perhaps better starting points?

The config used for modules is also available and it is simpler. The module
target is used for drivers (tgi, mouse and serial). They use a jump table at
the start of the code for the entry points into the driver.

&gt;    Thanks Uz, hope your have a great vacation.

Thanks! Yes, the vacation was great. I had just some problems with internet.
We were on the third floor of the hotel, while the WLAN access point was on
ground level. So there were only a few (quite inconvenient) positions where I
was able to get a WLAN connection, and just moving the netbook a few
centimeters to one side would cut it. So I didn't write many mails in the last
10 days:-)

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sat May 26 12:31:31 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10315.html" title="Next message in the list">Ullrich von Bassewitz: "Re: [cc65] o65 generation bug?"</a></li>
<li><dfn>Previous message</dfn>: <a href="10313.html" title="Previous message in the list">Thomas Giesel: "Re: [cc65] Running C program in a cart"</a></li>
<li><dfn>In reply to</dfn>: <a href="10290.html" title="Message to which this message replies">Agent Friday: "Re: [cc65] o65 generation bug?"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10314" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10314" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10314" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-05-26 12:31:34 CEST
</em></small></p>
</body>
</html>
