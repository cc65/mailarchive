<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Specifying segment for lib</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Specifying segment for library code?" />
<meta name="Date" content="2012-06-02" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Specifying segment for library code?</h1>
<!-- received="Sat Jun  2 22:20:04 2012" -->
<!-- isoreceived="20120602202004" -->
<!-- sent="Sat, 2 Jun 2012 22:19:56 +0200" -->
<!-- isosent="20120602201956" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Specifying segment for library code?" -->
<!-- id="20120602201956.GA20970@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="CAJm6qqfrGFKSt31D-CsCkFy7W3CCCv68fcEwOZiH16msnvGnrA&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10344.html" title="Oliver Schmidt: &quot;Re: [cc65] Specifying segment for library code?&quot;">Next message</a> ]
[ <a href="10342.html" title="Johan Kotlinski: &quot;Re: [cc65] Specifying segment for library code?&quot;">Previous message</a> ]
[ <a href="10341.html" title="Payton Byrd: &quot;[cc65] Specifying segment for library code?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="10344.html" title="Oliver Schmidt: &quot;Re: [cc65] Specifying segment for library code?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Specifying%20segment%20for%20library%20code?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-06-02 22:19:56</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Fri, Jun 01, 2012 at 03:29:08PM -0500, Payton Byrd wrote:
&gt;    Is there a way to force the shared library code imported by the Linker to
&gt;    reside in a specific segment? I don't want it in &quot;CODE&quot;. 
     
Apart from recompiling: No.

&gt;    It would also be good to be able to specify the segment by function.

There is no automatic solution for this one.

&gt;    For example,  if I have an overlay that uses strncmp, but the main program
&gt;    doesn't, it would be nice to be able to tell the linker to link strncmp to
&gt;    the overlay and not to the main program.

That is possible with an intermediate step. Use the linker to create your main
program. Use some perl magic to retrieve all identifiers from the map file and
generate an asm file with &quot;name := value&quot; pairs. Then assemble and link this
object file to the overlays. As a result, the overlays will use functions in
the main program, if they are already there, and have their own copies of
everything else.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sat Jun  2 22:20:04 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10344.html" title="Next message in the list">Oliver Schmidt: "Re: [cc65] Specifying segment for library code?"</a></li>
<li><dfn>Previous message</dfn>: <a href="10342.html" title="Previous message in the list">Johan Kotlinski: "Re: [cc65] Specifying segment for library code?"</a></li>
<li><dfn>In reply to</dfn>: <a href="10341.html" title="Message to which this message replies">Payton Byrd: "[cc65] Specifying segment for library code?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="10344.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Specifying segment for library code?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="10344.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Specifying segment for library code?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10343" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10343" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10343" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-06-02 22:20:08 CEST
</em></small></p>
</body>
</html>
