<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Odd problems creating a ne</title>
<meta name="Author" content="L. Adamson (leaf1dizzydragon.net)" />
<meta name="Subject" content="Re: [cc65] Odd problems creating a new target." />
<meta name="Date" content="2012-06-21" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Odd problems creating a new target.</h1>
<!-- received="Thu Jun 21 20:36:45 2012" -->
<!-- isoreceived="20120621183645" -->
<!-- sent="Thu, 21 Jun 2012 14:36:27 -0400" -->
<!-- isosent="20120621183627" -->
<!-- name="L. Adamson" -->
<!-- email="leaf1dizzydragon.net" -->
<!-- subject="Re: [cc65] Odd problems creating a new target." -->
<!-- id="CACz_Yz12EHjbcY623O-QUB+K_TC_bPw0-pVzqbu-w3Q-7Max0g@mail.gmail.com" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="CACT=u73NxqL0_6K6VaJcEbY8vePGLnh6RbjMV4QCFJS5TpDSZw&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10380.html" title="Greg King: &quot;Re: [cc65] Hidden64/MemBank128 hidden/far strings&quot;">Next message</a> ]
[ <a href="10378.html" title="Oliver Schmidt: &quot;Re: [cc65] Odd problems creating a new target.&quot;">Previous message</a> ]
[ <a href="10378.html" title="Oliver Schmidt: &quot;Re: [cc65] Odd problems creating a new target.&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="10381.html" title="Oliver Schmidt: &quot;Re: [cc65] Odd problems creating a new target.&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: L. Adamson &lt;<a href="mailto:leaf1dizzydragon.net?Subject=Re:%20[cc65]%20Odd%20problems%20creating%20a%20new%20target.">leaf1dizzydragon.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-06-21 20:36:27</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Thu, Jun 21, 2012 at 10:56 AM, Oliver Schmidt &lt;ol.sc&#64;web&#46;<!--nospam-->de&gt; wrote:
&gt;
&gt; crt0.s: <a href="http://pastebin.com/Wz4sTSPP">http://pastebin.com/Wz4sTSPP</a> (note that init and exit code is
&gt;&gt; commented out. 6502 housekeeping is done by the bootloader and not needed,
&gt;&gt; as well).
&gt;&gt;
&gt; Why do you think that 'zerobss' and 'initlib' are not needed?
&gt;

A bad choice of wording on my part.  I figured that since I was not
accessing any uninitialized values or making any library calls, that it
would be safe to temporarily disable them so that the generated code was
shorter and easier to trace through.  It is reenabled now that the problem
has been solved.

&lt;snip&gt;

&gt; I'd consider the following &quot;SEGMENTS&quot; section more promising:
&gt;
&lt;snip&gt;

Thanks for taking the time to help me out!  For some reason, it didn't even
enter my mind that the order mattered.  Lack of coffee, I s'pose. :P  I've
made the changes you suggest and the disassembly looks a good bit more
orderly now.

The root of the problem ended up being that I wasn't padding multi-sector
images properly to a multiple of 128 bytes, and the last sector of images
of size &gt; 1 sector wasn't getting loaded from the virtual disk!  It's
always something silly that you don't find until the next day and after
posting to a mailing list about, isn't it?  I do apologize for spamming the
list about something so trivial. :3

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Jun 21 20:36:45 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10380.html" title="Next message in the list">Greg King: "Re: [cc65] Hidden64/MemBank128 hidden/far strings"</a></li>
<li><dfn>Previous message</dfn>: <a href="10378.html" title="Previous message in the list">Oliver Schmidt: "Re: [cc65] Odd problems creating a new target."</a></li>
<li><dfn>In reply to</dfn>: <a href="10378.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] Odd problems creating a new target."</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="10381.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Odd problems creating a new target."</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="10381.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Odd problems creating a new target."</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10379" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10379" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10379" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-06-21 20:36:49 CEST
</em></small></p>
</body>
</html>
