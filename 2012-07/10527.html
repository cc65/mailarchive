<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] C64 POSIX dirent stuff act</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] C64 POSIX dirent stuff actually working?" />
<meta name="Date" content="2012-07-29" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] C64 POSIX dirent stuff actually working?</h1>
<!-- received="Sun Jul 29 15:28:47 2012" -->
<!-- isoreceived="20120729132847" -->
<!-- sent="Sun, 29 Jul 2012 15:28:34 +0200" -->
<!-- isosent="20120729132834" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] C64 POSIX dirent stuff actually working?" -->
<!-- id="20120729132834.GA3706@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="201207281510.14581.groepaz&#64;gmx.net" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10528.html" title="Groepaz: &quot;Re: [cc65] C64 POSIX dirent stuff actually working?&quot;">Next message</a> ]
[ <a href="10526.html" title="Spiro Trikaliotis: &quot;Re: [cc65] [ca65] Include dir behaviour change between 2.13.3 and 2.13.9&quot;">Previous message</a> ]
[ <a href="10523.html" title="Groepaz: &quot;Re: [cc65] C64 POSIX dirent stuff actually working?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="10528.html" title="Groepaz: &quot;Re: [cc65] C64 POSIX dirent stuff actually working?&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20C64%20POSIX%20dirent%20stuff%20actually%20working?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-07-29 15:28:34</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Sat, Jul 28, 2012 at 03:10:14PM +0200, Groepaz wrote:
&gt; &gt; Sorry for not remembering your remark there. You seem to look for
&gt; &gt; feedback regarding this design decision. I'd propose to not skip it.
&gt;
&gt; does it show the disk label on a *nix system? i see no sense in getting it to
&gt; be honest - usually you only want to see the files.

The disk label doesn't show up on unix systems, because it's not part of the
directory. On CBM disks, it is. 

It's similar with deleted files: For the CBMs the directory entries might
still be present, so readdir returns them. On a Unix system, deleted entries
are actually that, so they won't show up. 

If you want to do anything with the entries returned by readdir besides just
displaying them, you will have to pass them through a filter that uses the
_DE_ISXXX macros. And if you do that, there's no harm done when returning the
disk label.

So I will probably change the code and return the disk label. I cannot see
anything harmful when returning it, and some programs may benefit.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Jul 29 15:28:47 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10528.html" title="Next message in the list">Groepaz: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<li><dfn>Previous message</dfn>: <a href="10526.html" title="Previous message in the list">Spiro Trikaliotis: "Re: [cc65] [ca65] Include dir behaviour change between 2.13.3 and 2.13.9"</a></li>
<li><dfn>In reply to</dfn>: <a href="10523.html" title="Message to which this message replies">Groepaz: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="10528.html" title="Next message in this discussion thread">Groepaz: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="10528.html" title="Message sent in reply to this message">Groepaz: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<li><dfn>Reply</dfn>:  <a href="10530.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10527" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10527" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10527" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-07-29 15:28:50 CEST
</em></small></p>
</body>
</html>
