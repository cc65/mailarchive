<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] C64 POSIX dirent stuff act</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] C64 POSIX dirent stuff actually working?" />
<meta name="Date" content="2012-08-05" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] C64 POSIX dirent stuff actually working?</h1>
<!-- received="Sun Aug  5 20:14:20 2012" -->
<!-- isoreceived="20120805181420" -->
<!-- sent="Sun, 5 Aug 2012 20:13:49 +0200" -->
<!-- isosent="20120805181349" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] C64 POSIX dirent stuff actually working?" -->
<!-- id="20120805181349.GA8617@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="E3EDC6C7-F3B0-4436-8DA6-12A271320F1B&#64;email.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10544.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] C64 POSIX dirent stuff actually working?&quot;">Next message</a> ]
[ <a href="10542.html" title="Stefan Wessels: &quot;Re: [cc65] C64 POSIX dirent stuff actually working?&quot;">Previous message</a> ]
[ <a href="10542.html" title="Stefan Wessels: &quot;Re: [cc65] C64 POSIX dirent stuff actually working?&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="10544.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] C64 POSIX dirent stuff actually working?&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20C64%20POSIX%20dirent%20stuff%20actually%20working?">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-08-05 20:13:49</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Sun, Aug 05, 2012 at 10:23:17AM -0700, Stefan Wessels wrote:
&gt; I haven't done anything with a filesystem so I am not sure how VICE is set
&gt; up.  I launch with x64 test.c64 and what I get is a listing of all the files
&gt; in the local hard drive directory where I have test.c46.  I did then go to
&gt; settings-&gt;peripheral drives, checked Enable IEC Drive and pointed at a .d64
&gt; file.  Ran the program again and saw the files in that disk image.

Before more people spend work on it: This seems to be a rather weird problem.
I have debugged it for an hour or so. The problems happens here only with true
drive emulation, and not in all cases. Once the drive label entry is read, the
readdir routine does actually get the &quot;BYTES FREE&quot; message, which means that
the end of directory is reached. From what I have seen it looks as if there is
actually nothing on the disk. However doing

load &quot;$&quot;,8
list

returns the full directory. I will have to spend some more work on it. 

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Aug  5 20:14:20 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10544.html" title="Next message in the list">silverdr1wfmh.org.pl: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<li><dfn>Previous message</dfn>: <a href="10542.html" title="Previous message in the list">Stefan Wessels: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<li><dfn>In reply to</dfn>: <a href="10542.html" title="Message to which this message replies">Stefan Wessels: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="10544.html" title="Next message in this discussion thread">silverdr1wfmh.org.pl: "Re: [cc65] C64 POSIX dirent stuff actually working?"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10543" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10543" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10543" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-08-05 20:14:23 CEST
</em></small></p>
</body>
</html>
