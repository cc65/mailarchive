<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Uniform mass storage devic</title>
<meta name="Author" content="Gábor Lénárt (lgb1lgb.hu)" />
<meta name="Subject" content="Re: [cc65] Uniform mass storage device discovery and file locations" />
<meta name="Date" content="2012-08-16" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Uniform mass storage device discovery and file locations</h1>
<!-- received="Thu Aug 16 09:49:44 2012" -->
<!-- isoreceived="20120816074944" -->
<!-- sent="Thu, 16 Aug 2012 09:48:48 +0200" -->
<!-- isosent="20120816074848" -->
<!-- name="Gábor Lénárt" -->
<!-- email="lgb1lgb.hu" -->
<!-- subject="Re: [cc65] Uniform mass storage device discovery and file locations" -->
<!-- id="20120816074848.GC20353@vega.lgb.hu" -->
<!-- charset="iso-8859-1" -->
<!-- inreplyto="-2302930928126182515&#64;unknownmsgid" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10698.html" title="Oliver Schmidt: &quot;Re: [cc65] Uniform mass storage device discovery and file locations&quot;">Next message</a> ]
[ <a href="10696.html" title="Oliver Schmidt: &quot;Re: [cc65] Uniform mass storage device discovery and file locations&quot;">Previous message</a> ]
[ <a href="10696.html" title="Oliver Schmidt: &quot;Re: [cc65] Uniform mass storage device discovery and file locations&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="10698.html" title="Oliver Schmidt: &quot;Re: [cc65] Uniform mass storage device discovery and file locations&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Gábor Lénárt &lt;<a href="mailto:lgb1lgb.hu?Subject=Re:%20[cc65]%20Uniform%20mass%20storage%20device%20discovery%20and%20file%20locations">lgb1lgb.hu</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-08-16 09:48:48</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Re,

On Thu, Aug 16, 2012 at 09:23:07AM +0200, Oliver Schmidt wrote:
&gt; Hi,
&gt; 
&gt; &gt; the library is however ment to support the least common denominator for a
&gt; &gt; generic portable program.
&gt; 
&gt; If &quot;portable&quot; refers to things like POSIX then this would mean to
&gt; remove i.e. conio, tgi, emd, mou, dio, ser ...
&gt; 
&gt; If &quot;portable&quot; refers to cc65-cross-target then this would mean to
&gt; remove i.e. POSIX i/o, stdio, dio, emd, ser, mou ...
&gt; 
&gt; &gt; something like a filemanager would most certainly
&gt; &gt; use target specific code anyway.
&gt; 
&gt; While this may be true we're already into &quot;file management&quot; with
&gt; rename(), remove() - and on hierarchical filesystems with mkdir() and
&gt; rmdir().
&gt; 
&gt; What I however consider the most important point: If we support
&gt; opendir() then this means we're going for scenarios beyond users
&gt; typing in filenames or hardcoded filenames. In those scenarios it' s
&gt; the next logical step to discover not only files in the &quot;current
&gt; location&quot; but in &quot;other locations&quot; as well.

I have the feeling, that this whole topic is a bit &quot;oversized&quot; for a C
compiler targeting CBM machines. What I mean here: some aspects of
POSIX-like VFS assumes quite complex OS-side support for that, on a machine
like C64, the compiler should generated code to support this, since there is
no OS behind which can give you that. But it would create quite massive
sized programs if every compiled C program on C64 also includes the support
code for these ...  It would be better to write a minimalistic (mono tasking
is enough) OS to run these programs on top of it, or having some loadable
module, etc, as not every programs may need such features in detail on an
average CBM platform, I think. Most of them only want to read (or maybe
write) files on a disk drive, and that's all. If someone wants to implement
a file manager using cc65 targeting eg C64, it's another story.

Sorry if I wrote non-sense, I really don't know too much about the
implementation details on these in cc65/etc, but I think one aspect is quite
important: to be able to &quot;leave out&quot; more complex file handling stuffs if
someone does not need it. If it's already decided (or had?) this way, sorry
for the OT, I really use only very basic file I/O without any complex
question about it compared to the recent threads on the list on this topic
:)

- Gábor
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Aug 16 09:49:44 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10698.html" title="Next message in the list">Oliver Schmidt: "Re: [cc65] Uniform mass storage device discovery and file locations"</a></li>
<li><dfn>Previous message</dfn>: <a href="10696.html" title="Previous message in the list">Oliver Schmidt: "Re: [cc65] Uniform mass storage device discovery and file locations"</a></li>
<li><dfn>In reply to</dfn>: <a href="10696.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] Uniform mass storage device discovery and file locations"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="10698.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] Uniform mass storage device discovery and file locations"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="10698.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] Uniform mass storage device discovery and file locations"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10697" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10697" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10697" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-08-16 09:49:48 CEST
</em></small></p>
</body>
</html>
