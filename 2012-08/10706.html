<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Uniform mass storage devic</title>
<meta name="Author" content="Oliver Schmidt (ol.sc1web.de)" />
<meta name="Subject" content="Re: [cc65] Uniform mass storage device discovery and file locations" />
<meta name="Date" content="2012-08-16" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Uniform mass storage device discovery and file locations</h1>
<!-- received="Thu Aug 16 13:56:57 2012" -->
<!-- isoreceived="20120816115657" -->
<!-- sent="Thu, 16 Aug 2012 13:56:46 +0200" -->
<!-- isosent="20120816115646" -->
<!-- name="Oliver Schmidt" -->
<!-- email="ol.sc1web.de" -->
<!-- subject="Re: [cc65] Uniform mass storage device discovery and file locations" -->
<!-- id="CACT=u71v9mjYHDKZt2key9r4AT9Jnr9x35-nw3_WeFueXgNAxw@mail.gmail.com" -->
<!-- charset="ISO-8859-1" -->
<!-- inreplyto="502CDB5B.3050409&#64;sipo.fi" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10707.html" title="Spiro Trikaliotis: &quot;[cc65] [ca65] Relative addressing across segments&quot;">Next message</a> ]
[ <a href="10705.html" title="Karri Kaksonen: &quot;Re: [cc65] Uniform mass storage device discovery and file locations&quot;">Previous message</a> ]
[ <a href="10705.html" title="Karri Kaksonen: &quot;Re: [cc65] Uniform mass storage device discovery and file locations&quot;">In reply to</a> ]
<!-- unextthread="start" -->
[ <a href="10702.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] Uniform mass storage device discovery and file locations&quot;">Next in thread</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Oliver Schmidt &lt;<a href="mailto:ol.sc1web.de?Subject=Re:%20[cc65]%20Uniform%20mass%20storage%20device%20discovery%20and%20file%20locations">ol.sc1web.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-08-16 13:56:46</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi Karri,

&gt; So in my case I would end up with something like: [...]

Okay, if you're not &quot;looking for&quot; a location to store but rather only
want to know if the one loaction you have in mind is there or not than
you're quite close to my proposal. I'm however thinking of strings,
not chars. The potential prototype of rootdir() I gave above was
incorrect as it needs to write into a buffer - sorry for the
confusion. I just looked it up once more in my Apple implementation.

So it would look something like this:

#define ROM0 0
#define ROM1 1
#define EEPROM 2

char eeprom[7];
if (rootdir(EEPROM, eeprom, sizeof(eeprom))) {
  // EEPROM exists
  char currentdrive[7];
  getcwd(currentdrive, sizeof(currentdrive));
  chdir(eeprom);
  fd = open(&quot;0&quot;, O_RDONLY);
  read(fd, &amp;highscoretable, sizeof(highscoretable));
  //close(fd);
  chdir(currentdrive);
}

Regards,
Oliver
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Thu Aug 16 13:56:57 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10707.html" title="Next message in the list">Spiro Trikaliotis: "[cc65] [ca65] Relative addressing across segments"</a></li>
<li><dfn>Previous message</dfn>: <a href="10705.html" title="Previous message in the list">Karri Kaksonen: "Re: [cc65] Uniform mass storage device discovery and file locations"</a></li>
<li><dfn>In reply to</dfn>: <a href="10705.html" title="Message to which this message replies">Karri Kaksonen: "Re: [cc65] Uniform mass storage device discovery and file locations"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="10702.html" title="Next message in this discussion thread">silverdr1wfmh.org.pl: "Re: [cc65] Uniform mass storage device discovery and file locations"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10706" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10706" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10706" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-08-16 13:57:01 CEST
</em></small></p>
</body>
</html>
