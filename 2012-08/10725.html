<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] [ca65] Relative addressing</title>
<meta name="Author" content="Spiro Trikaliotis (ml-cc651trikaliotis.net)" />
<meta name="Subject" content="Re: [cc65] [ca65] Relative addressing across segments" />
<meta name="Date" content="2012-08-17" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] [ca65] Relative addressing across segments</h1>
<!-- received="Fri Aug 17 21:15:43 2012" -->
<!-- isoreceived="20120817191543" -->
<!-- sent="Fri, 17 Aug 2012 21:14:47 +0200" -->
<!-- isosent="20120817191447" -->
<!-- name="Spiro Trikaliotis" -->
<!-- email="ml-cc651trikaliotis.net" -->
<!-- subject="Re: [cc65] [ca65] Relative addressing across segments" -->
<!-- id="20120817191447.GC13811@trikaliotis.net" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="20120817065049.GA23202&#64;trixie.musoftware.de" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10726.html" title="Oliver Schmidt: &quot;Re: [cc65] [PATCH 2/3] Fix documentation for DiskChangeDevice.&quot;">Next message</a> ]
[ <a href="10724.html" title="Spiro Trikaliotis: &quot;[cc65] [PATCH 3/3] Generate libsrc/apple2enh/extra if necessary&quot;">Previous message</a> ]
[ <a href="10712.html" title="Ullrich von Bassewitz: &quot;Re: [cc65] [ca65] Relative addressing across segments&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Spiro Trikaliotis &lt;<a href="mailto:ml-cc651trikaliotis.net?Subject=Re:%20[cc65]%20[ca65]%20Relative%20addressing%20across%20segments">ml-cc651trikaliotis.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-08-17 21:14:47</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hello Uz,

* On Fri, Aug 17, 2012 at 08:50:50AM +0200 Ullrich von Bassewitz wrote:
&gt; 
&gt; Hi!
&gt; 
&gt; On Thu, Aug 16, 2012 at 10:19:25PM +0200, Spiro Trikaliotis wrote:
&gt; &gt; I just found out that a relative branch across segments does not work.
&gt; [...]
&gt; &gt; The assembler complains about the branch target out of range, although
&gt; &gt; this is not necessarily true. This depends upon the linker config.
&gt; 
&gt; It's an assumption built into the assembler. No big issue to change.

Thanks for the hint. I think I found it, see my patch send in the other
mail.

I am not sure if there aren't other places where this feature is used,
though, so I am not completely sure if my patch is right.

Also note that I found that ld65 does not handle it correctly. It will
not complain if there are up to 255 byte between branch and target,
which is clearly wrong. It will only complain if the target is more than
255 byte away. I have not found where to fix this on ld65 yet.

Please consider this patch for inclusion. I will try to find the
corresponding place for ld65, if you tell me that the approach is the
right one.

Regards,
Spiro.

-- 
Spiro R. Trikaliotis
<a href="http://www.trikaliotis.net/">http://www.trikaliotis.net/</a>
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Fri Aug 17 21:15:43 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10726.html" title="Next message in the list">Oliver Schmidt: "Re: [cc65] [PATCH 2/3] Fix documentation for DiskChangeDevice."</a></li>
<li><dfn>Previous message</dfn>: <a href="10724.html" title="Previous message in the list">Spiro Trikaliotis: "[cc65] [PATCH 3/3] Generate libsrc/apple2enh/extra if necessary"</a></li>
<li><dfn>In reply to</dfn>: <a href="10712.html" title="Message to which this message replies">Ullrich von Bassewitz: "Re: [cc65] [ca65] Relative addressing across segments"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10725" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10725" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10725" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-08-17 21:15:48 CEST
</em></small></p>
</body>
</html>
