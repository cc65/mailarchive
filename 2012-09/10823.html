<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Permanent &amp; Temporary </title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Permanent &amp; Temporary Reservation of Memory" />
<meta name="Date" content="2012-09-09" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Permanent &amp; Temporary Reservation of Memory</h1>
<!-- received="Sun Sep  9 14:00:10 2012" -->
<!-- isoreceived="20120909120010" -->
<!-- sent="Sun, 9 Sep 2012 13:59:24 +0200" -->
<!-- isosent="20120909115924" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Permanent &amp; Temporary Reservation of Memory" -->
<!-- id="20120909115923.GA12433@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="CAGuiMHjnEfgQwqjg=25EZK8_gaPS6aqNZXM2ks=kXMN+GvtM4w&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10824.html" title="Shawn Jefferson: &quot;RE: [cc65] Lynx include files&quot;">Next message</a> ]
[ <a href="10822.html" title="thefox xofeht: &quot;Re: [cc65] Permanent &amp; Temporary Reservation of Memory&quot;">Previous message</a> ]
[ <a href="10820.html" title="Michael Bazzinotti: &quot;[cc65] Permanent &amp; Temporary Reservation of Memory&quot;">In reply to</a> ]
<!-- unextthread="start" -->
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Permanent%20&amp;amp;%20Temporary%20Reservation%20of%20Memory">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-09-09 13:59:24</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Sat, Sep 08, 2012 at 06:23:35PM -0400, Michael Bazzinotti wrote:
&gt; Automatically Temporarily Reserving portions of memory
&gt; This would be useful for sections of code / source files, that use a
&gt; chunk of memory, but are no longer needed after the whole section is
&gt; finished executing.
&gt;
&gt; When I say temporary reservation, I suppose I mean temporary symbol
&gt; dubbing, as I am using .RES currently as a way to automatically
&gt; provide addresses for my ram symbols. But I want smarts so that i can
&gt; also release some of the addresses these symbols relate to, so they
&gt; can be reused later on!
&gt;
&gt; But is there a way to automatically name/reserve portions of memory
&gt; and release these names so that further allocations will reuse these
&gt; released addresses????

What you are talking about requires management at runtime and is therefore out
of scope for an assembler. The assembler cannot know at which point of
execution memory is no longer used.

If you want to build that knowledge into your source, you can reassign symbols
as you like:

heap:   .res    $400

.proc   foo
foovar1 := heap + 0
foovar2 := heap + 2
...
.endproc

.proc   bar
barvar1 := heap + 0
barvar2 := heap + 2
...
.endproc

Please note that in the given case it is in your responsibility to make sure
there are no duplicate uses and that the given buffer is large enough. For the
latter, some sort of .assert may help.

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sun Sep  9 14:00:10 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10824.html" title="Next message in the list">Shawn Jefferson: "RE: [cc65] Lynx include files"</a></li>
<li><dfn>Previous message</dfn>: <a href="10822.html" title="Previous message in the list">thefox xofeht: "Re: [cc65] Permanent &amp; Temporary Reservation of Memory"</a></li>
<li><dfn>In reply to</dfn>: <a href="10820.html" title="Message to which this message replies">Michael Bazzinotti: "[cc65] Permanent &amp; Temporary Reservation of Memory"</a></li>
<!-- lnextthread="start" -->
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10823" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10823" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10823" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-09-09 14:00:14 CEST
</em></small></p>
</body>
</html>
