<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] Re: readdir bug</title>
<meta name="Author" content="Ullrich von Bassewitz (uz1musoftware.de)" />
<meta name="Subject" content="Re: [cc65] Re: readdir bug" />
<meta name="Date" content="2012-09-17" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] Re: readdir bug</h1>
<!-- received="Mon Sep 17 17:36:52 2012" -->
<!-- isoreceived="20120917153652" -->
<!-- sent="Mon, 17 Sep 2012 17:36:30 +0200" -->
<!-- isosent="20120917153630" -->
<!-- name="Ullrich von Bassewitz" -->
<!-- email="uz1musoftware.de" -->
<!-- subject="Re: [cc65] Re: readdir bug" -->
<!-- id="20120917153630.GB25082@trixie.musoftware.de" -->
<!-- charset="utf-8" -->
<!-- inreplyto="CACT=u72G=VQi7Od_y9Kt91FpRj2zYcKjyx1ysG-j3AJzwZVuhw&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="10866.html" title="Sandro Mestre: &quot;[cc65] ld65 warning&quot;">Next message</a> ]
[ <a href="10864.html" title="Oliver Schmidt: &quot;Re: [cc65] Re: readdir bug&quot;">Previous message</a> ]
[ <a href="10864.html" title="Oliver Schmidt: &quot;Re: [cc65] Re: readdir bug&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="10870.html" title="Spiro Trikaliotis: &quot;Re: [cc65] Re: readdir bug&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Ullrich von Bassewitz &lt;<a href="mailto:uz1musoftware.de?Subject=Re:%20[cc65]%20Re:%20readdir%20bug">uz1musoftware.de</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2012-09-17 17:36:30</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>Hi!

On Mon, Sep 17, 2012 at 04:04:44PM +0200, Oliver Schmidt wrote:
&gt; &gt; Reading the whole directory in one step uses quite some memory. Unfortunately
&gt; &gt; the only other idea I have is to document this bug and let the programmer
&gt; &gt; handle it.
&gt;
&gt; Is this the final state of affairs? If yes, I'll adjust the multidemo
&gt; sample to work even on the most important cc65 targets ;-)

Actually, I was waiting for comments. Maybe someone has another idea. Reading
the directory in memory would mean that programs using opendir() would always
include the heap module, *and* use space for the linked list, which is quite
an overhead. If there is no other solution, I would prefer to just document it
and let the programmer handle the problem. This way, only programs that need
to open files while reading from the directory would need to build a directory
list on the heap. Maybe the library could offer a wrapper module for this
purpose. 

Regards


        Uz


-- 
Ullrich von Bassewitz                                  uz&#64;musoftware&#46;<!--nospam-->de
----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Mon Sep 17 17:36:52 2012</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="10866.html" title="Next message in the list">Sandro Mestre: "[cc65] ld65 warning"</a></li>
<li><dfn>Previous message</dfn>: <a href="10864.html" title="Previous message in the list">Oliver Schmidt: "Re: [cc65] Re: readdir bug"</a></li>
<li><dfn>In reply to</dfn>: <a href="10864.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] Re: readdir bug"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="10870.html" title="Next message in this discussion thread">Spiro Trikaliotis: "Re: [cc65] Re: readdir bug"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="10870.html" title="Message sent in reply to this message">Spiro Trikaliotis: "Re: [cc65] Re: readdir bug"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#10865" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#10865" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#10865" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2012-09-17 17:36:55 CEST
</em></small></p>
</body>
</html>
