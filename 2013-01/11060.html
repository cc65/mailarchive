<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: Cursory analyses of CBM readdir b</title>
<meta name="Author" content="silverdr1wfmh.org.pl (silverdr1wfmh.org.pl)" />
<meta name="Subject" content="Re: Cursory analyses of CBM readdir bug (was: [cc65] Re: readdir bug)" />
<meta name="Date" content="2013-01-08" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: Cursory analyses of CBM readdir bug (was: [cc65] Re: readdir bug)</h1>
<!-- received="Tue Jan  8 23:08:32 2013" -->
<!-- isoreceived="20130108220832" -->
<!-- sent="Tue, 8 Jan 2013 23:08:21 +0100" -->
<!-- isosent="20130108220821" -->
<!-- name="silverdr1wfmh.org.pl" -->
<!-- email="silverdr1wfmh.org.pl" -->
<!-- subject="Re: Cursory analyses of CBM readdir bug (was: [cc65] Re: readdir bug)" -->
<!-- id="A3209350-02F8-4B3A-80C6-B4212AED3744@wfmh.org.pl" -->
<!-- charset="us-ascii" -->
<!-- inreplyto="942F150B22F6487293275DBAFB196866&#64;Kaiser" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="11061.html" title="silverdr1wfmh.org.pl: &quot;[cc65] Control characters within .ASCIIZ&quot;">Next message</a> ]
[ <a href="11059.html" title="Vince Weaver: &quot;[cc65] ca65, 65816 and far label pointers&quot;">Previous message</a> ]
[ <a href="11052.html" title="Greg King: &quot;Re: Cursory analyses of CBM readdir bug (was: [cc65] Re: readdir bug)&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="11073.html" title="Greg King: &quot;Re: Cursory analyses of CBM readdir bug (was: [cc65] Re: readdir bug)&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: &lt;<a href="mailto:silverdr1wfmh.org.pl?Subject=Re:%20Cursory%20analyses%20of%20CBM%20readdir%20bug%20(was:%20[cc65]%20Re:%20readdir%20bug)">silverdr1wfmh.org.pl</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2013-01-08 23:08:21</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On 2013-01-07, at 14:00, Greg King wrote:

&gt;&gt; ... Funny enough, I
&gt;&gt; never encountered that bug before.
&gt; 
&gt; This issue fits into that famous quote, &quot;It's a feature, not a bug.&quot;
&gt; I think that the purpose is to help us avoid making &quot;splat&quot; files.

Well.. I guess I should be grateful then for the help they provided me rather than whine about the bugs ;-)

&gt; A &quot;well-written&quot; program checks the result status of all disk operations --  including file-closings.  Therefore, the status file should be open for as long as any data file is open.  So, the tradition has been:  Open the command &amp; status file first; and, close it last.

Well written program may as well check for C flag on return, which is a sort of convention with many KERNAL routines. Unfortunately somebody &quot;forgot&quot; to add this to e. g. OPEN call.

&gt;  I suspect that you had not seen that command-channel behavior before now because you always had done that tradition -- before now.

You are very much right! But there were also reasons for that. First, back in the days I had one drive and if someone had two, he was perceived as someone who doesn't know what to do with money ;-) This means I didn't really care about how many files I keep open because the drive itself limited me more than anything else. Second is that programming in a single-task environment didn't call for releasing resources ASAP. This came to me later. Today, a) being well used to immediate release of resources and b) having to deal at the same time with three (each different) drives, uIEC, IDE64 (with two filesystems mounted) means that keeping command channel open for all of them (yes - that's the case here) leaves hardly any room for actual data files being open on them..

Anyway - this is quite OT here. I just recalled a part of older thread upon discovering that behaviour...


----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Tue Jan  8 23:08:32 2013</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="11061.html" title="Next message in the list">silverdr1wfmh.org.pl: "[cc65] Control characters within .ASCIIZ"</a></li>
<li><dfn>Previous message</dfn>: <a href="11059.html" title="Previous message in the list">Vince Weaver: "[cc65] ca65, 65816 and far label pointers"</a></li>
<li><dfn>In reply to</dfn>: <a href="11052.html" title="Message to which this message replies">Greg King: "Re: Cursory analyses of CBM readdir bug (was: [cc65] Re: readdir bug)"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="11073.html" title="Next message in this discussion thread">Greg King: "Re: Cursory analyses of CBM readdir bug (was: [cc65] Re: readdir bug)"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="11073.html" title="Message sent in reply to this message">Greg King: "Re: Cursory analyses of CBM readdir bug (was: [cc65] Re: readdir bug)"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#11060" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#11060" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#11060" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2013-01-08 23:08:35 CET
</em></small></p>
</body>
</html>
