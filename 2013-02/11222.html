<?xml version="1.0" encoding="iso-8859-15"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
<meta name="generator" content="hypermail 2.1.8, see http://www.hypermail.org/" />
<title>cc65 mailing list archive: Re: [cc65] CBM C-Library Features and</title>
<meta name="Author" content="Groepaz (groepaz1gmx.net)" />
<meta name="Subject" content="Re: [cc65] CBM C-Library Features and Usecases" />
<meta name="Date" content="2013-02-23" />
<style type="text/css">
/*<![CDATA[*/
/* To be incorporated in the main stylesheet, don't code it in hypermail! */
body {color: black; background: #ffffff}
dfn {font-weight: bold;}
pre { background-color:inherit;}
.head { border-bottom:1px solid black;}
.foot { border-top:1px solid black;}
th {font-style:italic;}
table { margin-left:2em;}map ul {list-style:none;}
#mid { font-size:0.9em;}
#received { float:right;}
address { font-style:inherit ;}
/*]]>*/
.quotelev1 {color : #990099}
.quotelev2 {color : #ff7700}
.quotelev3 {color : #007799}
.quotelev4 {color : #95c500}
</style>
</head>
<body>
<div class="head">
<h1>Re: [cc65] CBM C-Library Features and Usecases</h1>
<!-- received="Sat Feb 23 14:25:02 2013" -->
<!-- isoreceived="20130223132502" -->
<!-- sent="Sat, 23 Feb 2013 14:22:53 +0100" -->
<!-- isosent="20130223132253" -->
<!-- name="Groepaz" -->
<!-- email="groepaz1gmx.net" -->
<!-- subject="Re: [cc65] CBM C-Library Features and Usecases" -->
<!-- id="201302231422.53233.groepaz@gmx.net" -->
<!-- charset="iso-8859-15" -->
<!-- inreplyto="CACT=u71x1f4wPpw4fuXqDw_FzkDZ2Re9vzjPrgaRRNynDn+Hvg&#64;mail.gmail.com" -->
<!-- expires="-1" -->
<map id="navbar" name="navbar">
<ul class="links">
<li>
<dfn>This message</dfn>:
[ <a href="#start" name="options1" id="options1" tabindex="1">Message body</a> ]
 [ <a href="#options2">More options</a> ]
</li>
<li>
<dfn>Related messages</dfn>:
<!-- unext="start" -->
[ <a href="11223.html" title="Oliver Schmidt: &quot;Re: [cc65] CBM C-Library Features and Usecases&quot;">Next message</a> ]
[ <a href="11221.html" title="silverdr1wfmh.org.pl: &quot;Re: [cc65] CBM C-Library Features and Usecases&quot;">Previous message</a> ]
[ <a href="11219.html" title="Oliver Schmidt: &quot;Re: [cc65] CBM C-Library Features and Usecases&quot;">In reply to</a> ]
<!-- unextthread="start" -->
 [ <a href="11223.html" title="Oliver Schmidt: &quot;Re: [cc65] CBM C-Library Features and Usecases&quot;">Next in thread</a> ]
 [ <a href="#replies">Replies</a> ]
<!-- ureply="end" -->
</li>
</ul>
</map>
</div>
<!-- body="start" -->
<div class="mail">
<address class="headers">
<span id="from">
<dfn>From</dfn>: Groepaz &lt;<a href="mailto:groepaz1gmx.net?Subject=Re:%20[cc65]%20CBM%20C-Library%20Features%20and%20Usecases">groepaz1gmx.net</a>&gt;
</span><br />
<span id="date"><dfn>Date</dfn>: 2013-02-23 14:22:53</span><br />
</address>
<pre id="body">
<a name="start" accesskey="j" id="start"></a>On Friday 22 February 2013, you wrote:
&gt; &gt; thing is, in a typical c64 copy program for example you want to know what
&gt; &gt; physical track/sector you are going to read/write ... if only for
&gt; &gt; visualisation or error messages. an abstract linear layer would not only
&gt; &gt; not
&gt; &gt; be useful, but even be counterproductive at this point.
&gt; 
&gt; Maybe that's just the way you're used to see it?

ofcourse. me and everyone else who has used a copy program on the c64 =)

&gt; The DIO API contains dio_query_sectcount(). This allows a copy program to
&gt; display a progress indicator using percentages. And after all that's what a
&gt; user is interested in: How much longer will it take until it's done.
&gt; Regarding the error message: What does it actually help if I know on which
&gt; track and which sector the error occured?

it helps you to find out if reading or writing fails due to a bad disk - or a 
bad/dirty drive (typically resulting in different problems/patterns). atleast 
if i look at my setup(s), errors are not uncommon, since both drives and disks 
are old. i'd simply not use any program not giving me this kind of info. (and 
a progress indicator is not important at all. if it takes longer than about 25 
seconds, i wont use the program either. basicaly anything direct disk access 
using kernal is mostly an academical excercise for the same reason - a program 
ment to be actually used would come with its own turbo-dos anyway =P)

&gt; If I understand you correctly then dio_phys_to_log() and dio_log_to_phys()
&gt; are the very mappers you're asking for.

but these are provided by the library, not the application, right? meaning the 
application must come with all possible tables (of which most would never be 
used).

&gt; 
&gt; &gt; else it must not only support detecting the drive type, but also
&gt; &gt; deal with like 10 disc formats (counting all CBM targets and all related
&gt; &gt; drives).
&gt; 
&gt; I'm quite sure that you can extend the problem space in a way that it
&gt; becomes close to impossible to implement it. However that doesn't mean that
&gt; it is necessary to do so ;-)
&gt; 
&gt; An implementation supporting just the 1541 would already be WAY better than
&gt; no implementation at all. From the little I understand about CBM drives I
&gt; believe that supporting the 1541, 1571 and 1581 would both be feasable and
&gt; cover many usecases so it might be the sweetspot.

then you have a c64 library. for cbm you'd atleast have to support 8050,8250 
as well. and maybe also sfd-1000. and dont forget the code to detect the 
drives (which is far from trivial to do reliably)

1541 only would be especially pointless - because for that drive all kinds of 
imagineable tools exist already (and better/faster than you could ever do with 
cc65's kernal stuff). i would actually ignore 1541 completely for these 
considerations and try to find out what makes sense for other drives first - 
since those could actually benefit from newly written programs.

-- 

<a href="http://www.hitmen-console.org">http://www.hitmen-console.org</a>    <a href="http://magicdisk.untergrund.net">http://magicdisk.untergrund.net</a>
<a href="http://www.pokefinder.org">http://www.pokefinder.org</a>        <a href="http://ftp.pokefinder.org">http://ftp.pokefinder.org</a>

You do not really understand something unless you can explain it to your 
grandmother 
&lt;Albert Einstein&gt;

----------------------------------------------------------------------
To unsubscribe from the list send mail to majordomo&#64;musoftware&#46;<!--nospam-->de with
the string &quot;unsubscribe cc65&quot; in the body(!) of the mail.
</pre>
<span id="received"><dfn>Received on</dfn> Sat Feb 23 14:25:02 2013</span>
</div>
<!-- body="end" -->
<div class="foot">
<map id="navbarfoot" name="navbarfoot" title="Related messages">
<ul class="links">
<li><dfn>This message</dfn>: [ <a href="#start">Message body</a> ]</li>
<!-- lnext="start" -->
<li><dfn>Next message</dfn>: <a href="11223.html" title="Next message in the list">Oliver Schmidt: "Re: [cc65] CBM C-Library Features and Usecases"</a></li>
<li><dfn>Previous message</dfn>: <a href="11221.html" title="Previous message in the list">silverdr1wfmh.org.pl: "Re: [cc65] CBM C-Library Features and Usecases"</a></li>
<li><dfn>In reply to</dfn>: <a href="11219.html" title="Message to which this message replies">Oliver Schmidt: "Re: [cc65] CBM C-Library Features and Usecases"</a></li>
<!-- lnextthread="start" -->
<li><dfn>Next in thread</dfn>: <a href="11223.html" title="Next message in this discussion thread">Oliver Schmidt: "Re: [cc65] CBM C-Library Features and Usecases"</a></li>
<li><a name="replies" id="replies"></a><dfn>Reply</dfn>:  <a href="11223.html" title="Message sent in reply to this message">Oliver Schmidt: "Re: [cc65] CBM C-Library Features and Usecases"</a></li>
<!-- lreply="end" -->
</ul>
<ul class="links">
<li><a name="options2" id="options2"></a><dfn>Contemporary messages sorted</dfn>: [ <a href="date.html#11222" title="Contemporary messages by date">By Date</a> ] [ <a href="index.html#11222" title="Contemporary discussion threads">By Thread</a> ] [ <a href="subject.html#11222" title="Contemporary messages by subject">By Subject</a> ]</ul>
</map>
</div>
<!-- trailer="footer" -->
<p><small><em>
This archive was generated by <a href="http://www.hypermail.org/">hypermail 2.1.8</a> 
: 2013-02-23 14:25:06 CET
</em></small></p>
</body>
</html>
